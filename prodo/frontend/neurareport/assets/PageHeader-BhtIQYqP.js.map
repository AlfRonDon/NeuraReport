{"version":3,"file":"PageHeader-BhtIQYqP.js","sources":["../../src/components/common/InfoTooltip.jsx","../../src/components/layout/PageHeader.jsx"],"sourcesContent":["import { cloneElement, isValidElement } from 'react'\nimport { IconButton, Tooltip, Typography, Box } from '@mui/material'\nimport { alpha } from '@mui/material/styles'\nimport InfoOutlinedIcon from '@mui/icons-material/InfoOutlined'\nimport { neutral } from '@/app/theme'\n\nconst InfoTooltip = ({\n  content,\n  children = null,\n  placement = 'bottom-start',\n  maxWidth = 480,\n  enterDelay = 200,\n  enterTouchDelay = 0,\n  leaveTouchDelay = 4000,\n  ariaLabel = 'Show additional information',\n  iconColor = 'info',\n  iconProps = {},\n  tooltipSx = [],\n  disableInteractive = false,\n  ...tooltipProps\n}) => {\n  if (content == null) {\n    return null\n  }\n\n  const resolvedContent =\n    typeof content === 'string' ? (\n      <Typography variant=\"body2\" component=\"div\">\n        {content}\n      </Typography>\n    ) : (\n      content\n    )\n\n  const { sx: iconSx = [], ...iconRest } = iconProps\n  const iconSxArray = Array.isArray(iconSx) ? iconSx.filter(Boolean) : [iconSx].filter(Boolean)\n\n  const baseTrigger = isValidElement(children)\n    ? cloneElement(children, {\n        'aria-label': children.props['aria-label'] ?? ariaLabel,\n        tabIndex: children.props.tabIndex ?? 0,\n      })\n    : (\n      <IconButton\n        size=\"small\"\n        color={iconColor}\n        aria-label={ariaLabel}\n        sx={[\n          {\n            fontSize: 18,\n            width: 28,\n            height: 28,\n            p: 0.25,\n            borderRadius: '50%',\n          },\n          ...iconSxArray,\n        ]}\n        {...iconRest}\n      >\n        <InfoOutlinedIcon fontSize=\"inherit\" />\n      </IconButton>\n    )\n\n  const tooltipStyles = Array.isArray(tooltipSx) ? tooltipSx : [tooltipSx]\n\n  return (\n    <Tooltip\n      arrow\n      placement={placement}\n      enterDelay={enterDelay}\n      enterTouchDelay={enterTouchDelay}\n      leaveTouchDelay={leaveTouchDelay}\n      disableInteractive={disableInteractive}\n      slotProps={{\n        tooltip: {\n          sx: [\n            (theme) => ({\n              maxWidth,\n              typography: 'body2',\n              lineHeight: 1.6,\n              px: 2,\n              py: 1.5,\n              color: theme.palette.mode === 'dark' ? neutral[50] : neutral[900],\n              backgroundColor: theme.palette.mode === 'dark'\n                ? alpha(neutral[900], 0.9)\n                : alpha(theme.palette.background.paper, 0.98),\n              boxShadow: theme.shadows[6],\n              borderRadius: 1,  // Figma spec: 8px\n              border: `1px solid ${alpha(theme.palette.text.secondary, 0.35)}`,\n            }),\n            ...tooltipStyles,\n          ],\n        },\n        popper: {\n          modifiers: [\n            {\n              name: 'offset',\n              options: { offset: [0, 12] },\n            },\n            {\n              name: 'preventOverflow',\n              options: { padding: 16 },\n            },\n            {\n              name: 'flip',\n              options: {\n                fallbackPlacements: ['top-start', 'top', 'right', 'left'],\n              },\n            },\n          ],\n        },\n      }}\n      title={<Box sx={{ maxWidth }}>{resolvedContent}</Box>}\n      {...tooltipProps}\n    >\n      {baseTrigger}\n    </Tooltip>\n  )\n}\n\nexport default InfoTooltip\n","import { forwardRef } from 'react'\nimport { Box, Stack, Typography, Breadcrumbs, Link } from '@mui/material'\nimport InfoTooltip from '../common/InfoTooltip.jsx'\n\nconst toArray = (value) => (Array.isArray(value) ? value : value ? [value] : [])\n\nfunction renderCrumb(crumb, index) {\n  if (!crumb) return null\n  if (typeof crumb === 'string') {\n    return (\n      <Typography\n        key={`${crumb}-${index}`}\n        variant=\"body2\"\n        color=\"text.secondary\"\n      >\n        {crumb}\n      </Typography>\n    )\n  }\n  const { label, href, onClick, icon: IconComponent } = crumb\n  const leading = IconComponent ? <IconComponent fontSize=\"inherit\" /> : null\n  if (href || onClick) {\n    return (\n      <Link\n        key={`${label || href || index}-${index}`}\n        underline=\"hover\"\n        color=\"text.secondary\"\n        href={href}\n        onClick={onClick}\n        data-testid={label ? `pageheader-breadcrumb-${label.toLowerCase().replace(/\\s+/g, '-')}` : `pageheader-breadcrumb-${index}`}\n        sx={{\n          display: 'inline-flex',\n          alignItems: 'center',\n          gap: 0.5,\n          fontFamily: 'var(--font-body, \"Inter\", system-ui, sans-serif)',\n          fontSize: 'inherit',\n          letterSpacing: '-0.005em',\n        }}\n      >\n        {leading}\n        <span>{label}</span>\n      </Link>\n    )\n  }\n  return (\n    <Typography\n      key={`${label || index}-${index}`}\n      variant=\"body2\"\n      color=\"text.secondary\"\n      sx={{\n        display: 'inline-flex',\n        alignItems: 'center',\n        gap: 0.5,\n        fontFamily: 'var(--font-body, \"Inter\", system-ui, sans-serif)',\n        letterSpacing: '-0.005em',\n      }}\n    >\n      {leading}\n      <span>{label}</span>\n    </Typography>\n  )\n}\n\nconst PageHeader = forwardRef(function PageHeader(\n  {\n    eyebrow = null,\n    title,\n    description = null,\n    actions = null,\n    breadcrumbs = null,\n    children,\n    sx = [],\n    disablePadding = false,\n    helpContent = null,\n    helpPlacement = 'top',\n    helpTooltipProps = {},\n    ...props\n  },\n  ref,\n) {\n  const sxArray = Array.isArray(sx) ? sx : [sx]\n  const crumbs = toArray(breadcrumbs).filter(Boolean)\n  const hasHelp = !!helpContent\n\n  return (\n    <Box\n      ref={ref}\n      sx={[\n        {\n          width: '100%',\n          pt: disablePadding ? 0 : { xs: 1, sm: 1.5 },\n          pb: disablePadding ? 0 : { xs: 1.5, sm: 2 },\n        },\n        ...sxArray,\n      ]}\n      {...props}\n    >\n      <Stack\n        spacing={1}\n        sx={{\n          alignItems: { xs: 'flex-start', sm: 'stretch' },\n          gap: 1.5,\n        }}\n      >\n        {!!crumbs.length && (\n          <Breadcrumbs\n            aria-label=\"breadcrumb\"\n            separator=\"/\"\n            sx={{ fontSize: '0.9rem', color: 'text.secondary', letterSpacing: '-0.005em' }}\n          >\n            {crumbs.map((crumb, index) => renderCrumb(crumb, index))}\n          </Breadcrumbs>\n        )}\n        <Stack\n          direction={{ xs: 'column', sm: 'row' }}\n          spacing={1.5}\n          alignItems={{ xs: 'flex-start', sm: 'center' }}\n          justifyContent=\"space-between\"\n        >\n          <Stack spacing={0.75}>\n            {eyebrow && (\n              <Typography\n                variant=\"overline\"\n                sx={{\n                  color: 'text.secondary',\n                  letterSpacing: '0.12em',\n                  fontWeight: (theme) => theme.typography.fontWeightBold,\n                }}\n              >\n                {eyebrow}\n              </Typography>\n            )}\n            <Box\n              sx={{\n                display: 'flex',\n                alignItems: 'center',\n                gap: 1,\n                flexWrap: 'wrap',\n              }}\n            >\n              <Typography variant=\"h5\" component=\"h1\">\n                {title}\n              </Typography>\n              {hasHelp ? (\n                <InfoTooltip\n                  content={helpContent}\n                  placement={helpPlacement}\n                  ariaLabel={`More information about ${title}`}\n                  {...helpTooltipProps}\n                />\n              ) : null}\n            </Box>\n            {description && (\n              <Typography variant=\"body1\" color=\"text.secondary\">\n                {description}\n              </Typography>\n            )}\n          </Stack>\n          {actions ? (\n            <Box\n              sx={{\n                display: 'flex',\n                alignItems: 'center',\n                flexWrap: 'wrap',\n                gap: 1,\n              }}\n            >\n              {actions}\n            </Box>\n          ) : null}\n        </Stack>\n        {children}\n      </Stack>\n    </Box>\n  )\n})\n\nexport default PageHeader\n"],"names":["InfoTooltip","content","children","placement","maxWidth","enterDelay","enterTouchDelay","leaveTouchDelay","ariaLabel","iconColor","iconProps","tooltipSx","disableInteractive","tooltipProps","resolvedContent","jsx","Typography","iconSx","iconRest","iconSxArray","baseTrigger","isValidElement","cloneElement","IconButton","InfoOutlinedIcon","tooltipStyles","Tooltip","theme","neutral","alpha","Box","toArray","value","renderCrumb","crumb","index","label","href","onClick","IconComponent","leading","jsxs","Link","PageHeader","forwardRef","eyebrow","title","description","actions","breadcrumbs","sx","disablePadding","helpContent","helpPlacement","helpTooltipProps","props","ref","sxArray","crumbs","hasHelp","Stack","Breadcrumbs"],"mappings":"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"}