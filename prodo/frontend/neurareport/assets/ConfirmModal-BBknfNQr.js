import{u as j,j as o,af as T,B as C,ag as z,N as a,ah as R,f as t,ai as B,aj as W,o as y,e as E,n as s,ak as P,al as F,am as M,K as S,C as Y,r as w,q as A,an as q,h as N,ao as U,ap as K,aq as O,k as v}from"./index-tNjrNcyx.js";import{C as _}from"./CheckCircleOutline-DkNeJ2sB.js";import{W as H}from"./WarningAmber-D6zaqvXu.js";const J=a(R)(({theme:e})=>({"& .MuiBackdrop-root":{backgroundColor:t(e.palette.common.black,.6),backdropFilter:"blur(8px)"}})),L=a(C)(({theme:e})=>({backgroundColor:t(e.palette.background.paper,.95),backdropFilter:"blur(20px)",border:`1px solid ${t(e.palette.divider,.1)}`,borderRadius:8,boxShadow:`
    0 0 0 1px ${t(e.palette.common.white,.05)} inset,
    0 24px 64px ${t(e.palette.common.black,.25)},
    0 8px 32px ${t(e.palette.common.black,.15)}
  `,animation:`${B} 0.3s ease-out`,overflow:"hidden",position:"relative","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:120,background:`linear-gradient(180deg, ${t(e.palette.text.primary,.02)} 0%, transparent 100%)`,pointerEvents:"none"}})),G=a(W)(({theme:e})=>({display:"flex",alignItems:"flex-start",justifyContent:"space-between",padding:e.spacing(3),position:"relative",zIndex:1})),Q=a(y)(({theme:e})=>({fontSize:"1.25rem",fontWeight:600,color:e.palette.text.primary,letterSpacing:"-0.02em"})),V=a(y)(({theme:e})=>({fontSize:"0.875rem",color:e.palette.text.secondary,marginTop:e.spacing(.5)})),X=a(E)(({theme:e})=>({width:32,height:32,borderRadius:8,color:e.palette.text.secondary,transition:"all 0.2s ease","&:hover":{backgroundColor:e.palette.mode==="dark"?t(e.palette.text.primary,.1):s[100],color:e.palette.text.primary,transform:"rotate(90deg)"}})),Z=a(F)(({theme:e})=>({padding:e.spacing(0,3,3),position:"relative",zIndex:1})),ee=a(P)(({theme:e})=>({borderColor:t(e.palette.divider,.08),margin:e.spacing(0,3)})),oe=a(M)(({theme:e})=>({padding:e.spacing(2.5,3),gap:e.spacing(1.5),backgroundColor:t(e.palette.background.paper,.3),borderTop:`1px solid ${t(e.palette.divider,.06)}`})),te=a(S)(({theme:e})=>({borderRadius:8,textTransform:"none",fontWeight:500,fontSize:"0.875rem",padding:e.spacing(1,2.5),color:e.palette.text.secondary,borderColor:t(e.palette.divider,.2),transition:"all 0.2s ease","&:hover":{borderColor:t(e.palette.text.primary,.3),backgroundColor:t(e.palette.text.primary,.04)}})),re=a(S)(({theme:e})=>({borderRadius:8,textTransform:"none",fontWeight:600,fontSize:"0.875rem",padding:e.spacing(1,2.5),transition:"all 0.2s ease","&.primary":{background:e.palette.mode==="dark"?s[700]:s[900],color:e.palette.common.white,boxShadow:`0 4px 14px ${t(e.palette.common.black,.15)}`,"&:hover":{background:e.palette.mode==="dark"?s[500]:s[700],boxShadow:`0 6px 20px ${t(e.palette.common.black,.2)}`,transform:"translateY(-1px)"},"&:active":{transform:"translateY(0)"}},"&.error":{background:e.palette.mode==="dark"?s[700]:s[900],color:e.palette.common.white,boxShadow:`0 4px 14px ${t(e.palette.common.black,.15)}`,"&:hover":{background:e.palette.mode==="dark"?s[500]:s[700],boxShadow:`0 6px 20px ${t(e.palette.common.black,.2)}`,transform:"translateY(-1px)"}}})),ae=a(Y)(({theme:e})=>({color:"inherit"}));function ne({open:e,onClose:n,title:r,subtitle:i,children:l,actions:d,maxWidth:f="sm",fullWidth:p=!0,loading:g=!1,hideCloseButton:m=!1,dividers:u=!0,confirmLabel:b="Confirm",cancelLabel:k="Cancel",onConfirm:c,onCancel:x,confirmDisabled:h=!1,confirmColor:$="primary",confirmVariant:D="contained"}){j();const I=()=>{x?.(),n()};return o.jsxs(J,{open:e,onClose:n,maxWidth:f,fullWidth:p,TransitionComponent:T,TransitionProps:{timeout:200},PaperComponent:L,children:[o.jsxs(G,{children:[o.jsxs(C,{children:[o.jsx(Q,{children:r}),i&&o.jsx(V,{children:i})]}),!m&&o.jsx(X,{onClick:n,size:"small","aria-label":"Close dialog",children:o.jsx(z,{sx:{fontSize:18}})})]}),u&&o.jsx(ee,{}),o.jsx(Z,{children:l}),(d||c)&&o.jsx(oe,{children:d||o.jsxs(o.Fragment,{children:[o.jsx(te,{variant:"outlined",onClick:I,disabled:g,children:k}),o.jsx(re,{variant:D,className:$,onClick:c,disabled:h||g,startIcon:g?o.jsx(ae,{size:16}):null,children:b})]})})]})}const ie=v`
  0%, 100% { transform: scale(1); opacity: 0.5; }
  50% { transform: scale(1.2); opacity: 0.8; }
`,se=v`
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
`,le=a(C,{shouldForwardProp:e=>!["severity","bgColor"].includes(e)})(({theme:e,severity:n,bgColor:r})=>({width:72,height:72,borderRadius:20,backgroundColor:r,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",animation:n==="error"?`${K} 0.5s ease-in-out`:`${O} 0.5s ease-in-out`,"&::before":{content:'""',position:"absolute",inset:-8,borderRadius:28,background:r,opacity:.3,animation:`${ie} 2s infinite ease-in-out`},"&::after":{content:'""',position:"absolute",inset:-1,borderRadius:21,padding:1,background:`linear-gradient(135deg, ${t(e.palette.common.white,.2)}, transparent)`,WebkitMask:`linear-gradient(${e.palette.common.white} 0 0) content-box, linear-gradient(${e.palette.common.white} 0 0)`,WebkitMaskComposite:"xor",maskComposite:"exclude",pointerEvents:"none"}})),ce=a(y)(({theme:e})=>({fontSize:"0.875rem",color:e.palette.text.secondary,lineHeight:1.6,maxWidth:320,animation:`${se} 0.4s ease-out 0.1s both`})),de=(e,n)=>{const r=e.palette.text.secondary,i=e.palette.mode==="dark"?t(e.palette.text.primary,.08):s[100],l={warning:{icon:H,color:r,bgColor:i},error:{icon:U,color:r,bgColor:i},info:{icon:N,color:r,bgColor:i},success:{icon:_,color:r,bgColor:i},question:{icon:q,color:r,bgColor:i}};return l[n]||l.warning},pe="neurareport_preferences",ge=()=>{if(typeof window>"u")return{confirmDelete:!0};try{const e=window.localStorage.getItem(pe);return e?{confirmDelete:JSON.parse(e)?.confirmDelete??!0}:{confirmDelete:!0}}catch{return{confirmDelete:!0}}};function me({open:e,onClose:n,onConfirm:r,title:i="Confirm",message:l,confirmLabel:d="Confirm",cancelLabel:f="Cancel",severity:p="warning",loading:g=!1}){const m=j(),u=de(m,p),b=u.icon,k=p==="error"?"error":"primary",c=w.useRef(!1),x=`${i} ${d}`.toLowerCase().includes("delete");return w.useEffect(()=>{if(!e){c.current=!1;return}if(!x||c.current)return;ge().confirmDelete===!1&&(c.current=!0,r?.(),n?.())},[e,x,r,n]),o.jsx(ne,{open:e,onClose:n,title:i,maxWidth:"xs",onConfirm:r,confirmLabel:d,cancelLabel:f,confirmColor:k,loading:g,dividers:!1,children:o.jsxs(A,{spacing:3,alignItems:"center",textAlign:"center",sx:{py:2},children:[o.jsx(le,{severity:p,bgColor:u.bgColor,children:o.jsx(b,{sx:{fontSize:32,color:u.color,position:"relative",zIndex:1}})}),o.jsx(ce,{children:l})]})})}export{me as C};
