{"version":3,"file":"useSharedData-BFNfRFc2.js","sources":["../../src/hooks/useSharedData.js"],"sourcesContent":["/**\n * useSharedData â€“ Cross-page shared data hook\n *\n * Provides unified access to connections, templates, jobs, and last-used\n * context from useAppStore. Any page that needs shared data should use this\n * hook instead of reaching into useAppStore directly for these fields.\n */\nimport { useCallback, useMemo } from 'react'\nimport { useAppStore } from '@/stores'\n\n/**\n * Returns the core shared data every page may need.\n *\n * @returns {{\n *   connections: Array,\n *   templates: Array,\n *   jobs: Array,\n *   runs: Array,\n *   activeConnectionId: string|null,\n *   activeConnection: object|null,\n *   lastUsed: { connectionId: string|null, templateId: string|null },\n *   templateCatalog: Array,\n *   setActiveConnectionId: Function,\n *   setLastUsed: Function,\n *   getConnectionById: Function,\n *   getTemplateById: Function,\n * }}\n */\nexport default function useSharedData() {\n  const connections = useAppStore((s) => s.savedConnections)\n  const templates = useAppStore((s) => s.templates)\n  const jobs = useAppStore((s) => s.jobs)\n  const runs = useAppStore((s) => s.runs)\n  const activeConnectionId = useAppStore((s) => s.activeConnectionId)\n  const activeConnection = useAppStore((s) => s.activeConnection)\n  const lastUsed = useAppStore((s) => s.lastUsed)\n  const templateCatalog = useAppStore((s) => s.templateCatalog)\n  const setActiveConnectionId = useAppStore((s) => s.setActiveConnectionId)\n  const setLastUsed = useAppStore((s) => s.setLastUsed)\n\n  const getConnectionById = useCallback(\n    (id) => connections.find((c) => c.id === id) || null,\n    [connections],\n  )\n\n  const getTemplateById = useCallback(\n    (id) => templates.find((t) => t.id === id) || null,\n    [templates],\n  )\n\n  const approvedTemplates = useMemo(\n    () => templates.filter((t) => t.status === 'approved'),\n    [templates],\n  )\n\n  return {\n    // Data\n    connections,\n    templates,\n    approvedTemplates,\n    jobs,\n    runs,\n    activeConnectionId,\n    activeConnection,\n    lastUsed,\n    templateCatalog,\n    // Actions\n    setActiveConnectionId,\n    setLastUsed,\n    // Helpers\n    getConnectionById,\n    getTemplateById,\n  }\n}\n"],"names":["useSharedData","connections","useAppStore","s","templates","jobs","runs","activeConnectionId","activeConnection","lastUsed","templateCatalog","setActiveConnectionId","setLastUsed","getConnectionById","useCallback","id","c","getTemplateById","t","approvedTemplates","useMemo"],"mappings":"+CA4Be,SAASA,GAAgB,CACtC,MAAMC,EAAcC,EAAaC,GAAMA,EAAE,gBAAgB,EACnDC,EAAYF,EAAaC,GAAMA,EAAE,SAAS,EAC1CE,EAAOH,EAAaC,GAAMA,EAAE,IAAI,EAChCG,EAAOJ,EAAaC,GAAMA,EAAE,IAAI,EAChCI,EAAqBL,EAAaC,GAAMA,EAAE,kBAAkB,EAC5DK,EAAmBN,EAAaC,GAAMA,EAAE,gBAAgB,EACxDM,EAAWP,EAAaC,GAAMA,EAAE,QAAQ,EACxCO,EAAkBR,EAAaC,GAAMA,EAAE,eAAe,EACtDQ,EAAwBT,EAAaC,GAAMA,EAAE,qBAAqB,EAClES,EAAcV,EAAaC,GAAMA,EAAE,WAAW,EAE9CU,EAAoBC,EAAAA,YACvBC,GAAOd,EAAY,KAAMe,GAAMA,EAAE,KAAOD,CAAE,GAAK,KAChD,CAACd,CAAW,CAChB,EAEQgB,EAAkBH,EAAAA,YACrBC,GAAOX,EAAU,KAAMc,GAAMA,EAAE,KAAOH,CAAE,GAAK,KAC9C,CAACX,CAAS,CACd,EAEQe,EAAoBC,EAAAA,QACxB,IAAMhB,EAAU,OAAQ,GAAM,EAAE,SAAW,UAAU,EACrD,CAACA,CAAS,CACd,EAEE,MAAO,CAEL,YAAAH,EACA,UAAAG,EACA,kBAAAe,EACA,KAAAd,EACA,KAAAC,EACA,mBAAAC,EACA,iBAAAC,EACA,SAAAC,EACA,gBAAAC,EAEA,sBAAAC,EACA,YAAAC,EAEA,kBAAAC,EACA,gBAAAI,CACJ,CACA"}