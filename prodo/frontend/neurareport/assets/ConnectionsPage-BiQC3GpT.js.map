{"version":3,"file":"ConnectionsPage-BiQC3GpT.js","sources":["../../node_modules/@mui/icons-material/esm/TableView.js","../../src/features/connections/components/ConnectionSchemaDrawer.jsx","../../src/features/connections/containers/ConnectionsPageContainer.jsx","../../src/pages/connections/ConnectionsPage.jsx"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 7H9c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2m0 2v2H9V9zm-6 6v-2h2v2zm2 2v2h-2v-2zm-4-2H9v-2h2zm6-2h2v2h-2zm-8 4h2v2H9zm8 2v-2h2v2zM6 17H5c-1.1 0-2-.9-2-2V5c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2v1h-2V5H5v10h1z\"\n}), 'TableView');","/**\n * Premium Connection Schema Drawer\n * Database schema inspector with theme-based styling\n */\nimport { useCallback, useEffect, useMemo, useState } from 'react'\nimport {\n  Box,\n  Stack,\n  Typography,\n  TextField,\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n  Chip,\n  Button,\n  Table,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableBody,\n  Alert,\n  LinearProgress,\n  useTheme,\n  alpha,\n} from '@mui/material'\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore'\nimport RefreshIcon from '@mui/icons-material/Refresh'\nimport VisibilityIcon from '@mui/icons-material/Visibility'\nimport { Drawer } from '@/components/Drawer'\nimport * as api from '@/api/client'\nimport { neutral, palette } from '@/app/theme'\nimport { useInteraction, InteractionType, Reversibility } from '@/components/ux/governance'\n\nconst formatRowCount = (value) => {\n  if (value == null) return 'n/a'\n  return value.toLocaleString()\n}\n\nexport default function ConnectionSchemaDrawer({ open, onClose, connection }) {\n  const theme = useTheme()\n  const { execute } = useInteraction()\n  const [schema, setSchema] = useState(null)\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState(null)\n  const [filter, setFilter] = useState('')\n  const [previewState, setPreviewState] = useState({})\n\n  const fetchSchema = useCallback(async () => {\n    if (!connection?.id) return\n    setLoading(true)\n    setError(null)\n    try {\n      const result = await api.getConnectionSchema(connection.id, {\n        includeRowCounts: true,\n        includeForeignKeys: true,\n      })\n      setSchema(result)\n    } catch (err) {\n      setError(err.message || 'Failed to load schema')\n    } finally {\n      setLoading(false)\n    }\n  }, [connection?.id])\n\n  useEffect(() => {\n    if (open) {\n      fetchSchema()\n    }\n  }, [open, fetchSchema])\n\n  const filteredTables = useMemo(() => {\n    const tables = schema?.tables || []\n    const query = filter.trim().toLowerCase()\n    if (!query) return tables\n    return tables.filter((table) => table.name.toLowerCase().includes(query))\n  }, [schema, filter])\n\n  const handlePreview = useCallback((tableName) => {\n    if (!connection?.id || !tableName) return undefined\n    return execute({\n      type: InteractionType.EXECUTE,\n      label: `Preview ${tableName}`,\n      reversibility: Reversibility.FULLY_REVERSIBLE,\n      suppressSuccessToast: true,\n      intent: { connectionId: connection.id, table: tableName },\n      action: async () => {\n        setPreviewState((prev) => ({\n          ...prev,\n          [tableName]: { ...(prev[tableName] || {}), loading: true, error: null },\n        }))\n        try {\n          const result = await api.getConnectionTablePreview(connection.id, {\n            table: tableName,\n            limit: 6,\n          })\n          setPreviewState((prev) => ({\n            ...prev,\n            [tableName]: {\n              loading: false,\n              error: null,\n              columns: result.columns || [],\n              rows: result.rows || [],\n            },\n          }))\n        } catch (err) {\n          setPreviewState((prev) => ({\n            ...prev,\n            [tableName]: { ...(prev[tableName] || {}), loading: false, error: err.message || 'Preview failed' },\n          }))\n        }\n      },\n    })\n  }, [connection?.id, execute])\n\n  const handleRefreshSchema = useCallback(() => {\n    return execute({\n      type: InteractionType.EXECUTE,\n      label: 'Refresh schema',\n      reversibility: Reversibility.FULLY_REVERSIBLE,\n      suppressSuccessToast: true,\n      intent: { connectionId: connection?.id },\n      action: fetchSchema,\n    })\n  }, [connection?.id, execute, fetchSchema])\n\n  return (\n    <Drawer\n      open={open}\n      onClose={onClose}\n      title=\"Connection Schema\"\n      subtitle={connection?.name || connection?.summary || 'Database overview'}\n      width={680}\n      actions={(\n        <Stack direction=\"row\" spacing={1} justifyContent=\"flex-end\">\n          <Button\n            variant=\"outlined\"\n            onClick={handleRefreshSchema}\n            startIcon={<RefreshIcon />}\n            sx={{\n              borderRadius: 1,  // Figma spec: 8px\n              textTransform: 'none',\n              borderColor: alpha(theme.palette.divider, 0.2),\n              color: theme.palette.text.secondary,\n              '&:hover': {\n                borderColor: theme.palette.mode === 'dark' ? neutral[500] : neutral[700],\n                bgcolor: theme.palette.mode === 'dark' ? alpha(theme.palette.text.primary, 0.08) : neutral[100],\n              },\n            }}\n          >\n            Refresh\n          </Button>\n        </Stack>\n      )}\n    >\n      <Stack spacing={2}>\n        <TextField\n          label=\"Filter tables\"\n          value={filter}\n          onChange={(e) => setFilter(e.target.value)}\n          size=\"small\"\n          fullWidth\n          sx={{\n            '& .MuiOutlinedInput-root': {\n              borderRadius: 1,  // Figma spec: 8px\n              bgcolor: alpha(theme.palette.background.paper, 0.5),\n              '& .MuiOutlinedInput-notchedOutline': {\n                borderColor: alpha(theme.palette.divider, 0.15),\n              },\n              '&:hover .MuiOutlinedInput-notchedOutline': {\n                borderColor: alpha(theme.palette.divider, 0.3),\n              },\n              '&.Mui-focused .MuiOutlinedInput-notchedOutline': {\n                borderColor: theme.palette.mode === 'dark' ? neutral[500] : neutral[700],\n              },\n            },\n          }}\n        />\n        {loading && <LinearProgress sx={{ borderRadius: 1, bgcolor: (theme) => theme.palette.mode === 'dark' ? alpha(theme.palette.text.primary, 0.1) : neutral[100], '& .MuiLinearProgress-bar': { bgcolor: (theme) => theme.palette.mode === 'dark' ? neutral[500] : neutral[700] } }} />}\n        {error && (\n          <Alert\n            severity=\"error\"\n            sx={{ borderRadius: 1 }}  // Figma spec: 8px\n            action={\n              <Button color=\"inherit\" size=\"small\" onClick={handleRefreshSchema}>\n                Retry\n              </Button>\n            }\n          >\n            {error === 'Failed to load schema'\n              ? 'Unable to connect to database. Please verify the connection is active and try again.'\n              : error}\n          </Alert>\n        )}\n        {!loading && !error && (\n          <Typography variant=\"body2\" sx={{ color: theme.palette.text.secondary }}>\n            {schema?.table_count || 0} tables found\n          </Typography>\n        )}\n        {filteredTables.map((table) => {\n          const preview = previewState[table.name] || {}\n          return (\n            <Accordion\n              key={table.name}\n              disableGutters\n              sx={{\n                bgcolor: alpha(theme.palette.background.paper, 0.5),\n                border: `1px solid ${alpha(theme.palette.divider, 0.1)}`,\n                borderRadius: '8px !important',  // Figma spec: 8px\n                '&:before': { display: 'none' },\n                '&.Mui-expanded': {\n                  margin: 0,\n                },\n              }}\n            >\n              <AccordionSummary\n                expandIcon={<ExpandMoreIcon sx={{ color: theme.palette.text.secondary }} />}\n                sx={{\n                  borderRadius: 1,  // Figma spec: 8px\n                  '&:hover': {\n                    bgcolor: theme.palette.mode === 'dark' ? alpha(theme.palette.text.primary, 0.05) : neutral[50],\n                  },\n                }}\n              >\n                <Stack direction=\"row\" spacing={1} alignItems=\"center\">\n                  <Typography sx={{ fontWeight: 600, color: theme.palette.text.primary }}>\n                    {table.name}\n                  </Typography>\n                  <Chip\n                    size=\"small\"\n                    label={`${formatRowCount(table.row_count)} rows`}\n                    sx={{\n                      bgcolor: theme.palette.mode === 'dark' ? alpha(theme.palette.text.primary, 0.08) : neutral[100],\n                      color: theme.palette.text.secondary,\n                      fontSize: '12px',\n                      height: 22,\n                      borderRadius: 1,  // Figma spec: 8px\n                    }}\n                  />\n                </Stack>\n              </AccordionSummary>\n              <AccordionDetails>\n                <Stack spacing={1.5}>\n                  <Box>\n                    <Typography\n                      variant=\"subtitle2\"\n                      sx={{ mb: 1, color: theme.palette.text.primary }}\n                    >\n                      Columns\n                    </Typography>\n                    <Table\n                      size=\"small\"\n                      sx={{\n                        '& .MuiTableCell-head': {\n                          bgcolor: theme.palette.mode === 'dark' ? alpha(theme.palette.text.primary, 0.05) : neutral[50],\n                          fontWeight: 600,\n                          fontSize: '0.75rem',\n                          color: theme.palette.text.secondary,\n                        },\n                        '& .MuiTableCell-body': {\n                          fontSize: '14px',\n                          color: theme.palette.text.primary,\n                        },\n                      }}\n                    >\n                      <TableHead>\n                        <TableRow>\n                          <TableCell>Name</TableCell>\n                          <TableCell>Type</TableCell>\n                          <TableCell>PK</TableCell>\n                          <TableCell>Required</TableCell>\n                        </TableRow>\n                      </TableHead>\n                      <TableBody>\n                        {(table.columns || []).map((column) => (\n                          <TableRow key={column.name}>\n                            <TableCell>{column.name}</TableCell>\n                            <TableCell>{column.type || '-'}</TableCell>\n                            <TableCell>{column.pk ? 'Yes' : '-'}</TableCell>\n                            <TableCell>{column.notnull ? 'Yes' : '-'}</TableCell>\n                          </TableRow>\n                        ))}\n                      </TableBody>\n                    </Table>\n                  </Box>\n\n                  <Box>\n                    <Stack direction=\"row\" spacing={1} alignItems=\"center\" justifyContent=\"space-between\">\n                      <Typography\n                        variant=\"subtitle2\"\n                        sx={{ color: theme.palette.text.primary }}\n                      >\n                        Preview\n                      </Typography>\n                      <Button\n                        size=\"small\"\n                        variant=\"outlined\"\n                        startIcon={<VisibilityIcon />}\n                        onClick={() => handlePreview(table.name)}\n                        sx={{\n                          borderRadius: 1,  // Figma spec: 8px\n                          textTransform: 'none',\n                          fontSize: '0.75rem',\n                          borderColor: alpha(theme.palette.divider, 0.2),\n                          '&:hover': {\n                            borderColor: theme.palette.mode === 'dark' ? neutral[500] : neutral[700],\n                            bgcolor: theme.palette.mode === 'dark' ? alpha(theme.palette.text.primary, 0.08) : neutral[100],\n                          },\n                        }}\n                      >\n                        Load preview\n                      </Button>\n                    </Stack>\n                    {preview.loading && <LinearProgress sx={{ mt: 1, borderRadius: 1, bgcolor: (theme) => theme.palette.mode === 'dark' ? alpha(theme.palette.text.primary, 0.1) : neutral[100], '& .MuiLinearProgress-bar': { bgcolor: (theme) => theme.palette.mode === 'dark' ? neutral[500] : neutral[700] } }} />}\n                    {preview.error && (\n                      <Alert severity=\"error\" sx={{ mt: 1, borderRadius: 1 }}>  {/* Figma spec: 8px */}\n                        {preview.error}\n                      </Alert>\n                    )}\n                    {preview.rows && preview.rows.length > 0 && (\n                      <Table\n                        size=\"small\"\n                        sx={{\n                          mt: 1,\n                          '& .MuiTableCell-head': {\n                            bgcolor: theme.palette.mode === 'dark' ? alpha(theme.palette.text.primary, 0.05) : neutral[50],\n                            fontWeight: 600,\n                            fontSize: '0.75rem',\n                            color: theme.palette.text.secondary,\n                          },\n                          '& .MuiTableCell-body': {\n                            fontSize: '0.75rem',\n                            color: theme.palette.text.primary,\n                          },\n                        }}\n                      >\n                        <TableHead>\n                          <TableRow>\n                            {(preview.columns || []).map((col) => (\n                              <TableCell key={col}>{col}</TableCell>\n                            ))}\n                          </TableRow>\n                        </TableHead>\n                        <TableBody>\n                          {preview.rows.map((row, idx) => (\n                            <TableRow key={`${table.name}-row-${idx}`}>\n                              {(preview.columns || []).map((col) => (\n                                <TableCell key={`${table.name}-${idx}-${col}`}>\n                                  {row[col] == null ? '-' : String(row[col])}\n                                </TableCell>\n                              ))}\n                            </TableRow>\n                          ))}\n                        </TableBody>\n                      </Table>\n                    )}\n                    {!preview.loading && preview.rows && preview.rows.length === 0 && (\n                      <Typography\n                        variant=\"body2\"\n                        sx={{ mt: 1, color: theme.palette.text.secondary }}\n                      >\n                        No rows returned.\n                      </Typography>\n                    )}\n                  </Box>\n                </Stack>\n              </AccordionDetails>\n            </Accordion>\n          )\n        })}\n      </Stack>\n    </Drawer>\n  )\n}\n","/**\n * Premium Connections Page\n * Data source management with theme-based styling\n */\nimport { useState, useCallback, useMemo, useEffect, useRef } from 'react'\nimport {\n  Box,\n  Chip,\n  IconButton,\n  Menu,\n  MenuItem,\n  ListItemIcon,\n  ListItemText,\n  Tooltip,\n  Alert,\n  Stack,\n  useTheme,\n  alpha,\n  styled,\n} from '@mui/material'\nimport AddIcon from '@mui/icons-material/Add'\nimport MoreVertIcon from '@mui/icons-material/MoreVert'\nimport EditIcon from '@mui/icons-material/Edit'\nimport DeleteIcon from '@mui/icons-material/Delete'\nimport RefreshIcon from '@mui/icons-material/Refresh'\nimport CheckCircleIcon from '@mui/icons-material/CheckCircle'\nimport ErrorIcon from '@mui/icons-material/Error'\nimport StorageIcon from '@mui/icons-material/Storage'\nimport TableViewIcon from '@mui/icons-material/TableView'\nimport { DataTable } from '@/components/DataTable'\nimport { ConfirmModal } from '@/components/Modal'\nimport { Drawer } from '@/components/Drawer'\nimport { useAppStore } from '@/stores'\nimport { useToast } from '@/components/ToastProvider'\nimport FavoriteButton from '@/features/favorites/components/FavoriteButton.jsx'\nimport * as api from '@/api/client'\nimport ConnectionForm from '../components/ConnectionForm'\nimport ConnectionSchemaDrawer from '../components/ConnectionSchemaDrawer'\n// UX Governance - Enforced interaction API\nimport {\n  useInteraction,\n  InteractionType,\n  Reversibility,\n} from '@/components/ux/governance'\nimport { neutral, palette, status as statusColors } from '@/app/theme'\nimport { fadeInUp } from '@/styles'\n\n// =============================================================================\n// STYLED COMPONENTS\n// =============================================================================\n\nconst PageContainer = styled(Box)(({ theme }) => ({\n  padding: theme.spacing(3),\n  maxWidth: 1400,\n  margin: '0 auto',\n  width: '100%',\n  minHeight: '100vh',\n  backgroundColor: theme.palette.background.default,\n  animation: `${fadeInUp} 0.5s ease-out`,\n}))\n\nconst StyledMenu = styled(Menu)(({ theme }) => ({\n  '& .MuiPaper-root': {\n    backgroundColor: alpha(theme.palette.background.paper, 0.95),\n    backdropFilter: 'blur(20px)',\n    border: `1px solid ${alpha(theme.palette.divider, 0.1)}`,\n    borderRadius: 8,  // Figma spec: 8px\n    boxShadow: `0 8px 32px ${alpha(theme.palette.common.black, 0.15)}`,\n    minWidth: 160,\n    animation: `${fadeInUp} 0.2s ease-out`,\n  },\n}))\n\nconst StyledMenuItem = styled(MenuItem)(({ theme }) => ({\n  borderRadius: 8,\n  margin: theme.spacing(0.5, 1),\n  padding: theme.spacing(1, 1.5),\n  fontSize: '14px',\n  transition: 'all 0.2s cubic-bezier(0.22, 1, 0.36, 1)',\n  '&:hover': {\n    backgroundColor: theme.palette.mode === 'dark' ? alpha(theme.palette.text.primary, 0.08) : neutral[100],\n  },\n}))\n\nconst IconContainer = styled(Box)(({ theme }) => ({\n  width: 32,\n  height: 32,\n  borderRadius: 8,\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  transition: 'all 0.2s cubic-bezier(0.22, 1, 0.36, 1)',\n}))\n\nconst ActionButton = styled(IconButton)(({ theme }) => ({\n  borderRadius: 8,  // Figma spec: 8px\n  transition: 'all 0.2s cubic-bezier(0.22, 1, 0.36, 1)',\n  '&:hover': {\n    backgroundColor: theme.palette.mode === 'dark' ? alpha(theme.palette.text.primary, 0.08) : neutral[100],\n    transform: 'scale(1.05)',\n  },\n}))\n\n// =============================================================================\n// MAIN COMPONENT\n// =============================================================================\n\nexport default function ConnectionsPage() {\n  const theme = useTheme()\n  const toast = useToast()\n  // UX Governance: Enforced interaction API - ALL user actions flow through this\n  const { execute } = useInteraction()\n  const savedConnections = useAppStore((s) => s.savedConnections)\n  const setSavedConnections = useAppStore((s) => s.setSavedConnections)\n  const addSavedConnection = useAppStore((s) => s.addSavedConnection)\n  const removeSavedConnection = useAppStore((s) => s.removeSavedConnection)\n  const setActiveConnectionId = useAppStore((s) => s.setActiveConnectionId)\n  const activeConnectionId = useAppStore((s) => s.activeConnectionId)\n\n  const [loading, setLoading] = useState(false)\n  const [drawerOpen, setDrawerOpen] = useState(false)\n  const [editingConnection, setEditingConnection] = useState(null)\n  const [deleteConfirmOpen, setDeleteConfirmOpen] = useState(false)\n  const [deletingConnection, setDeletingConnection] = useState(null)\n  const [menuAnchor, setMenuAnchor] = useState(null)\n  const [menuConnection, setMenuConnection] = useState(null)\n  const [schemaOpen, setSchemaOpen] = useState(false)\n  const [schemaConnection, setSchemaConnection] = useState(null)\n  const [favorites, setFavorites] = useState(new Set())\n  const didLoadFavoritesRef = useRef(false)\n\n  useEffect(() => {\n    if (didLoadFavoritesRef.current) return\n    didLoadFavoritesRef.current = true\n    api.getFavorites()\n      .then((data) => {\n        const favIds = (data.connections || []).map((c) => c.id)\n        setFavorites(new Set(favIds))\n      })\n      .catch((err) => {\n        console.error('Failed to load favorites:', err)\n        // Non-critical - don't block UI but log for debugging\n      })\n  }, [])\n\n  const handleFavoriteToggle = useCallback((connectionId, isFavorite) => {\n    setFavorites((prev) => {\n      const next = new Set(prev)\n      if (isFavorite) {\n        next.add(connectionId)\n      } else {\n        next.delete(connectionId)\n      }\n      return next\n    })\n  }, [])\n\n  const handleOpenMenu = useCallback((event, connection) => {\n    event.stopPropagation()\n    setMenuAnchor(event.currentTarget)\n    setMenuConnection(connection)\n  }, [])\n\n  const handleCloseMenu = useCallback(() => {\n    setMenuAnchor(null)\n    setMenuConnection(null)\n  }, [])\n\n  const drawerOpenRef = useRef(false)\n  const handleAddConnection = useCallback(() => {\n    if (drawerOpenRef.current) return // Ref-based guard: prevents double-click opening duplicate drawers\n    drawerOpenRef.current = true\n    setEditingConnection(null)\n    setDrawerOpen(true)\n  }, [])\n\n  const handleEditConnection = useCallback(() => {\n    setEditingConnection(menuConnection)\n    setDrawerOpen(true)\n    handleCloseMenu()\n  }, [menuConnection, handleCloseMenu])\n\n  const handleDeleteClick = useCallback(() => {\n    setDeletingConnection(menuConnection)\n    setDeleteConfirmOpen(true)\n    handleCloseMenu()\n  }, [menuConnection, handleCloseMenu])\n\n  const handleSchemaInspect = useCallback(async () => {\n    if (!menuConnection) return\n    const connectionToInspect = menuConnection\n    handleCloseMenu()\n\n    // UX Governance: Analyze action with tracking\n    execute({\n      type: InteractionType.ANALYZE,\n      label: `Inspect schema for \"${connectionToInspect.name}\"`,\n      reversibility: Reversibility.SYSTEM_MANAGED,\n      errorMessage: 'Unable to connect to database. Please verify the connection is active.',\n      action: async () => {\n        setLoading(true)\n        try {\n          const result = await api.healthcheckConnection(connectionToInspect.id)\n          if (result.status !== 'ok') {\n            throw new Error('Connection is unavailable. Please verify connection settings.')\n          }\n          setSchemaConnection(connectionToInspect)\n          setSchemaOpen(true)\n        } finally {\n          setLoading(false)\n        }\n      },\n    })\n  }, [menuConnection, handleCloseMenu, execute])\n\n  const handleDeleteConfirm = useCallback(async () => {\n    if (!deletingConnection) return\n    const connectionToDelete = deletingConnection\n    const connectionData = savedConnections.find((c) => c.id === connectionToDelete.id)\n\n    setDeleteConfirmOpen(false)\n    setDeletingConnection(null)\n\n    // UX Governance: Delete action with tracking\n    execute({\n      type: InteractionType.DELETE,\n      label: `Delete data source \"${connectionToDelete.name}\"`,\n      reversibility: Reversibility.PARTIALLY_REVERSIBLE,\n      successMessage: `\"${connectionToDelete.name}\" removed`,\n      errorMessage: 'Failed to delete connection',\n      action: async () => {\n        // Remove from UI immediately\n        removeSavedConnection(connectionToDelete.id)\n\n        // Delete from backend immediately (no delayed timeout)\n        try {\n          await api.deleteConnection(connectionToDelete.id)\n        } catch (err) {\n          // If delete fails, restore the connection to UI\n          if (connectionData) {\n            addSavedConnection(connectionData)\n          }\n          throw err\n        }\n\n        // Show undo toast - undo will re-create the connection\n        toast.showWithUndo(\n          `\"${connectionToDelete.name}\" removed`,\n          async () => {\n            // Undo: re-create the connection via API\n            if (connectionData) {\n              try {\n                const restored = await api.upsertConnection({\n                  name: connectionData.name,\n                  dbType: connectionData.db_type,\n                  dbUrl: connectionData.db_url,\n                  database: connectionData.database || connectionData.summary,\n                  status: connectionData.status || 'connected',\n                  latencyMs: connectionData.latency_ms,\n                })\n                addSavedConnection(restored)\n                toast.show('Data source restored', 'success')\n              } catch (restoreErr) {\n                console.error('Failed to restore connection:', restoreErr)\n                toast.show('Failed to restore connection', 'error')\n              }\n            }\n          },\n          { severity: 'info' }\n        )\n      },\n    })\n  }, [deletingConnection, savedConnections, removeSavedConnection, setSavedConnections, toast, execute])\n\n  const handleSaveConnection = useCallback(async (connectionData) => {\n    const isEditing = !!editingConnection\n\n    // UX Governance: Create/Update action with tracking\n    execute({\n      type: isEditing ? InteractionType.UPDATE : InteractionType.CREATE,\n      label: isEditing ? `Update data source \"${connectionData.name}\"` : `Add data source \"${connectionData.name}\"`,\n      reversibility: Reversibility.FULLY_REVERSIBLE,\n      successMessage: isEditing ? 'Data source updated' : 'Data source added',\n      errorMessage: 'Failed to save connection',\n      action: async () => {\n        setLoading(true)\n        try {\n          const result = await api.testConnection(connectionData)\n          if (!result.ok) {\n            throw new Error(result.detail || 'Connection test failed')\n          }\n\n          const savedConnection = await api.upsertConnection({\n            id: editingConnection?.id || result.connection_id,\n            name: connectionData.name,\n            dbType: connectionData.db_type,\n            dbUrl: connectionData.db_url,\n            database: connectionData.database,\n            status: 'connected',\n            latencyMs: result.latency_ms,\n          })\n\n          addSavedConnection(savedConnection)\n          drawerOpenRef.current = false\n          setDrawerOpen(false)\n        } finally {\n          setLoading(false)\n        }\n      },\n    })\n  }, [editingConnection, addSavedConnection, execute])\n\n  const handleTestConnection = useCallback(async (connection) => {\n    // UX Governance: Execute action with tracking\n    execute({\n      type: InteractionType.EXECUTE,\n      label: `Test connection \"${connection.name}\"`,\n      reversibility: Reversibility.SYSTEM_MANAGED,\n      errorMessage: 'Connection test failed',\n      action: async () => {\n        setLoading(true)\n        try {\n          const result = await api.healthcheckConnection(connection.id)\n          if (result.status === 'ok') {\n            toast.show(`Connected (${result.latency_ms}ms)`, 'success')\n          } else {\n            throw new Error('Connection unavailable')\n          }\n        } finally {\n          setLoading(false)\n        }\n      },\n    })\n  }, [toast, execute])\n\n  const handleRowClick = useCallback((row) => {\n    setActiveConnectionId(row.id)\n    toast.show(`Selected: ${row.name}`, 'info')\n  }, [setActiveConnectionId, toast])\n\n  const columns = useMemo(() => [\n    {\n      field: 'name',\n      headerName: 'Name',\n      minWidth: 200,\n      flex: 1, // Take remaining space but ensure minimum width\n      renderCell: (value, row) => (\n        <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n          <FavoriteButton\n            entityType=\"connections\"\n            entityId={row.id}\n            initialFavorite={favorites.has(row.id)}\n            onToggle={(isFav) => handleFavoriteToggle(row.id, isFav)}\n          />\n          <IconContainer\n            sx={{\n              bgcolor: theme.palette.mode === 'dark' ? alpha(theme.palette.text.primary, 0.08) : neutral[100],\n            }}\n          >\n            <StorageIcon sx={{ color: theme.palette.text.secondary, fontSize: 16 }} />\n          </IconContainer>\n          <Box sx={{ minWidth: 0 }}>\n            <Stack direction=\"row\" spacing={1} alignItems=\"center\">\n              <Box data-testid=\"connection-name\" sx={{ fontWeight: 500, fontSize: '14px', color: theme.palette.text.primary }}>\n                {value}\n              </Box>\n              {activeConnectionId === row.id && (\n                <Chip size=\"small\" label=\"Active\" sx={{ bgcolor: (theme) => theme.palette.mode === 'dark' ? alpha(theme.palette.text.primary, 0.1) : neutral[200], color: 'text.secondary' }} />\n              )}\n            </Stack>\n            <Box sx={{ fontSize: '0.75rem', color: theme.palette.text.secondary }}>\n              {row.summary || row.db_type}\n            </Box>\n          </Box>\n        </Box>\n      ),\n    },\n    {\n      field: 'db_type',\n      headerName: 'Type',\n      width: 120,\n      renderCell: (value) => {\n        const typeLabels = { sqlite: 'SQLite', postgresql: 'PostgreSQL', postgres: 'PostgreSQL', mysql: 'MySQL', mssql: 'SQL Server', oracle: 'Oracle', csv: 'CSV', excel: 'Excel', json: 'JSON' }\n        return (\n          <Chip\n            label={typeLabels[(value || '').toLowerCase()] || value || 'Unknown'}\n            size=\"small\"\n            data-testid=\"connection-db-type\"\n            sx={{\n              bgcolor: theme.palette.mode === 'dark' ? alpha(theme.palette.text.primary, 0.08) : neutral[100],\n              color: theme.palette.text.secondary,\n              fontSize: '0.75rem',\n              borderRadius: 1,  // Figma spec: 8px\n            }}\n          />\n        )\n      },\n    },\n    {\n      field: 'status',\n      headerName: 'Status',\n      width: 140,\n      renderCell: (value) => {\n        const isConnected = value === 'connected'\n        return (\n          <Chip\n            icon={isConnected\n              ? <CheckCircleIcon sx={{ fontSize: 14 }} />\n              : <ErrorIcon sx={{ fontSize: 14 }} />\n            }\n            label={value || 'Unknown'}\n            size=\"small\"\n            data-testid=\"connection-status\"\n            sx={{\n              fontSize: '0.75rem',\n              textTransform: 'capitalize',\n              borderRadius: 1,  // Figma spec: 8px\n              bgcolor: isConnected\n                ? alpha(statusColors.success, 0.1)\n                : alpha(statusColors.destructive, 0.1),\n              color: isConnected\n                ? statusColors.success\n                : statusColors.destructive,\n              '& .MuiChip-icon': {\n                color: 'inherit',\n              },\n            }}\n          />\n        )\n      },\n    },\n    {\n      field: 'lastLatencyMs',\n      headerName: 'Latency',\n      width: 100,\n      renderCell: (value) => (\n        <Box data-testid=\"connection-latency\" sx={{ color: theme.palette.text.secondary, fontSize: '14px' }}>\n          {value ? `${value}ms` : '-'}\n        </Box>\n      ),\n    },\n    {\n      field: 'lastConnected',\n      headerName: 'Last Connected',\n      width: 160,\n      renderCell: (value) => {\n        if (!value) return <Box sx={{ color: theme.palette.text.disabled, fontSize: '14px' }}>-</Box>\n        const d = new Date(value)\n        const now = new Date()\n        const diffMs = now - d\n        const diffMin = Math.floor(diffMs / 60000)\n        const diffHr = Math.floor(diffMs / 3600000)\n        const diffDay = Math.floor(diffMs / 86400000)\n        let relative\n        if (diffMin < 1) relative = 'Just now'\n        else if (diffMin < 60) relative = `${diffMin}m ago`\n        else if (diffHr < 24) relative = `${diffHr}h ago`\n        else if (diffDay < 7) relative = `${diffDay}d ago`\n        else relative = d.toLocaleDateString()\n        return (\n          <Tooltip title={d.toLocaleString()} arrow>\n            <Box data-testid=\"connection-last-connected\" sx={{ color: theme.palette.text.secondary, fontSize: '14px', cursor: 'default' }}>\n              {relative}\n            </Box>\n          </Tooltip>\n        )\n      },\n    },\n  ], [favorites, handleFavoriteToggle, theme, activeConnectionId])\n\n  const filters = useMemo(() => [\n    {\n      key: 'status',\n      label: 'Status',\n      options: [\n        { value: 'connected', label: 'Connected' },\n        { value: 'disconnected', label: 'Disconnected' },\n        { value: 'error', label: 'Error' },\n      ],\n    },\n    {\n      key: 'db_type',\n      label: 'Type',\n      options: [\n        { value: 'sqlite', label: 'SQLite' },\n        { value: 'postgresql', label: 'PostgreSQL' },\n      ],\n    },\n  ], [])\n\n  return (\n    <PageContainer>\n      <Alert severity=\"info\" sx={{ mb: 2, borderRadius: 1 }}>\n        Data sources power report runs and AI tools. Use a read-only account when possible. Active sources are labeled\n        and can be switched anytime.\n      </Alert>\n      <DataTable\n        title=\"Data Sources\"\n        subtitle=\"Connect to your databases and data files\"\n        columns={columns}\n        data={savedConnections}\n        loading={loading}\n        searchPlaceholder=\"Search connections...\"\n        filters={filters}\n        actions={[\n          {\n            label: 'Add Data Source',\n            icon: <AddIcon sx={{ fontSize: 18 }} />,\n            variant: 'contained',\n            onClick: handleAddConnection,\n          },\n        ]}\n        onRowClick={handleRowClick}\n        rowActions={(row) => (\n          <Tooltip title=\"More actions\">\n            <ActionButton\n              size=\"small\"\n              onClick={(e) => handleOpenMenu(e, row)}\n              aria-label=\"More actions\"\n              data-testid=\"connection-actions-button\"\n              sx={{ color: theme.palette.text.secondary }}\n            >\n              <MoreVertIcon sx={{ fontSize: 18 }} />\n            </ActionButton>\n          </Tooltip>\n        )}\n        emptyState={{\n          icon: StorageIcon,\n          title: 'No data sources yet',\n          description: 'Connect to a database to start pulling data for your reports.',\n          actionLabel: 'Add Data Source',\n          onAction: handleAddConnection,\n        }}\n      />\n\n      {/* Row Actions Menu */}\n      <StyledMenu\n        anchorEl={menuAnchor}\n        open={Boolean(menuAnchor)}\n        onClose={handleCloseMenu}\n      >\n        <StyledMenuItem\n          onClick={() => { handleTestConnection(menuConnection); handleCloseMenu() }}\n        >\n          <ListItemIcon>\n            <RefreshIcon sx={{ fontSize: 16, color: theme.palette.text.secondary }} />\n          </ListItemIcon>\n          <ListItemText primaryTypographyProps={{ fontSize: '14px' }}>\n            Test Connection\n          </ListItemText>\n        </StyledMenuItem>\n        <StyledMenuItem onClick={handleSchemaInspect}>\n          <ListItemIcon>\n            <TableViewIcon sx={{ fontSize: 16, color: theme.palette.text.secondary }} />\n          </ListItemIcon>\n          <ListItemText primaryTypographyProps={{ fontSize: '14px' }}>\n            Inspect Schema\n          </ListItemText>\n        </StyledMenuItem>\n        <StyledMenuItem onClick={handleEditConnection}>\n          <ListItemIcon>\n            <EditIcon sx={{ fontSize: 16, color: theme.palette.text.secondary }} />\n          </ListItemIcon>\n          <ListItemText primaryTypographyProps={{ fontSize: '14px' }}>\n            Edit\n          </ListItemText>\n        </StyledMenuItem>\n        <StyledMenuItem\n          onClick={handleDeleteClick}\n          sx={{ color: theme.palette.text.primary }}\n        >\n          <ListItemIcon>\n            <DeleteIcon sx={{ fontSize: 16, color: theme.palette.text.secondary }} />\n          </ListItemIcon>\n          <ListItemText primaryTypographyProps={{ fontSize: '14px' }}>\n            Delete\n          </ListItemText>\n        </StyledMenuItem>\n      </StyledMenu>\n\n      {/* Connection Form Drawer */}\n      <Drawer\n        open={drawerOpen}\n        onClose={() => { drawerOpenRef.current = false; setDrawerOpen(false) }}\n        title={editingConnection ? 'Edit Data Source' : 'Add Data Source'}\n        subtitle=\"Enter your database details to connect\"\n        width={520}\n      >\n        <ConnectionForm\n          connection={editingConnection}\n          onSave={handleSaveConnection}\n          onCancel={() => { drawerOpenRef.current = false; setDrawerOpen(false) }}\n          loading={loading}\n        />\n      </Drawer>\n\n      {/* Delete Confirmation */}\n      <ConfirmModal\n        open={deleteConfirmOpen}\n        onClose={() => setDeleteConfirmOpen(false)}\n        onConfirm={handleDeleteConfirm}\n        title=\"Remove Data Source\"\n        message={`Remove \"${deletingConnection?.name}\"? This only removes it from NeuraReport and does not change your database. You can undo this within a few seconds.`}\n        confirmLabel=\"Remove\"\n        severity=\"error\"\n        loading={loading}\n      />\n\n      <ConnectionSchemaDrawer\n        open={schemaOpen}\n        onClose={() => setSchemaOpen(false)}\n        connection={schemaConnection}\n      />\n    </PageContainer>\n  )\n}\n","import { useInteraction } from '@/components/ux/governance'\nimport ConnectionsPageContainer from '@/features/connections/containers/ConnectionsPageContainer'\n\nexport default function ConnectionsPage() {\n  useInteraction()\n  return <ConnectionsPageContainer />\n}\n"],"names":["TableViewIcon","createSvgIcon","_jsx","formatRowCount","value","ConnectionSchemaDrawer","open","onClose","connection","theme","useTheme","execute","useInteraction","schema","setSchema","useState","loading","setLoading","error","setError","filter","setFilter","previewState","setPreviewState","fetchSchema","useCallback","result","api.getConnectionSchema","err","useEffect","filteredTables","useMemo","tables","query","table","handlePreview","tableName","InteractionType","Reversibility","prev","api.getConnectionTablePreview","handleRefreshSchema","jsx","Drawer","Stack","Button","RefreshIcon","alpha","neutral","jsxs","TextField","e","LinearProgress","Alert","Typography","preview","Accordion","AccordionSummary","ExpandMoreIcon","Chip","AccordionDetails","Box","Table","TableHead","TableRow","TableCell","TableBody","column","VisibilityIcon","col","row","idx","PageContainer","styled","fadeInUp","StyledMenu","Menu","StyledMenuItem","MenuItem","IconContainer","ActionButton","IconButton","ConnectionsPage","toast","useToast","savedConnections","useAppStore","s","setSavedConnections","addSavedConnection","removeSavedConnection","setActiveConnectionId","activeConnectionId","drawerOpen","setDrawerOpen","editingConnection","setEditingConnection","deleteConfirmOpen","setDeleteConfirmOpen","deletingConnection","setDeletingConnection","menuAnchor","setMenuAnchor","menuConnection","setMenuConnection","schemaOpen","setSchemaOpen","schemaConnection","setSchemaConnection","favorites","setFavorites","didLoadFavoritesRef","useRef","api.getFavorites","data","favIds","c","handleFavoriteToggle","connectionId","isFavorite","next","handleOpenMenu","event","handleCloseMenu","drawerOpenRef","handleAddConnection","handleEditConnection","handleDeleteClick","handleSchemaInspect","connectionToInspect","api.healthcheckConnection","handleDeleteConfirm","connectionToDelete","connectionData","api.deleteConnection","restored","api.upsertConnection","restoreErr","handleSaveConnection","isEditing","api.testConnection","savedConnection","handleTestConnection","handleRowClick","columns","FavoriteButton","isFav","StorageIcon","typeLabels","isConnected","CheckCircleIcon","ErrorIcon","statusColors","d","diffMs","diffMin","diffHr","diffDay","relative","Tooltip","filters","DataTable","AddIcon","MoreVertIcon","ListItemIcon","ListItemText","EditIcon","DeleteIcon","ConnectionForm","ConfirmModal","ConnectionsPageContainer"],"mappings":"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","x_google_ignoreList":[0]}