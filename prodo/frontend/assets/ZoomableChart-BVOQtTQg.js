import{g as kt,j as l,bJ as j,ab as mt,r as I,B as ot,q as ht,o as Y,p as jt,n as Ot,f as Yt,T as Qt,e as Pt,C as te,aV as ee,b2 as K}from"./index-COTlR4Mk.js";import{g as Lt,D as re,t as At,E as Ct,L as M,f as U,C as Tt,A as $t,a as B,d as zt,b as N,h as ne,e as Rt,j as G,u as Kt,G as Bt,k as ct,S as wt,v as ie,w as ae,x as oe,r as Nt,l as Ft,X as Q,Y as tt,n as Mt,R as se,y as le,z as ce,B as ue,o as yt,T as st,s as lt,p as pe,P as fe,q as de}from"./PieChart-DGDMqPf8.js";const Qe=kt([l.jsx("path",{d:"M21 8c-1.45 0-2.26 1.44-1.93 2.51l-3.55 3.56c-.3-.09-.74-.09-1.04 0l-2.55-2.55C12.27 10.45 11.46 9 10 9c-1.45 0-2.27 1.44-1.93 2.52l-4.56 4.55C2.44 15.74 1 16.55 1 18c0 1.1.9 2 2 2 1.45 0 2.26-1.44 1.93-2.51l4.55-4.56c.3.09.74.09 1.04 0l2.55 2.55C12.73 16.55 13.54 18 15 18c1.45 0 2.27-1.44 1.93-2.52l3.56-3.55c1.07.33 2.51-.48 2.51-1.93 0-1.1-.9-2-2-2"},"0"),l.jsx("path",{d:"m15 9 .94-2.07L18 6l-2.06-.93L15 3l-.92 2.07L12 6l2.08.93zM3.5 11 4 9l2-.5L4 8l-.5-2L3 8l-2 .5L3 9z"},"1")]),he=kt(l.jsx("path",{d:"m15 3 2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3zm6 12-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6zm12-6-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6z"}));var ye=["type","layout","connectNulls","ref"],me=["key"];function q(t){"@babel/helpers - typeof";return q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(t)}function St(t,e){if(t==null)return{};var n=ve(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function et(){return et=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},et.apply(this,arguments)}function _t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_t(Object(n),!0).forEach(function(r){$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V(t){return Ae(t)||ge(t)||xe(t)||be()}function be(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xe(t,e){if(t){if(typeof t=="string")return vt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vt(t,e)}}function ge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ae(t){if(Array.isArray(t))return vt(t)}function vt(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function je(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zt(r.key),r)}}function Oe(t,e,n){return e&&Et(t.prototype,e),n&&Et(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pe(t,e,n){return e=ut(e),we(t,Wt()?Reflect.construct(e,n||[],ut(t).constructor):e.apply(t,n))}function we(t,e){if(e&&(q(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Se(t)}function Se(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wt=function(){return!!t})()}function ut(t){return ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ut(t)}function _e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bt(t,e)}function bt(t,e){return bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bt(t,e)}function $(t,e,n){return e=Zt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zt(t){var e=Ee(t,"string");return q(e)=="symbol"?e:e+""}function Ee(t,e){if(q(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(q(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var it=(function(t){function e(){var n;je(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Pe(this,e,[].concat(i)),$(n,"state",{isAnimationFinished:!0,totalLength:0}),$(n,"generateSimpleStrokeDasharray",function(o,c){return"".concat(c,"px ").concat(o-c,"px")}),$(n,"getStrokeDasharray",function(o,c,s){var y=s.reduce(function(P,w){return P+w});if(!y)return n.generateSimpleStrokeDasharray(c,o);for(var u=Math.floor(o/y),p=o%y,f=c-o,h=[],d=0,b=0;d<s.length;b+=s[d],++d)if(b+s[d]>p){h=[].concat(V(s.slice(0,d)),[p-b]);break}var O=h.length%2===0?[0,f]:[f];return[].concat(V(e.repeat(s,u)),V(h),O).map(function(P){return"".concat(P,"px")}).join(", ")}),$(n,"id",Kt("recharts-line-")),$(n,"pathRef",function(o){n.mainCurve=o}),$(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),$(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return _e(e,t),Oe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,c=a.xAxis,s=a.yAxis,y=a.layout,u=a.children,p=At(u,Ct);if(!p)return null;var f=function(b,O){return{x:b.x,y:b.y,value:b.value,errorVal:G(b.payload,O)}},h={clipPath:r?"url(#clipPath-".concat(i,")"):null};return j.createElement(M,h,p.map(function(d){return j.cloneElement(d,{key:"bar-".concat(d.props.dataKey),data:o,xAxis:c,yAxis:s,layout:y,dataPointFormatter:f})}))}},{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var c=this.props,s=c.dot,y=c.points,u=c.dataKey,p=U(this.props,!1),f=U(s,!0),h=y.map(function(b,O){var P=k(k(k({key:"dot-".concat(O),r:3},p),f),{},{index:O,cx:b.x,cy:b.y,value:b.value,dataKey:u,payload:b.payload,points:y});return e.renderDotItem(s,P)}),d={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return j.createElement(M,et({className:"recharts-line-dots",key:"dots"},d),h)}},{key:"renderCurveStatically",value:function(r,i,a,o){var c=this.props,s=c.type,y=c.layout,u=c.connectNulls;c.ref;var p=St(c,ye),f=k(k(k({},U(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:s,layout:y,connectNulls:u});return j.createElement(Tt,et({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,o=this.props,c=o.points,s=o.strokeDasharray,y=o.isAnimationActive,u=o.animationBegin,p=o.animationDuration,f=o.animationEasing,h=o.animationId,d=o.animateNewValues,b=o.width,O=o.height,P=this.state,w=P.prevPoints,A=P.totalLength;return j.createElement($t,{begin:u,duration:p,isActive:y,easing:f,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(D){var E=D.t;if(w){var m=w.length/c.length,v=c.map(function(g,F){var z=Math.floor(F*m);if(w[z]){var R=w[z],C=B(R.x,g.x),J=B(R.y,g.y);return k(k({},g),{},{x:C(E),y:J(E)})}if(d){var Ht=B(b*2,g.x),Jt=B(O/2,g.y);return k(k({},g),{},{x:Ht(E),y:Jt(E)})}return k(k({},g),{},{x:g.x,y:g.y})});return a.renderCurveStatically(v,r,i)}var S=B(0,A),x=S(E),_;if(s){var L="".concat(s).split(/[,\s]+/gim).map(function(g){return parseFloat(g)});_=a.getStrokeDasharray(x,A,L)}else _=a.generateSimpleStrokeDasharray(A,x);return a.renderCurveStatically(c,r,i,{strokeDasharray:_})})}},{key:"renderCurve",value:function(r,i){var a=this.props,o=a.points,c=a.isAnimationActive,s=this.state,y=s.prevPoints,u=s.totalLength;return c&&o&&o.length&&(!y&&u>0||!zt(y,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,c=i.points,s=i.className,y=i.xAxis,u=i.yAxis,p=i.top,f=i.left,h=i.width,d=i.height,b=i.isAnimationActive,O=i.id;if(a||!c||!c.length)return null;var P=this.state.isAnimationFinished,w=c.length===1,A=mt("recharts-line",s),D=y&&y.allowDataOverflow,E=u&&u.allowDataOverflow,m=D||E,v=N(O)?this.id:O,S=(r=U(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},x=S.r,_=x===void 0?3:x,L=S.strokeWidth,g=L===void 0?2:L,F=ne(o)?o:{},z=F.clipDot,R=z===void 0?!0:z,C=_*2+g;return j.createElement(M,{className:A},D||E?j.createElement("defs",null,j.createElement("clipPath",{id:"clipPath-".concat(v)},j.createElement("rect",{x:D?f:f-h/2,y:E?p:p-d/2,width:D?h:h*2,height:E?d:d*2})),!R&&j.createElement("clipPath",{id:"clipPath-dots-".concat(v)},j.createElement("rect",{x:f-C/2,y:p-C/2,width:h+C,height:d+C}))):null,!w&&this.renderCurve(m,v),this.renderErrorBar(m,v),(w||o)&&this.renderDots(m,R,v),(!b||P)&&Rt.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(V(r),[0]):r,o=[],c=0;c<i;++c)o=[].concat(V(o),V(a));return o}},{key:"renderDotItem",value:function(r,i){var a;if(j.isValidElement(r))a=j.cloneElement(r,i);else if(Lt(r))a=r(i);else{var o=i.key,c=St(i,me),s=mt("recharts-line-dot",typeof r!="boolean"?r.className:"");a=j.createElement(re,et({key:o},c,{className:s}))}return a}}])})(I.PureComponent);$(it,"displayName","Line");$(it,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Bt.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});$(it,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,c=t.bandSize,s=t.displayedData,y=t.offset,u=e.layout,p=s.map(function(f,h){var d=G(f,o);return u==="horizontal"?{x:ct({axis:n,ticks:i,bandSize:c,entry:f,index:h}),y:N(d)?null:r.scale(d),value:d,payload:f}:{x:N(d)?null:n.scale(d),y:ct({axis:r,ticks:a,bandSize:c,entry:f,index:h}),value:d,payload:f}});return k({points:p,layout:u},y)});function X(t){"@babel/helpers - typeof";return X=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(t)}function De(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gt(r.key),r)}}function ke(t,e,n){return e&&Ie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Le(t,e,n){return e=pt(e),Ce(t,Ut()?Reflect.construct(e,n||[],pt(t).constructor):e.apply(t,n))}function Ce(t,e){if(e&&(X(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Te(t)}function Te(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ut(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ut=function(){return!!t})()}function pt(t){return pt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pt(t)}function $e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xt(t,e)}function xt(t,e){return xt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xt(t,e)}function Vt(t,e,n){return e=Gt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gt(t){var e=ze(t,"string");return X(e)=="symbol"?e:e+""}function ze(t,e){if(X(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(X(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dt=(function(t){function e(){return De(this,e),Le(this,e,arguments)}return $e(e,t),ke(e,[{key:"render",value:function(){return null}}])})(I.Component);Vt(dt,"displayName","ZAxis");Vt(dt,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var Re=["option","isActive"];function rt(){return rt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rt.apply(this,arguments)}function Ke(t,e){if(t==null)return{};var n=Be(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Be(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ne(t){var e=t.option,n=t.isActive,r=Ke(t,Re);return typeof e=="string"?I.createElement(wt,rt({option:I.createElement(ie,rt({type:e},r)),isActive:n,shapeType:"symbols"},r)):I.createElement(wt,rt({option:e,isActive:n,shapeType:"symbols"},r))}function H(t){"@babel/helpers - typeof";return H=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(t)}function nt(){return nt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nt.apply(this,arguments)}function Dt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dt(Object(n),!0).forEach(function(r){W(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function It(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xt(r.key),r)}}function Me(t,e,n){return e&&It(t.prototype,e),n&&It(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function We(t,e,n){return e=ft(e),Ze(t,qt()?Reflect.construct(e,n||[],ft(t).constructor):e.apply(t,n))}function Ze(t,e){if(e&&(H(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ue(t)}function Ue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qt=function(){return!!t})()}function ft(t){return ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ft(t)}function Ve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gt(t,e)}function gt(t,e){return gt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gt(t,e)}function W(t,e,n){return e=Xt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xt(t){var e=Ge(t,"string");return H(e)=="symbol"?e:e+""}function Ge(t,e){if(H(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(H(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var at=(function(t){function e(){var n;Fe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=We(this,e,[].concat(i)),W(n,"state",{isAnimationFinished:!1}),W(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),W(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),W(n,"id",Kt("recharts-scatter-")),n}return Ve(e,t),Me(e,[{key:"renderSymbolsStatically",value:function(r){var i=this,a=this.props,o=a.shape,c=a.activeShape,s=a.activeIndex,y=U(this.props,!1);return r.map(function(u,p){var f=s===p,h=f?c:o,d=T(T({},y),u);return j.createElement(M,nt({className:"recharts-scatter-symbol",key:"symbol-".concat(u?.cx,"-").concat(u?.cy,"-").concat(u?.size,"-").concat(p)},ae(i.props,u,p),{role:"img"}),j.createElement(Ne,nt({option:h,isActive:f,key:"symbol-".concat(p)},d)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,i=this.props,a=i.points,o=i.isAnimationActive,c=i.animationBegin,s=i.animationDuration,y=i.animationEasing,u=i.animationId,p=this.state.prevPoints;return j.createElement($t,{begin:c,duration:s,isActive:o,easing:y,from:{t:0},to:{t:1},key:"pie-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var h=f.t,d=a.map(function(b,O){var P=p&&p[O];if(P){var w=B(P.cx,b.cx),A=B(P.cy,b.cy),D=B(P.size,b.size);return T(T({},b),{},{cx:w(h),cy:A(h),size:D(h)})}var E=B(0,b.size);return T(T({},b),{},{size:E(h)})});return j.createElement(M,null,r.renderSymbolsStatically(d))})}},{key:"renderSymbols",value:function(){var r=this.props,i=r.points,a=r.isAnimationActive,o=this.state.prevPoints;return a&&i&&i.length&&(!o||!zt(o,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.points,o=i.xAxis,c=i.yAxis,s=i.children,y=At(s,Ct);return y?y.map(function(u,p){var f=u.props,h=f.direction,d=f.dataKey;return j.cloneElement(u,{key:"".concat(h,"-").concat(d,"-").concat(a[p]),data:a,xAxis:o,yAxis:c,layout:h==="x"?"vertical":"horizontal",dataPointFormatter:function(O,P){return{x:O.cx,y:O.cy,value:h==="x"?+O.node.x:+O.node.y,errorVal:G(O,P)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,i=r.points,a=r.line,o=r.lineType,c=r.lineJointType,s=U(this.props,!1),y=U(a,!1),u,p;if(o==="joint")u=i.map(function(A){return{x:A.cx,y:A.cy}});else if(o==="fitting"){var f=oe(i),h=f.xmin,d=f.xmax,b=f.a,O=f.b,P=function(D){return b*D+O};u=[{x:h,y:P(h)},{x:d,y:P(d)}]}var w=T(T(T({},s),{},{fill:"none",stroke:s&&s.fill},y),{},{points:u});return j.isValidElement(a)?p=j.cloneElement(a,w):Lt(a)?p=a(w):p=j.createElement(Tt,nt({},w,{type:c})),j.createElement(M,{className:"recharts-scatter-line",key:"recharts-scatter-line"},p)}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.points,o=r.line,c=r.className,s=r.xAxis,y=r.yAxis,u=r.left,p=r.top,f=r.width,h=r.height,d=r.id,b=r.isAnimationActive;if(i||!a||!a.length)return null;var O=this.state.isAnimationFinished,P=mt("recharts-scatter",c),w=s&&s.allowDataOverflow,A=y&&y.allowDataOverflow,D=w||A,E=N(d)?this.id:d;return j.createElement(M,{className:P,clipPath:D?"url(#clipPath-".concat(E,")"):null},w||A?j.createElement("defs",null,j.createElement("clipPath",{id:"clipPath-".concat(E)},j.createElement("rect",{x:w?u:u-f/2,y:A?p:p-h/2,width:w?f:f*2,height:A?h:h*2}))):null,o&&this.renderLine(),this.renderErrorBar(),j.createElement(M,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!b||O)&&Rt.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}}])})(I.PureComponent);W(at,"displayName","Scatter");W(at,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Bt.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});W(at,"getComposedData",function(t){var e=t.xAxis,n=t.yAxis,r=t.zAxis,i=t.item,a=t.displayedData,o=t.xAxisTicks,c=t.yAxisTicks,s=t.offset,y=i.props.tooltipType,u=At(i.props.children,Nt),p=N(e.dataKey)?i.props.dataKey:e.dataKey,f=N(n.dataKey)?i.props.dataKey:n.dataKey,h=r&&r.dataKey,d=r?r.range:dt.defaultProps.range,b=d&&d[0],O=e.scale.bandwidth?e.scale.bandwidth():0,P=n.scale.bandwidth?n.scale.bandwidth():0,w=a.map(function(A,D){var E=G(A,p),m=G(A,f),v=!N(h)&&G(A,h)||"-",S=[{name:N(e.dataKey)?i.props.name:e.name||e.dataKey,unit:e.unit||"",value:E,payload:A,dataKey:p,type:y},{name:N(n.dataKey)?i.props.name:n.name||n.dataKey,unit:n.unit||"",value:m,payload:A,dataKey:f,type:y}];v!=="-"&&S.push({name:r.name||r.dataKey,unit:r.unit||"",value:v,payload:A,dataKey:h,type:y});var x=ct({axis:e,ticks:o,bandSize:O,entry:A,index:D,dataKey:p}),_=ct({axis:n,ticks:c,bandSize:P,entry:A,index:D,dataKey:f}),L=v!=="-"?r.scale(v):b,g=Math.sqrt(Math.max(L,0)/Math.PI);return T(T({},A),{},{cx:x,cy:_,x:x-g,y:_-g,xAxis:e,yAxis:n,zAxis:r,width:2*g,height:2*g,size:L,node:{x:E,y:m,z:v},tooltipPayload:S,tooltipPosition:{x,y:_},payload:A},u&&u[D]&&u[D].props)});return T({points:w},s)});var qe=Ft({chartName:"LineChart",GraphicalChild:it,axisComponents:[{axisType:"xAxis",AxisComp:Q},{axisType:"yAxis",AxisComp:tt}],formatAxisMap:Mt}),Xe=Ft({chartName:"ScatterChart",GraphicalChild:at,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:Q},{axisType:"yAxis",AxisComp:tt},{axisType:"zAxis",AxisComp:dt}],formatAxisMap:Mt});const Z=[K.violet[500],K.emerald[500],K.cyan[500],K.rose[500],K.teal[500],K.fuchsia[500],K.slate[500],K.zinc[500]],He={top:8,right:16,bottom:24,left:8};function tr({data:t=[],spec:e={},height:n=350,showBrush:r=!0,showZoomControls:i=!0}){const a=I.useRef(null),[o,c]=I.useState(!1),[s,y]=I.useState({refAreaLeft:null,refAreaRight:null,startIndex:0,endIndex:null,isZoomed:!1}),{type:u="bar",xField:p,yFields:f=[],title:h}=e,d=I.useMemo(()=>{if(!t||t.length===0)return[];if(s.isZoomed&&s.startIndex!==null){const m=s.endIndex??t.length;return t.slice(s.startIndex,m+1)}return t},[t,s]),b=I.useCallback(m=>{m?.activeLabel&&y(v=>({...v,refAreaLeft:m.activeLabel,refAreaRight:null}))},[]),O=I.useCallback(m=>{!s.refAreaLeft||!m?.activeLabel||y(v=>({...v,refAreaRight:m.activeLabel}))},[s.refAreaLeft]),P=I.useCallback(()=>{if(!s.refAreaLeft||!s.refAreaRight){y(g=>({...g,refAreaLeft:null,refAreaRight:null}));return}let m=s.refAreaLeft,v=s.refAreaRight;const S=t.findIndex(g=>g[p]===m),x=t.findIndex(g=>g[p]===v);S>x&&([m,v]=[v,m]);const _=Math.min(S,x),L=Math.max(S,x);if(L-_<1){y(g=>({...g,refAreaLeft:null,refAreaRight:null}));return}y({refAreaLeft:null,refAreaRight:null,startIndex:_,endIndex:L,isZoomed:!0})},[s.refAreaLeft,s.refAreaRight,t,p]),w=I.useCallback(()=>{y({refAreaLeft:null,refAreaRight:null,startIndex:0,endIndex:null,isZoomed:!1})},[]),A=I.useCallback(async()=>{if(a.current){c(!0);try{const m=a.current.querySelector("svg");if(!m){console.warn("No SVG found to export");return}const v=m.cloneNode(!0),S=document.createElementNS("http://www.w3.org/2000/svg","rect");S.setAttribute("width","100%"),S.setAttribute("height","100%"),S.setAttribute("fill","white"),v.insertBefore(S,v.firstChild);const x=m.getBoundingClientRect();v.setAttribute("width",x.width),v.setAttribute("height",x.height);const _=new XMLSerializer().serializeToString(v),L=new Blob([_],{type:"image/svg+xml;charset=utf-8"}),g=URL.createObjectURL(L),F=document.createElement("canvas"),z=F.getContext("2d"),R=new Image;R.onload=()=>{F.width=x.width*2,F.height=x.height*2,z.scale(2,2),z.fillStyle="white",z.fillRect(0,0,x.width,x.height),z.drawImage(R,0,0);const C=F.toDataURL("image/png"),J=document.createElement("a");J.href=C,J.download=`chart_${h||"export"}_${Date.now()}.png`,J.click(),URL.revokeObjectURL(g),c(!1)},R.onerror=()=>{const C=document.createElement("a");C.href=g,C.download=`chart_${h||"export"}_${Date.now()}.svg`,C.click(),URL.revokeObjectURL(g),c(!1)},R.src=g}catch(m){console.error("Failed to export chart:",m),c(!1)}}},[h]),D=I.useCallback(m=>{if(!m)return;const{startIndex:v,endIndex:S}=m;v!==void 0&&S!==void 0&&y(x=>({...x,startIndex:v,endIndex:S,isZoomed:v>0||S<t.length-1}))},[t.length]),E=()=>{if(!p||f.length===0)return l.jsx(ot,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:n},children:l.jsx(Y,{color:"text.secondary",children:"Invalid chart configuration"})});if(!d||d.length===0)return l.jsx(ot,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:n},children:l.jsx(Y,{color:"text.secondary",children:"No data available"})});const m={data:d,margin:He,onMouseDown:u!=="pie"?b:void 0,onMouseMove:u!=="pie"?O:void 0,onMouseUp:u!=="pie"?P:void 0},v=s.refAreaLeft&&s.refAreaRight?l.jsx(le,{x1:s.refAreaLeft,x2:s.refAreaRight,strokeOpacity:.3,fill:K.violet[500],fillOpacity:.3}):null,S=r&&u!=="pie"&&t.length>10?l.jsx(ce,{dataKey:p,height:24,stroke:K.violet[500],travellerWidth:8,onChange:D,startIndex:s.startIndex,endIndex:s.endIndex??t.length-1}):null;switch(u){case"line":return l.jsxs(qe,{...m,children:[l.jsx(yt,{strokeDasharray:"3 3"}),l.jsx(Q,{dataKey:p,tick:{fontSize:12}}),l.jsx(tt,{tick:{fontSize:12}}),l.jsx(st,{}),l.jsx(lt,{}),f.map((x,_)=>l.jsx(it,{type:"monotone",dataKey:x,stroke:Z[_%Z.length],strokeWidth:2,dot:{r:3},activeDot:{r:5}},x)),v,S]});case"pie":return l.jsxs(fe,{children:[l.jsx(de,{data:d,dataKey:f[0],nameKey:p,cx:"50%",cy:"50%",innerRadius:"40%",outerRadius:"75%",label:({name:x,percent:_})=>`${x}: ${(_*100).toFixed(0)}%`,labelLine:{stroke:Ot[500],strokeWidth:1},children:d.map((x,_)=>l.jsx(Nt,{fill:Z[_%Z.length]},`cell-${_}`))}),l.jsx(st,{}),l.jsx(lt,{})]});case"scatter":return l.jsxs(Xe,{...m,children:[l.jsx(yt,{strokeDasharray:"3 3"}),l.jsx(Q,{dataKey:p,name:p,tick:{fontSize:12}}),l.jsx(tt,{dataKey:f[0],name:f[0],tick:{fontSize:12}}),l.jsx(st,{cursor:{strokeDasharray:"3 3"}}),l.jsx(lt,{}),l.jsx(at,{name:f[0],data:d,fill:Z[0]}),v,S]});default:return l.jsxs(ue,{...m,children:[l.jsx(yt,{strokeDasharray:"3 3"}),l.jsx(Q,{dataKey:p,tick:{fontSize:12}}),l.jsx(tt,{tick:{fontSize:12}}),l.jsx(st,{}),l.jsx(lt,{}),f.map((x,_)=>l.jsx(pe,{dataKey:x,fill:Z[_%Z.length],radius:[4,4,0,0]},x)),v,S]})}};return l.jsxs(ot,{children:[l.jsxs(ht,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:1},children:[l.jsxs(ht,{direction:"row",spacing:1,alignItems:"center",children:[h&&l.jsx(Y,{variant:"subtitle1",fontWeight:600,children:h}),l.jsx(jt,{label:u.toUpperCase(),size:"small",variant:"outlined"}),s.isZoomed&&l.jsx(jt,{label:"Zoomed",size:"small",sx:{bgcolor:m=>m.palette.mode==="dark"?Yt(m.palette.text.primary,.1):Ot[200],color:"text.secondary"}})]}),l.jsxs(ht,{direction:"row",spacing:.5,alignItems:"center",children:[l.jsx(Qt,{title:"Export chart as PNG",children:l.jsx(Pt,{size:"small",onClick:A,disabled:o,children:o?l.jsx(te,{size:16}):l.jsx(ee,{fontSize:"small"})})}),i&&u!=="pie"&&l.jsxs(l.Fragment,{children:[l.jsx(Pt,{size:"small",onClick:w,disabled:!s.isZoomed,title:"Reset zoom",children:l.jsx(he,{fontSize:"small"})}),l.jsx(Y,{variant:"caption",color:"text.secondary",children:"Drag to zoom"})]})]})]}),l.jsx(ot,{ref:a,sx:{width:"100%",height:n},children:l.jsx(se,{width:"100%",height:"100%",children:E()})}),e.description&&l.jsx(Y,{variant:"body2",color:"text.secondary",sx:{mt:1},children:e.description})]})}export{Qe as I,tr as Z};
