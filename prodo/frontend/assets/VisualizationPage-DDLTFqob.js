import{c as v,j as n,a as d,bC as X,e as Z,d as ee,u as H,r as f,bf as ae,R as re,I as te,B as l,T as p,n as W,o as B,p as x,N,s as S,as as ne,P as se,J as y,k as j,aM as ie}from"./index-B8Eu23bA.js";import{G as oe}from"./AccountTree-Cae7_7GH.js";import{G as ce}from"./FormatListNumbered-BwlQmvGR.js";import{N as le}from"./BubbleChart-BJjHDTqT.js";import{C as de}from"./Cloud-BjXKCnvy.js";import{C as $}from"./BarChart-ClLuOAaO.js";import{C as ge}from"./Code-C_kZAZjt.js";import{I as ue}from"./Image-BhWnM7a2.js";import{a as me,C as pe}from"./CardContent-xJVpuEbT.js";import{P as he}from"./Visibility-DQVh5lRN.js";const ye=v(n.jsx("path",{d:"M12 12.75c1.63 0 3.07.39 4.24.9 1.08.48 1.76 1.56 1.76 2.73V18H6v-1.61c0-1.18.68-2.26 1.76-2.73 1.17-.52 2.61-.91 4.24-.91M4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58C.48 14.9 0 15.62 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29M20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m4 3.43c0-.81-.48-1.53-1.22-1.85-.85-.37-1.79-.58-2.78-.58-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24zM12 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3"})),fe=v(n.jsx("path",{d:"M8.4 18.2c.38.5.6 1.12.6 1.8 0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3c.44 0 .85.09 1.23.26l1.41-1.77c-.92-1.03-1.29-2.39-1.09-3.69l-2.03-.68c-.54.83-1.46 1.38-2.52 1.38-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3c0 .07 0 .14-.01.21l2.03.68c.64-1.21 1.82-2.09 3.22-2.32V5.91C9.96 5.57 9 4.4 9 3c0-1.66 1.34-3 3-3s3 1.34 3 3c0 1.4-.96 2.57-2.25 2.91v2.16c1.4.23 2.58 1.11 3.22 2.32L18 9.71V9.5c0-1.66 1.34-3 3-3s3 1.34 3 3-1.34 3-3 3c-1.06 0-1.98-.55-2.52-1.37l-2.03.68c.2 1.29-.16 2.65-1.09 3.69l1.41 1.77Q17.34 17 18 17c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3c0-.68.22-1.3.6-1.8l-1.41-1.77c-1.35.75-3.01.76-4.37 0z"})),xe=v(n.jsx("path",{d:"M16 17.01V10h-2v7.01h-3L15 21l4-3.99zM9 3 5 6.99h3V14h2V6.99h3z"})),we=v(n.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7V7h2zm4-5h-2V7h2zm4 3h-2V7h2z"}));async function be(e,r={}){return(await d.post("/visualization/diagrams/flowchart",{data:e,title:r.title||null,orientation:r.orientation||"vertical",style:r.style||"default"})).data}async function ve(e,r={}){return(await d.post("/visualization/diagrams/mindmap",{data:e,title:r.title||null,max_depth:r.maxDepth||null,style:r.style||"default"})).data}async function Ce(e,r={}){return(await d.post("/visualization/diagrams/org-chart",{data:e,title:r.title||null,show_photos:r.showPhotos||!1,style:r.style||"default"})).data}async function ke(e,r={}){return(await d.post("/visualization/diagrams/timeline",{data:e,title:r.title||null,date_format:r.dateFormat||"YYYY-MM-DD",style:r.style||"default"})).data}async function De(e,r={}){return(await d.post("/visualization/diagrams/gantt",{data:e,title:r.title||null,show_dependencies:r.showDependencies!==!1,show_progress:r.showProgress!==!1,style:r.style||"default"})).data}async function je(e,r={}){return(await d.post("/visualization/diagrams/network",{data:e,title:r.title||null,layout:r.layout||"force",show_labels:r.showLabels!==!1,style:r.style||"default"})).data}async function Se(e,r={}){return(await d.post("/visualization/diagrams/kanban",{data:e,title:r.title||null,columns:r.columns||null,style:r.style||"default"})).data}async function Te(e,r={}){return(await d.post("/visualization/diagrams/sequence",{data:e,title:r.title||null,style:r.style||"default"})).data}async function Pe(e,r={}){return(await d.post("/visualization/diagrams/wordcloud",{data:e,title:r.title||null,max_words:r.maxWords||100,min_frequency:r.minFrequency||1,colormap:r.colormap||"viridis"})).data}async function ze(e,r={}){return(await d.post("/visualization/charts/from-table",{table_data:e,chart_type:r.chartType||"auto",x_column:r.xColumn||null,y_columns:r.yColumns||null,title:r.title||null})).data}async function Ie(e,r={}){return(await d.post("/visualization/charts/sparklines",{data:e,width:r.width||100,height:r.height||30,color:r.color||"#3b82f6",show_min_max:r.showMinMax||!1})).data}async function Ae(e){return(await d.get(`/visualization/diagrams/${e}/mermaid`)).data}async function Me(e){return(await d.get(`/visualization/diagrams/${e}/svg`)).data}async function Ee(e){return(await d.get(`/visualization/diagrams/${e}/png`,{responseType:"blob"})).data}async function _e(){return(await d.get("/visualization/types/diagrams")).data}async function Re(){return(await d.get("/visualization/types/charts")).data}const Ge=X((e,r)=>({diagrams:[],currentDiagram:null,diagramTypes:[],chartTypes:[],loading:!1,generating:!1,error:null,setLoading:t=>e({loading:t}),setError:t=>e({error:t}),generateFlowchart:async(t,s={})=>{e({generating:!0,error:null});try{const a=await be(t,s);return e(o=>({diagrams:[a,...o.diagrams].slice(0,200),currentDiagram:a,generating:!1})),a}catch(a){return e({error:a.message,generating:!1}),null}},generateMindmap:async(t,s={})=>{e({generating:!0,error:null});try{const a=await ve(t,s);return e(o=>({diagrams:[a,...o.diagrams].slice(0,200),currentDiagram:a,generating:!1})),a}catch(a){return e({error:a.message,generating:!1}),null}},generateOrgChart:async(t,s={})=>{e({generating:!0,error:null});try{const a=await Ce(t,s);return e(o=>({diagrams:[a,...o.diagrams].slice(0,200),currentDiagram:a,generating:!1})),a}catch(a){return e({error:a.message,generating:!1}),null}},generateTimeline:async(t,s={})=>{e({generating:!0,error:null});try{const a=await ke(t,s);return e(o=>({diagrams:[a,...o.diagrams].slice(0,200),currentDiagram:a,generating:!1})),a}catch(a){return e({error:a.message,generating:!1}),null}},generateGantt:async(t,s={})=>{e({generating:!0,error:null});try{const a=await De(t,s);return e(o=>({diagrams:[a,...o.diagrams].slice(0,200),currentDiagram:a,generating:!1})),a}catch(a){return e({error:a.message,generating:!1}),null}},generateNetworkGraph:async(t,s={})=>{e({generating:!0,error:null});try{const a=await je(t,s);return e(o=>({diagrams:[a,...o.diagrams].slice(0,200),currentDiagram:a,generating:!1})),a}catch(a){return e({error:a.message,generating:!1}),null}},generateKanban:async(t,s={})=>{e({generating:!0,error:null});try{const a=await Se(t,s);return e(o=>({diagrams:[a,...o.diagrams].slice(0,200),currentDiagram:a,generating:!1})),a}catch(a){return e({error:a.message,generating:!1}),null}},generateSequenceDiagram:async(t,s={})=>{e({generating:!0,error:null});try{const a=await Te(t,s);return e(o=>({diagrams:[a,...o.diagrams].slice(0,200),currentDiagram:a,generating:!1})),a}catch(a){return e({error:a.message,generating:!1}),null}},generateWordcloud:async(t,s={})=>{e({generating:!0,error:null});try{const a=await Pe(t,s);return e(o=>({diagrams:[a,...o.diagrams].slice(0,200),currentDiagram:a,generating:!1})),a}catch(a){return e({error:a.message,generating:!1}),null}},tableToChart:async(t,s={})=>{e({generating:!0,error:null});try{const a=await ze(t,s);return e({currentDiagram:a,generating:!1}),a}catch(a){return e({error:a.message,generating:!1}),null}},generateSparklines:async(t,s={})=>{e({generating:!0,error:null});try{const a=await Ie(t,s);return e({generating:!1}),a}catch(a){return e({error:a.message,generating:!1}),null}},exportAsMermaid:async t=>{e({loading:!0,error:null});try{const s=await Ae(t);return e({loading:!1}),s}catch(s){return e({error:s.message,loading:!1}),null}},exportAsSvg:async t=>{e({loading:!0,error:null});try{const s=await Me(t);return e({loading:!1}),s}catch(s){return e({error:s.message,loading:!1}),null}},exportAsPng:async t=>{e({loading:!0,error:null});try{const s=await Ee(t);return e({loading:!1}),s}catch(s){return e({error:s.message,loading:!1}),null}},fetchDiagramTypes:async()=>{try{const t=await _e();return e({diagramTypes:t||[]}),t}catch(t){return e({error:t.message}),[]}},fetchChartTypes:async()=>{try{const t=await Re();return e({chartTypes:t||[]}),t}catch(t){return e({error:t.message}),[]}},setCurrentDiagram:t=>e({currentDiagram:t}),clearDiagrams:()=>e({diagrams:[],currentDiagram:null}),reset:()=>e({currentDiagram:null,error:null})})),Oe=y(l)(({theme:e})=>({display:"flex",flexDirection:"column",height:"calc(100vh - 64px)",backgroundColor:e.palette.background.default})),Le=y(l)(({theme:e})=>({padding:e.spacing(2,3),borderBottom:`1px solid ${x(e.palette.divider,.1)}`,backgroundColor:x(e.palette.background.paper,.8)})),Ve=y(l)(({theme:e})=>({flex:1,display:"flex",overflow:"hidden"})),qe=y(l)(({theme:e})=>({width:300,borderRight:`1px solid ${x(e.palette.divider,.1)}`,backgroundColor:x(e.palette.background.paper,.6),padding:e.spacing(2),overflow:"auto"})),Fe=y(l)(({theme:e})=>({flex:1,padding:e.spacing(3),display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.background.default,overflow:"auto"})),We=y(pe)(({theme:e,selected:r})=>({cursor:"pointer",transition:"all 0.2s ease",marginBottom:e.spacing(1),border:r?`2px solid ${e.palette.mode==="dark"?j[1e3]:j[1100]}`:`1px solid ${x(e.palette.divider,.2)}`,"&:hover":{backgroundColor:e.palette.mode==="dark"?x(e.palette.text.primary,.05):j[200]}})),Be=y(ie)(({theme:e})=>({padding:e.spacing(3),maxWidth:"100%",maxHeight:"70vh",overflow:"auto",backgroundColor:e.palette.background.paper})),Ne=y(S)(({theme:e})=>({borderRadius:8,textTransform:"none",fontWeight:500})),U=[{type:"flowchart",name:"Flowchart",description:"Process and decision flows",icon:oe,color:"primary"},{type:"mindmap",name:"Mind Map",description:"Hierarchical idea mapping",icon:fe,color:"secondary"},{type:"org_chart",name:"Org Chart",description:"Organizational structure",icon:ye,color:"info"},{type:"timeline",name:"Timeline",description:"Chronological events",icon:ae,color:"warning"},{type:"gantt",name:"Gantt Chart",description:"Project scheduling",icon:ce,color:"success"},{type:"kanban",name:"Kanban Board",description:"Task management",icon:we,color:"error"},{type:"network",name:"Network Graph",description:"Connections and relationships",icon:le,color:"primary"},{type:"sequence",name:"Sequence Diagram",description:"Process interactions",icon:xe,color:"secondary"},{type:"wordcloud",name:"Word Cloud",description:"Text frequency visualization",icon:de,color:"info"}],J={flowchart:`Start Application
Validate Input
Check Database?
Process Request
Return Response
End`,mindmap:`Product Strategy
  Market Research
    Competitor Analysis
    Customer Interviews
  Product Development
    Feature Planning
    Technical Design
  Go-to-Market
    Pricing Strategy
    Launch Campaign`,org_chart:`[
  {"name": "Sarah Chen", "role": "CEO", "id": "ceo"},
  {"name": "John Smith", "role": "CTO", "reports_to": "ceo", "id": "cto"},
  {"name": "Lisa Wong", "role": "CFO", "reports_to": "ceo", "id": "cfo"},
  {"name": "Mike Johnson", "role": "VP Engineering", "reports_to": "cto", "id": "vp-eng"},
  {"name": "Amy Liu", "role": "VP Finance", "reports_to": "cfo", "id": "vp-fin"}
]`,timeline:`2023-01: Project Kickoff
2023-03: Requirements Complete
2023-06: Design Phase Complete
2023-09: Development Complete
2023-11: Beta Launch
2024-01: Public Release`,gantt:`[
  {"id": "design", "name": "Design Phase", "start": "2024-01-01", "end": "2024-01-31", "progress": 100},
  {"id": "dev", "name": "Development", "start": "2024-02-01", "end": "2024-04-15", "progress": 60, "dependencies": ["design"]},
  {"id": "test", "name": "Testing", "start": "2024-04-01", "end": "2024-05-01", "progress": 20, "dependencies": ["dev"]},
  {"id": "launch", "name": "Launch", "start": "2024-05-01", "end": "2024-05-15", "progress": 0, "dependencies": ["test"]}
]`,kanban:`To Do: Research competitors
To Do: Define user personas
In Progress: Design landing page
In Progress: Set up analytics
Review: API documentation
Done: Project kickoff
Done: Team onboarding`,network:`Marketing -> Sales
Sales -> Support
Support -> Product
Product -> Engineering
Engineering -> QA
QA -> Product
Marketing -> Product`,sequence:`User -> Frontend: Click Login
Frontend -> Auth Service: POST /login
Auth Service -> Database: Query User
Database -> Auth Service: User Data
Auth Service -> Frontend: JWT Token
Frontend -> User: Redirect to Dashboard`,wordcloud:"innovation technology growth digital transformation customer experience data analytics cloud computing artificial intelligence machine learning automation efficiency productivity collaboration strategy innovation digital growth"};function $e(){const e=Z(),r=ee(),{execute:t}=H(),{diagrams:s,currentDiagram:a,loading:o,generating:C,error:T,generateFlowchart:P,generateMindmap:z,generateOrgChart:I,generateTimeline:A,generateGantt:M,generateKanban:E,generateNetworkGraph:_,generateSequenceDiagram:R,generateWordcloud:k,exportAsMermaid:G,exportAsSvg:O,exportAsPng:L,reset:V}=Ge(),[m,Y]=f.useState(U[0]),[g,b]=f.useState(""),[w,D]=f.useState(""),[q,Ue]=f.useState({});f.useEffect(()=>()=>V(),[V]);const K=()=>{switch(m.type){case"flowchart":return`Enter steps separated by newlines:
Start
Process Data
Decision Point
End`;case"mindmap":return`Enter hierarchical data:
Main Topic
  Subtopic 1
    Detail A
  Subtopic 2`;case"org_chart":return`Enter org structure (JSON):
[{"name": "CEO", "children": [{"name": "CTO"}, {"name": "CFO"}]}]`;case"timeline":return`Enter events (one per line):
2020-01: Project Started
2021-06: Phase 1 Complete
2022-12: Launch`;case"gantt":return`Enter tasks (JSON):
[{"task": "Design", "start": "2024-01-01", "end": "2024-01-15"}]`;case"kanban":return`Enter tasks with status:
Todo: Task 1
In Progress: Task 2
Done: Task 3`;case"network":return`Enter connections:
A -> B
B -> C
C -> A`;case"sequence":return`Enter interactions:
User -> Server: Request
Server -> Database: Query
Database -> Server: Response`;case"wordcloud":return`Enter text to analyze or word frequencies:
word1 word2 word3
or
{"innovation": 50, "technology": 40, "growth": 30}`;default:return"Enter data..."}},Q=f.useCallback(async()=>{if(!g.trim()){r.show("Please enter data","warning");return}const c=async()=>{let i=null;const u={title:w,...q};try{switch(m.type){case"flowchart":i=await P({steps:g.split(`
`).filter(Boolean)},u);break;case"mindmap":i=await z({text:g},u);break;case"org_chart":i=await I(JSON.parse(g),u);break;case"timeline":i=await A({events:g.split(`
`).filter(Boolean)},u);break;case"gantt":i=await M(JSON.parse(g),u);break;case"kanban":i=await E({tasks:g},u);break;case"network":i=await _({connections:g.split(`
`).filter(Boolean)},u);break;case"sequence":i=await R({interactions:g.split(`
`).filter(Boolean)},u);break;case"wordcloud":try{const h=JSON.parse(g);i=await k({frequencies:h},u)}catch{i=await k({text:g},u)}break;default:break}return i&&r.show("Diagram generated","success"),i}catch(h){throw r.show(`Error: ${h.message}`,"error"),h}};return t({type:te.CREATE,label:`Generate ${m.name}`,reversibility:re.FULLY_REVERSIBLE,intent:{source:"visualization",type:m.type},action:c})},[t,P,M,E,z,_,I,R,A,k,g,q,m,w,r]),F=f.useCallback(async c=>{if(!a?.id)return;let i;switch(c){case"mermaid":i=await G(a.id),i&&(navigator.clipboard.writeText(i.code),r.show("Mermaid code copied","success"));break;case"svg":i=await O(a.id);break;case"png":if(i=await L(a.id),i){const u=URL.createObjectURL(i),h=document.createElement("a");h.href=u,h.download=`${w||"diagram"}.png`,h.click(),URL.revokeObjectURL(u),r.show("PNG downloaded","success")}break}},[a?.id,G,L,O,w,r]);return n.jsxs(Oe,{children:[n.jsx(Le,{children:n.jsxs(l,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsxs(l,{sx:{display:"flex",alignItems:"center",gap:2},children:[n.jsx($,{sx:{color:"text.secondary",fontSize:28}}),n.jsxs(l,{children:[n.jsx(p,{variant:"h6",sx:{fontWeight:600},children:"Visualization Studio"}),n.jsx(p,{variant:"body2",color:"text.secondary",children:"Generate diagrams, charts, and visualizations"})]})]}),a&&n.jsxs(l,{sx:{display:"flex",gap:1},children:[n.jsx(W,{title:"Copy Mermaid Code",children:n.jsx(B,{onClick:()=>F("mermaid"),children:n.jsx(ge,{})})}),n.jsx(W,{title:"Download PNG",children:n.jsx(B,{onClick:()=>F("png"),children:n.jsx(ue,{})})})]})]})}),n.jsxs(Ve,{children:[n.jsxs(qe,{children:[n.jsx(p,{variant:"subtitle2",sx:{fontWeight:600,mb:2},children:"Diagram Type"}),U.map(c=>n.jsx(We,{selected:m.type===c.type,onClick:()=>{Y(c),b("")},children:n.jsx(me,{sx:{p:1.5,"&:last-child":{pb:1.5}},children:n.jsxs(l,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[n.jsx(l,{sx:{width:32,height:32,borderRadius:1,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:x(e.palette[c.color].main,.1)},children:n.jsx(c.icon,{color:c.color,fontSize:"small"})}),n.jsxs(l,{children:[n.jsx(p,{variant:"body2",sx:{fontWeight:500},children:c.name}),n.jsx(p,{variant:"caption",color:"text.secondary",children:c.description})]})]})})},c.type)),n.jsxs(l,{sx:{mt:3},children:[n.jsx(N,{fullWidth:!0,size:"small",label:"Title (optional)",value:w,onChange:c=>D(c.target.value),sx:{mb:2}}),n.jsx(l,{sx:{display:"flex",justifyContent:"flex-end",mb:1},children:n.jsx(S,{size:"small",onClick:()=>{b(J[m.type]||""),D(`Sample ${m.name}`)},sx:{textTransform:"none"},children:"Use Example Data"})}),n.jsx(N,{fullWidth:!0,multiline:!0,rows:8,label:"Data Input",placeholder:K(),value:g,onChange:c=>b(c.target.value),sx:{mb:2}}),n.jsx(Ne,{variant:"contained",fullWidth:!0,startIcon:C?n.jsx(ne,{size:20,color:"inherit"}):n.jsx(he,{}),onClick:Q,disabled:!g.trim()||C,children:C?"Generating...":"Generate"})]})]}),n.jsx(Fe,{children:a?n.jsx(Be,{elevation:2,children:a.svg?n.jsx(l,{dangerouslySetInnerHTML:{__html:a.svg},sx:{"& svg":{maxWidth:"100%",height:"auto"}}}):a.content?n.jsx(p,{component:"pre",sx:{fontFamily:"monospace",whiteSpace:"pre-wrap"},children:typeof a.content=="string"?a.content:JSON.stringify(a.content,null,2)}):n.jsx(p,{color:"text.secondary",children:"Diagram preview"})}):n.jsxs(l,{sx:{textAlign:"center",maxWidth:400},children:[n.jsx($,{sx:{fontSize:80,color:"text.secondary",opacity:.3,mb:2}}),n.jsx(p,{variant:"h6",sx:{fontWeight:600,mb:1},children:"Create Your First Diagram"}),n.jsx(p,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Select a diagram type from the sidebar, enter your data, and click Generate. Not sure how to format your data?"}),n.jsx(S,{variant:"outlined",onClick:()=>{b(J[m.type]||""),D(`Sample ${m.name}`)},sx:{textTransform:"none"},children:"Try with Example Data"})]})})]}),T&&n.jsx(se,{severity:"error",sx:{m:2},children:T})]})}function ta(){return H(),n.jsx($e,{})}export{ta as default};
