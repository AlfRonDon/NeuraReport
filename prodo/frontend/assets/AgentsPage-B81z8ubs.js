import{c as ae,j as t,a as f,bC as me,e as he,d as ge,u as re,r as g,R as xe,I as ye,B as p,bg as fe,T as x,bs as be,k as _,p as m,aJ as ve,aM as se,P as M,an as K,ai as Y,aj as X,a3 as Q,v as Z,N as R,as as je,aI as ke,o as we,aR as Ce,aV as Se,$ as _e,J as b,s as Te}from"./index-B8Eu23bA.js";import{S as Ae}from"./Science-CnGLc7vs.js";import{E as Ie}from"./Email-Dwi3AvV1.js";import{P as Re}from"./Spellcheck-EFbUJgxk.js";import{G as w}from"./Grid-5L9Rvqba.js";import{a as Ee,C as Fe}from"./CardContent-xJVpuEbT.js";import{C as De}from"./ContentCopy-CetTCPv3.js";const Pe=ae(t.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-5h2zm4 0h-2v-3h2zm0-5h-2v-2h2zm4 5h-2V7h2z"})),We=ae(t.jsx("path",{d:"M22 18v-2H8V4h2L7 1 4 4h2v2H2v2h4v8c0 1.1.9 2 2 2h8v2h-2l3 3 3-3h-2v-2zM10 8h6v6h2V8c0-1.1-.9-2-2-2h-6z"}));async function qe(e,l={}){return(await f.post("/agents/research",{topic:e,depth:l.depth||"comprehensive",focus_areas:l.focusAreas||null,max_sections:l.maxSections||5})).data}async function Ne(e,l,r={}){return(await f.post("/agents/data-analysis",{question:e,data:l,data_description:r.dataDescription||null,generate_charts:r.generateCharts!==!1})).data}async function ze(e,l,r={}){return(await f.post("/agents/email-draft",{context:e,purpose:l,tone:r.tone||"professional",recipient_info:r.recipientInfo||null,previous_emails:r.previousEmails||null})).data}async function Je(e,l,r,n={}){return(await f.post("/agents/content-repurpose",{content:e,source_format:l,target_formats:r,preserve_key_points:n.preserveKeyPoints!==!1,adapt_length:n.adaptLength!==!1})).data}async function Ge(e,l={}){return(await f.post("/agents/proofread",{text:e,style_guide:l.styleGuide||null,focus_areas:l.focusAreas||null,preserve_voice:l.preserveVoice!==!1})).data}async function Le(e){return(await f.get(`/agents/tasks/${e}`)).data}async function $e(e=null){const l=e?{agent_type:e}:{};return(await f.get("/agents/tasks",{params:l})).data}async function He(){return(await f.get("/agents/types")).data}async function Ue(){return(await f.get("/agents/formats/repurpose")).data}const Be=me((e,l)=>({tasks:[],currentTask:null,agentTypes:[],repurposeFormats:[],loading:!1,executing:!1,error:null,setLoading:r=>e({loading:r}),setError:r=>e({error:r}),runResearch:async(r,n={})=>{e({executing:!0,error:null});try{const c=await qe(r,n);return e(u=>({tasks:[c,...u.tasks].slice(0,200),currentTask:c,executing:!1})),c}catch(c){return e({error:c.message,executing:!1}),null}},runDataAnalysis:async(r,n,c={})=>{e({executing:!0,error:null});try{const u=await Ne(r,n,c);return e(h=>({tasks:[u,...h.tasks].slice(0,200),currentTask:u,executing:!1})),u}catch(u){return e({error:u.message,executing:!1}),null}},runEmailDraft:async(r,n,c={})=>{e({executing:!0,error:null});try{const u=await ze(r,n,c);return e(h=>({tasks:[u,...h.tasks].slice(0,200),currentTask:u,executing:!1})),u}catch(u){return e({error:u.message,executing:!1}),null}},runContentRepurpose:async(r,n,c,u={})=>{e({executing:!0,error:null});try{const h=await Je(r,n,c,u);return e(E=>({tasks:[h,...E.tasks].slice(0,200),currentTask:h,executing:!1})),h}catch(h){return e({error:h.message,executing:!1}),null}},runProofreading:async(r,n={})=>{e({executing:!0,error:null});try{const c=await Ge(r,n);return e(u=>({tasks:[c,...u.tasks].slice(0,200),currentTask:c,executing:!1})),c}catch(c){return e({error:c.message,executing:!1}),null}},fetchTasks:async(r=null)=>{e({loading:!0,error:null});try{const n=await $e(r);return e({tasks:n,loading:!1}),n}catch(n){return e({error:n.message,loading:!1}),[]}},getTask:async r=>{e({loading:!0,error:null});try{const n=await Le(r);return e({currentTask:n,loading:!1}),n}catch(n){return e({error:n.message,loading:!1}),null}},fetchAgentTypes:async()=>{try{const r=await He();return e({agentTypes:r.types||[]}),r.types}catch(r){return e({error:r.message}),[]}},fetchRepurposeFormats:async()=>{try{const r=await Ue();return e({repurposeFormats:r.formats||[]}),r.formats}catch(r){return e({error:r.message}),[]}},reset:()=>e({currentTask:null,error:null}),clearTasks:()=>e({tasks:[],currentTask:null})})),Oe=b(p)(({theme:e})=>({display:"flex",flexDirection:"column",height:"calc(100vh - 64px)",backgroundColor:e.palette.background.default})),Ve=b(p)(({theme:e})=>({padding:e.spacing(2,3),borderBottom:`1px solid ${m(e.palette.divider,.1)}`,backgroundColor:m(e.palette.background.paper,.8)})),Me=b(p)(({theme:e})=>({flex:1,display:"flex",overflow:"hidden"})),Ke=b(p)(({theme:e})=>({flex:1,padding:e.spacing(3),overflow:"auto"})),Ye=b(p)(({theme:e})=>({width:350,borderLeft:`1px solid ${m(e.palette.divider,.1)}`,backgroundColor:m(e.palette.background.paper,.6),display:"flex",flexDirection:"column"})),Xe=b(Fe)(({theme:e,selected:l})=>({cursor:"pointer",transition:"all 0.2s ease",border:l?`2px solid ${e.palette.mode==="dark"?_[1e3]:_[1100]}`:`1px solid ${m(e.palette.divider,.2)}`,"&:hover":{transform:"translateY(-2px)",boxShadow:`0 8px 24px ${m(e.palette.text.primary,.15)}`}})),Qe=b(se)(({theme:e})=>({padding:e.spacing(2),marginTop:e.spacing(2),backgroundColor:e.palette.mode==="dark"?m(e.palette.text.primary,.05):_[200],border:`1px solid ${m(e.palette.divider,.2)}`})),ee=b(Te)(({theme:e})=>({borderRadius:8,textTransform:"none",fontWeight:500})),te=[{type:"research",name:"Research Agent",description:"Deep-dive research and report compilation on any topic",icon:Ae,color:"primary",fields:[{name:"topic",label:"Research Topic",type:"text",required:!0,multiline:!0},{name:"depth",label:"Depth",type:"select",options:["quick","standard","comprehensive","exhaustive"],default:"comprehensive"},{name:"maxSections",label:"Max Sections",type:"number",default:5,min:1,max:10}]},{type:"data_analyst",name:"Data Analyst",description:"Analyze data and answer questions with insights",icon:Pe,color:"info",fields:[{name:"question",label:"What do you want to know?",type:"text",required:!0,multiline:!0,placeholder:"e.g., What are the top 5 products by revenue? Which month had the highest sales?"},{name:"dataSource",label:"Data Source",type:"select",options:["paste_spreadsheet","sample_sales","sample_inventory","custom_json"],default:"paste_spreadsheet"},{name:"data",label:"Paste your data here (from Excel or Google Sheets)",type:"spreadsheet",required:!0,multiline:!0,rows:8,placeholder:"Tip: Copy cells from Excel or Google Sheets and paste here. We'll convert it automatically!"}]},{type:"email_draft",name:"Email Draft",description:"Compose professional emails based on context",icon:Ie,color:"warning",fields:[{name:"context",label:"Context",type:"text",required:!0,multiline:!0},{name:"purpose",label:"Purpose",type:"text",required:!0},{name:"tone",label:"Tone",type:"select",options:["professional","friendly","formal","casual"],default:"professional"},{name:"recipientInfo",label:"Recipient Info",type:"text"}]},{type:"content_repurpose",name:"Content Repurpose",description:"Transform content into multiple formats",icon:We,color:"secondary",fields:[{name:"content",label:"Original Content",type:"text",required:!0,multiline:!0,rows:6},{name:"sourceFormat",label:"Source Format",type:"select",options:["blog","article","report","notes","transcript"],default:"blog"},{name:"targetFormats",label:"Target Formats",type:"multiselect",options:["tweet_thread","linkedin_post","blog_summary","slides","email_newsletter","video_script"]}]},{type:"proofreading",name:"Proofreading",description:"Grammar, style, and clarity improvements",icon:Re,color:"success",fields:[{name:"text",label:"Text to Proofread",type:"text",required:!0,multiline:!0,rows:8},{name:"styleGuide",label:"Style Guide",type:"select",options:["AP","Chicago","MLA","APA","None"],default:"None"}]}];function Ze(){const e=he(),l=ge(),{execute:r}=re(),{tasks:n,currentTask:c,agentTypes:u,repurposeFormats:h,loading:E,executing:T,error:F,runResearch:D,runDataAnalysis:P,runEmailDraft:W,runContentRepurpose:q,runProofreading:N,fetchTasks:z,fetchAgentTypes:J,fetchRepurposeFormats:G,reset:L}=Be(),[d,ne]=g.useState(te[0]),[o,$]=g.useState({}),[H,oe]=g.useState(!1),[y,U]=g.useState(null);g.useEffect(()=>(J(),G(),z(),()=>L()),[J,G,z,L]);const le=g.useCallback(a=>{ne(a),$({}),U(null)},[]),v=g.useCallback((a,s)=>{$(i=>({...i,[a]:s}))},[]),ie=g.useCallback(async()=>{if(!d)return;const a=async()=>{let s=null;switch(d.type){case"research":s=await D(o.topic,{depth:o.depth||"comprehensive",maxSections:o.maxSections||5});break;case"data_analyst":try{let i;const j=o.dataSource||"paste_spreadsheet";if(j==="sample_sales")i=[{product:"Widget A",revenue:15e3,units:300,month:"January"},{product:"Widget B",revenue:22e3,units:440,month:"January"},{product:"Widget A",revenue:18e3,units:360,month:"February"},{product:"Widget B",revenue:25e3,units:500,month:"February"},{product:"Widget C",revenue:12e3,units:200,month:"February"}];else if(j==="sample_inventory")i=[{item:"SKU-001",stock:150,reorder_point:50,supplier:"Acme Corp"},{item:"SKU-002",stock:25,reorder_point:30,supplier:"Beta Inc"},{item:"SKU-003",stock:200,reorder_point:75,supplier:"Acme Corp"},{item:"SKU-004",stock:10,reorder_point:20,supplier:"Gamma Ltd"}];else if(j==="custom_json")i=JSON.parse(o.data);else{const C=(o.data||"").trim().split(`
`);if(C.length<2)return l.show("Please paste data with at least a header row and one data row","warning"),null;const B=C[0].includes("	")?"	":",",de=C[0].split(B).map(k=>k.trim().replace(/^["']|["']$/g,""));i=C.slice(1).map(k=>{const A=k.split(B).map(I=>{const S=I.trim().replace(/^["']|["']$/g,""),V=parseFloat(S);return isNaN(V)?S:V}),O={};return de.forEach((I,S)=>{O[I]=A[S]??""}),O}).filter(k=>Object.values(k).some(A=>A!==""))}if(!i||!i.length)return l.show("No valid data found. Please check your input.","warning"),null;s=await P(o.question,i)}catch{return l.show("Could not parse data. For custom JSON, ensure it's valid JSON format.","error"),null}break;case"email_draft":s=await W(o.context,o.purpose,{tone:o.tone||"professional",recipientInfo:o.recipientInfo});break;case"content_repurpose":s=await q(o.content,o.sourceFormat||"blog",o.targetFormats||["blog_summary"]);break;case"proofreading":s=await N(o.text,{styleGuide:o.styleGuide!=="None"?o.styleGuide:null});break}return s&&(U(s),l.show("Agent completed successfully","success")),s};return r({type:ye.EXECUTE,label:`Run ${d.name}`,reversibility:xe.FULLY_REVERSIBLE,blocksNavigation:!0,intent:{source:"agents",agentType:d.type},action:a})},[r,o,q,P,W,N,D,d,l]),ce=g.useCallback(()=>{y?.output&&(navigator.clipboard.writeText(typeof y.output=="string"?y.output:JSON.stringify(y.output,null,2)),l.show("Copied to clipboard","success"))},[y,l]),ue=g.useCallback(()=>{oe(a=>!a)},[]),pe=()=>d?d.fields.filter(a=>a.required).every(a=>o[a.name]?.toString().trim()):!1;return t.jsxs(Oe,{children:[t.jsx(Ve,{children:t.jsxs(p,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:2},children:[t.jsx(fe,{sx:{color:"text.secondary",fontSize:28}}),t.jsxs(p,{children:[t.jsx(x,{variant:"h6",sx:{fontWeight:600},children:"AI Agents"}),t.jsx(x,{variant:"body2",color:"text.secondary",children:"Specialized AI agents for research, analysis, writing, and more"})]})]}),t.jsxs(ee,{startIcon:t.jsx(be,{}),onClick:ue,variant:H?"contained":"outlined",children:["History (",n.length,")"]})]})}),t.jsxs(Me,{children:[t.jsxs(Ke,{children:[t.jsx(x,{variant:"subtitle1",sx:{fontWeight:600,mb:2},children:"Select Agent"}),t.jsx(w,{container:!0,spacing:2,sx:{mb:4},children:te.map(a=>t.jsx(w,{item:!0,xs:12,sm:6,md:4,children:t.jsx(Xe,{selected:d?.type===a.type,onClick:()=>le(a),children:t.jsxs(Ee,{children:[t.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:1.5,mb:1},children:[t.jsx(p,{sx:{width:40,height:40,borderRadius:1,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:e.palette.mode==="dark"?m(e.palette.text.primary,.05):_[200]},children:t.jsx(a.icon,{color:"inherit",sx:{color:"text.secondary"}})}),t.jsx(x,{variant:"subtitle1",sx:{fontWeight:600},children:a.name})]}),t.jsx(x,{variant:"body2",color:"text.secondary",children:a.description})]})})},a.type))}),d&&t.jsxs(t.Fragment,{children:[t.jsx(ve,{sx:{mb:3}}),t.jsxs(x,{variant:"subtitle1",sx:{fontWeight:600,mb:2},children:[d.name," Configuration"]}),t.jsxs(se,{sx:{p:3},children:[t.jsx(w,{container:!0,spacing:2,children:d.fields.map(a=>{if(d.type==="data_analyst"&&a.name==="data"){const s=o.dataSource||"paste_spreadsheet";if(s==="sample_sales"||s==="sample_inventory")return t.jsx(w,{item:!0,xs:12,children:t.jsxs(M,{severity:"info",sx:{mt:1},children:["Using sample ",s==="sample_sales"?"sales":"inventory"," data. Just enter your question above!"]})},a.name)}return t.jsx(w,{item:!0,xs:12,md:a.multiline?12:6,children:a.type==="select"?t.jsxs(K,{fullWidth:!0,children:[t.jsx(Y,{children:a.label}),t.jsx(X,{value:o[a.name]||a.default||"",label:a.label,onChange:s=>v(a.name,s.target.value),children:a.options.map(s=>{let i=s.replace(/_/g," ").replace(/\b\w/g,j=>j.toUpperCase());return s==="paste_spreadsheet"&&(i="Paste from Spreadsheet (Recommended)"),s==="sample_sales"&&(i="Use Sample Sales Data"),s==="sample_inventory"&&(i="Use Sample Inventory Data"),s==="custom_json"&&(i="Enter Raw JSON (Advanced)"),t.jsx(Q,{value:s,children:i},s)})})]}):a.type==="multiselect"?t.jsxs(K,{fullWidth:!0,children:[t.jsx(Y,{children:a.label}),t.jsx(X,{multiple:!0,value:o[a.name]||[],label:a.label,onChange:s=>v(a.name,s.target.value),renderValue:s=>t.jsx(p,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:s.map(i=>t.jsx(Z,{label:i.replace(/_/g," "),size:"small"},i))}),children:a.options.map(s=>t.jsx(Q,{value:s,children:s.replace(/_/g," ").replace(/\b\w/g,i=>i.toUpperCase())},s))})]}):a.type==="number"?t.jsx(R,{fullWidth:!0,type:"number",label:a.label,value:o[a.name]??a.default??"",onChange:s=>v(a.name,parseInt(s.target.value)),inputProps:{min:a.min,max:a.max},required:a.required}):a.type==="spreadsheet"?t.jsx(R,{fullWidth:!0,label:o.dataSource==="custom_json"?"JSON Data":a.label,value:o[a.name]||"",onChange:s=>v(a.name,s.target.value),multiline:!0,rows:a.rows||4,required:a.required,placeholder:o.dataSource==="custom_json"?'[{"name": "John", "value": 100}, {"name": "Jane", "value": 200}]':a.placeholder||"Copy from Excel/Sheets and paste here...",helperText:o.dataSource==="custom_json"?"Enter valid JSON array of objects":"Supports tab-separated (Excel) or comma-separated (CSV) data"}):t.jsx(R,{fullWidth:!0,label:a.label,value:o[a.name]||"",onChange:s=>v(a.name,s.target.value),multiline:a.multiline,rows:a.rows||4,required:a.required,placeholder:a.placeholder})},a.name)})}),t.jsx(p,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:t.jsx(ee,{variant:"contained",size:"large",startIcon:T?t.jsx(je,{size:20,color:"inherit"}):t.jsx(ke,{}),onClick:ie,disabled:!pe()||T,children:T?"Running...":`Run ${d.name}`})})]}),y&&t.jsxs(Qe,{children:[t.jsxs(p,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[t.jsx(x,{variant:"subtitle1",sx:{fontWeight:600},children:"Result"}),t.jsx(p,{children:t.jsx(we,{size:"small",onClick:ce,children:t.jsx(De,{fontSize:"small"})})})]}),t.jsx(x,{variant:"body2",component:"pre",sx:{whiteSpace:"pre-wrap",fontFamily:"monospace",bgcolor:m(e.palette.background.default,.5),p:2,borderRadius:1,maxHeight:400,overflow:"auto"},children:typeof y.output=="string"?y.output:JSON.stringify(y.output,null,2)})]})]})]}),H&&t.jsxs(Ye,{children:[t.jsx(p,{sx:{p:2,borderBottom:`1px solid ${m(e.palette.divider,.1)}`},children:t.jsx(x,{variant:"subtitle1",sx:{fontWeight:600},children:"Task History"})}),t.jsx(p,{sx:{flex:1,overflow:"auto"},children:n.length>0?t.jsx(Ce,{children:n.map(a=>t.jsx(Se,{divider:!0,children:t.jsx(_e,{primary:a.agent_type?.replace(/_/g," ").replace(/\b\w/g,s=>s.toUpperCase()),secondary:t.jsxs(t.Fragment,{children:[t.jsx(Z,{size:"small",label:a.status,color:a.status==="completed"?"success":a.status==="failed"?"error":"default",sx:{mr:1}}),new Date(a.created_at).toLocaleString()]})})},a.id))}):t.jsx(p,{sx:{p:3,textAlign:"center"},children:t.jsx(x,{color:"text.secondary",children:"No tasks yet"})})})]})]}),F&&t.jsx(M,{severity:"error",sx:{m:2},children:F})]})}function it(){return re(),t.jsx(Ze,{})}export{it as default};
