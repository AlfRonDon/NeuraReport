import{r as i,bT as yt,bU as je,bV as gt,bW as xt,bX as Xe,bY as qe,bZ as Qe,b_ as tt,b$ as Be,b2 as vt,b3 as St,j as r,b5 as Ae,b4 as kt,bH as Ct,c0 as se,ba as ne,b6 as wt,J as pe,b8 as ge,c1 as et,c2 as dt,bC as jt,d as Lt,b as Tt,u as pt,R as Le,I as Te,B as R,T as N,F as Ze,s as fe,aN as Et,bs as Pt,P as rt,C as At,aM as De,N as at,aJ as It,an as Rt,ai as zt,aj as Ht,a3 as Nt,v as Ee,k as Mt,p as Ft,S as Dt,as as st,x as Ot,n as nt,o as ot,a1 as Vt}from"./index-B8Eu23bA.js";import{q as $t,g as Ut,a as qt,b as Bt}from"./summary-CGI6QTv7.js";import{C as Gt}from"./ConfirmModal-Bm9QL03g.js";import{A as _t}from"./AiUsageNotice-DRuwRFKl.js";import{G as Pe}from"./Grid-5L9Rvqba.js";import{C as Wt,a as Yt}from"./CardContent-xJVpuEbT.js";import{C as Kt}from"./ContentCopy-CetTCPv3.js";import"./CheckCircleOutline-BKKyaL-x.js";import"./WarningAmber-DtVJgAFk.js";const Jt={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Xt(e,t,o=(l,b)=>l===b){return e.length===t.length&&e.every((l,b)=>o(l,t[b]))}const Qt=2;function ye(e,t,o,l,b){return o===1?Math.min(e+t,b):Math.max(e-t,l)}function mt(e,t){return e-t}function lt(e,t){const{index:o}=e.reduce((l,b,k)=>{const P=Math.abs(t-b);return l===null||P<l.distance||P===l.distance?{distance:P,index:k}:l},null)??{};return o}function Oe(e,t){if(t.current!==void 0&&e.changedTouches){const o=e;for(let l=0;l<o.changedTouches.length;l+=1){const b=o.changedTouches[l];if(b.identifier===t.current)return{x:b.clientX,y:b.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function Ge(e,t,o){return(e-t)*100/(o-t)}function Zt(e,t,o){return(o-t)*e+t}function er(e){if(Math.abs(e)<1){const o=e.toExponential().split("e-"),l=o[0].split(".")[1];return(l?l.length:0)+parseInt(o[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}function tr(e,t,o){const l=Math.round((e-o)/t)*t+o;return Number(l.toFixed(er(t)))}function it({values:e,newValue:t,index:o}){const l=e.slice();return l[o]=t,l.sort(mt)}function Ve({sliderRef:e,activeIndex:t,setActive:o}){const l=qe(e.current);(!e.current?.contains(l.activeElement)||Number(l?.activeElement?.getAttribute("data-index"))!==t)&&e.current?.querySelector(`[type="range"][data-index="${t}"]`).focus(),o&&o(t)}function $e(e,t){return typeof e=="number"&&typeof t=="number"?e===t:typeof e=="object"&&typeof t=="object"?Xt(e,t):!1}const rr={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},ar=e=>e;let Ue;function ct(){return Ue===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?Ue=CSS.supports("touch-action","none"):Ue=!0),Ue}function sr(e){const{"aria-labelledby":t,defaultValue:o,disabled:l=!1,disableSwap:b=!1,isRtl:k=!1,marks:P=!1,max:y=100,min:p=0,name:x,onChange:M,onChangeCommitted:$,orientation:Y="horizontal",rootRef:K,scale:oe=ar,step:m=1,shiftStep:U=10,tabIndex:J,value:me}=e,F=i.useRef(void 0),[q,re]=i.useState(-1),[xe,B]=i.useState(-1),[le,ie]=i.useState(!1),G=i.useRef(0),ce=i.useRef(null),[I,w]=yt({controlled:me,default:o??p,name:"Slider"}),j=M&&((n,s,c)=>{const h=n.nativeEvent||n,d=new h.constructor(h.type,h);Object.defineProperty(d,"target",{writable:!0,value:{value:s,name:x}}),ce.current=s,M(d,s,c)}),z=Array.isArray(I);let C=z?I.slice().sort(mt):[I];C=C.map(n=>n==null?p:je(n,p,y));const v=P===!0&&m!==null?[...Array(Math.floor((y-p)/m)+1)].map((n,s)=>({value:p+m*s})):P||[],S=v.map(n=>n.value),[_,ae]=i.useState(-1),g=i.useRef(null),X=gt(K,g),ve=n=>s=>{const c=Number(s.currentTarget.getAttribute("data-index"));tt(s.target)&&ae(c),B(c),n?.onFocus?.(s)},Se=n=>s=>{tt(s.target)||ae(-1),B(-1),n?.onBlur?.(s)},ue=(n,s)=>{const c=Number(n.currentTarget.getAttribute("data-index")),h=C[c],d=S.indexOf(h);let u=s;if(v&&m==null){const D=S[S.length-1];u>=D?u=D:u<=S[0]?u=S[0]:u=u<h?S[d-1]:S[d+1]}if(u=je(u,p,y),z){b&&(u=je(u,C[c-1]||-1/0,C[c+1]||1/0));const D=u;u=it({values:C,newValue:u,index:c});let O=c;b||(O=u.indexOf(D)),Ve({sliderRef:g,activeIndex:O})}w(u),ae(c),j&&!$e(u,I)&&j(n,u,c),$&&$(n,ce.current??u)},ke=n=>s=>{if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(s.key)){s.preventDefault();const c=Number(s.currentTarget.getAttribute("data-index")),h=C[c];let d=null;if(m!=null){const u=s.shiftKey?U:m;switch(s.key){case"ArrowUp":d=ye(h,u,1,p,y);break;case"ArrowRight":d=ye(h,u,k?-1:1,p,y);break;case"ArrowDown":d=ye(h,u,-1,p,y);break;case"ArrowLeft":d=ye(h,u,k?1:-1,p,y);break;case"PageUp":d=ye(h,U,1,p,y);break;case"PageDown":d=ye(h,U,-1,p,y);break;case"Home":d=p;break;case"End":d=y;break}}else if(v){const u=S[S.length-1],D=S.indexOf(h),O=[k?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],E=[k?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];O.includes(s.key)?D===0?d=S[0]:d=S[D-1]:E.includes(s.key)&&(D===S.length-1?d=u:d=S[D+1])}d!=null&&ue(s,d)}n?.onKeyDown?.(s)};xt(()=>{l&&g.current.contains(document.activeElement)&&document.activeElement?.blur()},[l]),l&&q!==-1&&re(-1),l&&_!==-1&&ae(-1);const he=n=>s=>{n.onChange?.(s),ue(s,s.target.valueAsNumber)},Q=i.useRef(void 0);let Z=Y;k&&Y==="horizontal"&&(Z+="-reverse");const ee=({finger:n,move:s=!1})=>{const{current:c}=g,{width:h,height:d,bottom:u,left:D}=c.getBoundingClientRect();let O;Z.startsWith("vertical")?O=(u-n.y)/d:O=(n.x-D)/h,Z.includes("-reverse")&&(O=1-O);let E;if(E=Zt(O,p,y),m)E=tr(E,m,p);else{const we=lt(S,E);E=S[we]}E=je(E,p,y);let W=0;if(z){s?W=Q.current:W=lt(C,E),b&&(E=je(E,C[W-1]||-1/0,C[W+1]||1/0));const we=E;E=it({values:C,newValue:E,index:W}),b&&s||(W=E.indexOf(we),Q.current=W)}return{newValue:E,activeIndex:W}},a=Xe(n=>{const s=Oe(n,F);if(!s)return;if(G.current+=1,n.type==="mousemove"&&n.buttons===0){f(n);return}const{newValue:c,activeIndex:h}=ee({finger:s,move:!0});Ve({sliderRef:g,activeIndex:h,setActive:re}),w(c),!le&&G.current>Qt&&ie(!0),j&&!$e(c,I)&&j(n,c,h)}),f=Xe(n=>{const s=Oe(n,F);if(ie(!1),!s)return;const{newValue:c}=ee({finger:s,move:!0});re(-1),n.type==="touchend"&&B(-1),$&&$(n,ce.current??c),F.current=void 0,de()}),T=Xe(n=>{if(l)return;ct()||n.preventDefault();const s=n.changedTouches[0];s!=null&&(F.current=s.identifier);const c=Oe(n,F);if(c!==!1){const{newValue:d,activeIndex:u}=ee({finger:c});Ve({sliderRef:g,activeIndex:u,setActive:re}),w(d),j&&!$e(d,I)&&j(n,d,u)}G.current=0;const h=qe(g.current);h.addEventListener("touchmove",a,{passive:!0}),h.addEventListener("touchend",f,{passive:!0})}),de=i.useCallback(()=>{const n=qe(g.current);n.removeEventListener("mousemove",a),n.removeEventListener("mouseup",f),n.removeEventListener("touchmove",a),n.removeEventListener("touchend",f)},[f,a]);i.useEffect(()=>{const{current:n}=g;return n.addEventListener("touchstart",T,{passive:ct()}),()=>{n.removeEventListener("touchstart",T),de()}},[de,T]),i.useEffect(()=>{l&&de()},[l,de]);const _e=n=>s=>{if(n.onMouseDown?.(s),l||s.defaultPrevented||s.button!==0)return;s.preventDefault();const c=Oe(s,F);if(c!==!1){const{newValue:d,activeIndex:u}=ee({finger:c});Ve({sliderRef:g,activeIndex:u,setActive:re}),w(d),j&&!$e(d,I)&&j(s,d,u)}G.current=0;const h=qe(g.current);h.addEventListener("mousemove",a,{passive:!0}),h.addEventListener("mouseup",f)},Ie=Ge(z?C[0]:p,p,y),H=Ge(C[C.length-1],p,y)-Ie,Ce=(n={})=>{const s=Qe(n),c={onMouseDown:_e(s||{})},h={...s,...c};return{...n,ref:X,...h}},Re=n=>s=>{n.onMouseOver?.(s);const c=Number(s.currentTarget.getAttribute("data-index"));B(c)},ze=n=>s=>{n.onMouseLeave?.(s),B(-1)},He=(n={})=>{const s=Qe(n),c={onMouseOver:Re(s||{}),onMouseLeave:ze(s||{})};return{...n,...s,...c}},Ne=n=>({pointerEvents:q!==-1&&q!==n?"none":void 0});let be;return Y==="vertical"&&(be=k?"vertical-rl":"vertical-lr"),{active:q,axis:Z,axisProps:rr,dragging:le,focusedThumbIndex:_,getHiddenInputProps:(n={})=>{const s=Qe(n),c={onChange:he(s||{}),onFocus:ve(s||{}),onBlur:Se(s||{}),onKeyDown:ke(s||{})},h={...s,...c};return{tabIndex:J,"aria-labelledby":t,"aria-orientation":Y,"aria-valuemax":oe(y),"aria-valuemin":oe(p),name:x,type:"range",min:e.min,max:e.max,step:e.step===null&&e.marks?"any":e.step??void 0,disabled:l,...n,...h,style:{...Jt,direction:k?"rtl":"ltr",width:"100%",height:"100%",writingMode:be}}},getRootProps:Ce,getThumbProps:He,marks:v,open:xe,range:z,rootRef:X,trackLeap:H,trackOffset:Ie,values:C,getThumbStyle:Ne}}const nr=e=>!e||!Be(e);function or(e){return vt("MuiSlider",e)}const V=St("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),lr=e=>{const{open:t}=e;return{offset:Ae(t&&V.valueLabelOpen),circle:V.valueLabelCircle,label:V.valueLabelLabel}};function ir(e){const{children:t,className:o,value:l}=e,b=lr(e);return t?i.cloneElement(t,{className:t.props.className},r.jsxs(i.Fragment,{children:[t.props.children,r.jsx("span",{className:Ae(b.offset,o),"aria-hidden":!0,children:r.jsx("span",{className:b.circle,children:r.jsx("span",{className:b.label,children:l})})})]})):null}function ut(e){return e}const cr=pe("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[`color${ne(o.color)}`],o.size!=="medium"&&t[`size${ne(o.size)}`],o.marked&&t.marked,o.orientation==="vertical"&&t.vertical,o.track==="inverted"&&t.trackInverted,o.track===!1&&t.trackFalse]}})(ge(({theme:e})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${V.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${V.dragging}`]:{[`& .${V.thumb}, & .${V.track}`]:{transition:"none"}},variants:[...Object.entries(e.palette).filter(et()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),ur=pe("span",{name:"MuiSlider",slot:"Rail"})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),dr=pe("span",{name:"MuiSlider",slot:"Track"})(ge(({theme:e})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(e.palette).filter(et()).map(([t])=>({props:{color:t,track:"inverted"},style:{...e.vars?{backgroundColor:e.vars.palette.Slider[`${t}Track`],borderColor:e.vars.palette.Slider[`${t}Track`]}:{backgroundColor:e.lighten(e.palette[t].main,.62),borderColor:e.lighten(e.palette[t].main,.62),...e.applyStyles("dark",{backgroundColor:e.darken(e.palette[t].main,.5)}),...e.applyStyles("dark",{borderColor:e.darken(e.palette[t].main,.5)})}}}))]}))),pr=pe("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.thumb,t[`thumbColor${ne(o.color)}`],o.size!=="medium"&&t[`thumbSize${ne(o.size)}`]]}})(ge(({theme:e})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${V.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(e.palette).filter(et()).map(([t])=>({props:{color:t},style:{[`&:hover, &.${V.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${e.alpha((e.vars||e).palette[t].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${V.active}`]:{boxShadow:`0px 0px 0px 14px ${e.alpha((e.vars||e).palette[t].main,.16)}`}}}))]}))),mr=pe(ir,{name:"MuiSlider",slot:"ValueLabel"})(ge(({theme:e})=>({zIndex:1,whiteSpace:"nowrap",...e.typography.body2,fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${V.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${V.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),hr=pe("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>dt(e)&&e!=="markActive",overridesResolver:(e,t)=>{const{markActive:o}=e;return[t.mark,o&&t.markActive]}})(ge(({theme:e})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8}}]}))),br=pe("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>dt(e)&&e!=="markLabelActive"})(ge(({theme:e})=>({...e.typography.body2,color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(e.vars||e).palette.text.primary}}]}))),fr=e=>{const{disabled:t,dragging:o,marked:l,orientation:b,track:k,classes:P,color:y,size:p}=e,x={root:["root",t&&"disabled",o&&"dragging",l&&"marked",b==="vertical"&&"vertical",k==="inverted"&&"trackInverted",k===!1&&"trackFalse",y&&`color${ne(y)}`,p&&`size${ne(p)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",p&&`thumbSize${ne(p)}`,y&&`thumbColor${ne(y)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return wt(x,or,P)},yr=({children:e})=>e,gr=i.forwardRef(function(t,o){const l=kt({props:t,name:"MuiSlider"}),b=Ct(),{"aria-label":k,"aria-valuetext":P,"aria-labelledby":y,component:p="span",components:x={},componentsProps:M={},color:$="primary",classes:Y,className:K,disableSwap:oe=!1,disabled:m=!1,getAriaLabel:U,getAriaValueText:J,marks:me=!1,max:F=100,min:q=0,name:re,onChange:xe,onChangeCommitted:B,orientation:le="horizontal",shiftStep:ie=10,size:G="medium",step:ce=1,scale:I=ut,slotProps:w,slots:j,tabIndex:z,track:C="normal",value:v,valueLabelDisplay:S="off",valueLabelFormat:_=ut,...ae}=l,g={...l,isRtl:b,max:F,min:q,classes:Y,disabled:m,disableSwap:oe,orientation:le,marks:me,color:$,size:G,step:ce,shiftStep:ie,scale:I,track:C,valueLabelDisplay:S,valueLabelFormat:_},{axisProps:X,getRootProps:ve,getHiddenInputProps:Se,getThumbProps:ue,open:ke,active:he,axis:Q,focusedThumbIndex:Z,range:ee,dragging:a,marks:f,values:T,trackOffset:de,trackLeap:_e,getThumbStyle:Ie}=sr({...g,rootRef:o});g.marked=f.length>0&&f.some(L=>L.label),g.dragging=a,g.focusedThumbIndex=Z;const H=fr(g),Ce=j?.root??x.Root??cr,Re=j?.rail??x.Rail??ur,ze=j?.track??x.Track??dr,He=j?.thumb??x.Thumb??pr,Ne=j?.valueLabel??x.ValueLabel??mr,be=j?.mark??x.Mark??hr,Me=j?.markLabel??x.MarkLabel??br,n=j?.input??x.Input??"input",s=w?.root??M.root,c=w?.rail??M.rail,h=w?.track??M.track,d=w?.thumb??M.thumb,u=w?.valueLabel??M.valueLabel,D=w?.mark??M.mark,O=w?.markLabel??M.markLabel,E=w?.input??M.input,W=se({elementType:Ce,getSlotProps:ve,externalSlotProps:s,externalForwardedProps:ae,additionalProps:{...nr(Ce)&&{as:p}},ownerState:{...g,...s?.ownerState},className:[H.root,K]}),we=se({elementType:Re,externalSlotProps:c,ownerState:g,className:H.rail}),ht=se({elementType:ze,externalSlotProps:h,additionalProps:{style:{...X[Q].offset(de),...X[Q].leap(_e)}},ownerState:{...g,...h?.ownerState},className:H.track}),We=se({elementType:He,getSlotProps:ue,externalSlotProps:d,ownerState:{...g,...d?.ownerState},className:H.thumb}),bt=se({elementType:Ne,externalSlotProps:u,ownerState:{...g,...u?.ownerState},className:H.valueLabel}),Ye=se({elementType:be,externalSlotProps:D,ownerState:g,className:H.mark}),Ke=se({elementType:Me,externalSlotProps:O,ownerState:g,className:H.markLabel}),ft=se({elementType:n,getSlotProps:Se,externalSlotProps:E,ownerState:g});return r.jsxs(Ce,{...W,children:[r.jsx(Re,{...we}),r.jsx(ze,{...ht}),f.filter(L=>L.value>=q&&L.value<=F).map((L,A)=>{const Je=Ge(L.value,q,F),Fe=X[Q].offset(Je);let te;return C===!1?te=T.includes(L.value):te=C==="normal"&&(ee?L.value>=T[0]&&L.value<=T[T.length-1]:L.value<=T[0])||C==="inverted"&&(ee?L.value<=T[0]||L.value>=T[T.length-1]:L.value>=T[0]),r.jsxs(i.Fragment,{children:[r.jsx(be,{"data-index":A,...Ye,...!Be(be)&&{markActive:te},style:{...Fe,...Ye.style},className:Ae(Ye.className,te&&H.markActive)}),L.label!=null?r.jsx(Me,{"aria-hidden":!0,"data-index":A,...Ke,...!Be(Me)&&{markLabelActive:te},style:{...Fe,...Ke.style},className:Ae(H.markLabel,Ke.className,te&&H.markLabelActive),children:L.label}):null]},A)}),T.map((L,A)=>{const Je=Ge(L,q,F),Fe=X[Q].offset(Je),te=S==="off"?yr:Ne;return r.jsx(te,{...!Be(te)&&{valueLabelFormat:_,valueLabelDisplay:S,value:typeof _=="function"?_(I(L),A):_,index:A,open:ke===A||he===A||S==="on",disabled:m},...bt,children:r.jsx(He,{"data-index":A,...We,className:Ae(H.thumb,We.className,he===A&&H.active,Z===A&&H.focusVisible),style:{...Fe,...Ie(A),...We.style},children:r.jsx(n,{"data-index":A,"aria-label":U?U(A):k,"aria-valuenow":I(L),"aria-labelledby":y,"aria-valuetext":J?J(I(L),A):P,value:T[A],...ft})})},A)})]})}),xr=jt(e=>({summary:null,loading:!1,error:null,history:[],setLoading:t=>e({loading:t}),setError:t=>e({error:t}),generateSummary:async({content:t,tone:o="formal",maxSentences:l=5,focusAreas:b})=>{e({loading:!0,error:null});try{const P=(await Bt({content:t,tone:o,maxSentences:l,focusAreas:b})).summary;return e(y=>({summary:P,history:[{id:Date.now(),summary:P,tone:o,maxSentences:l,focusAreas:b,contentPreview:t.substring(0,100)+(t.length>100?"...":""),createdAt:new Date().toISOString()},...y.history.slice(0,9)],loading:!1})),P}catch(k){return e({error:k.message,loading:!1}),null}},queueSummary:async({content:t,tone:o="formal",maxSentences:l=5,focusAreas:b})=>{e({error:null});try{return await qt({content:t,tone:o,maxSentences:l,focusAreas:b})}catch(k){return e({error:k.message}),null}},getReportSummary:async t=>{e({loading:!0,error:null});try{const o=await Ut(t);return e({summary:o.summary,loading:!1}),o.summary}catch(o){return e({error:o.message,loading:!1}),null}},queueReportSummary:async t=>{e({error:null});try{return await $t(t)}catch(o){return e({error:o.message}),null}},clearSummary:()=>e({summary:null,error:null}),clearHistory:()=>e({history:[]}),reset:()=>e({summary:null,error:null})})),vr=[{value:"formal",label:"Formal",description:"Professional, business-appropriate tone"},{value:"conversational",label:"Conversational",description:"Friendly, easy-to-read tone"},{value:"technical",label:"Technical",description:"Detailed, precise terminology"}],Sr=["Key findings","Financial metrics","Trends","Recommendations","Risks","Opportunities","Performance","Growth"];function kr(){const{summary:e,history:t,loading:o,error:l,generateSummary:b,queueSummary:k,clearSummary:P,clearHistory:y,reset:p}=xr(),[x,M]=i.useState(""),[$,Y]=i.useState("formal"),[K,oe]=i.useState(5),[m,U]=i.useState([]),[J,me]=i.useState(""),[F,q]=i.useState(!1),[re,xe]=i.useState(!1),[B,le]=i.useState(!1),[ie,G]=i.useState(null),[ce,I]=i.useState(!1),w=Lt(),j=Tt(),{execute:z}=pt(),C=i.useCallback((a,f,T={})=>j(a,{label:f,intent:{from:"summary",...T}}),[j]),v=i.useCallback((a,f,T={})=>z({type:Te.EXECUTE,label:a,reversibility:Le.FULLY_REVERSIBLE,suppressSuccessToast:!0,suppressErrorToast:!0,intent:{source:"summary",...T},action:f}),[z]);i.useEffect(()=>()=>p(),[p]);const S=async()=>{if(!x.trim())return;G(null);const a=x.trim();if(a.length<50){w.show("Content is too short. Please provide at least 50 characters.","error");return}if(a.length>5e4){w.show("Content exceeds maximum length of 50,000 characters.","error");return}await z({type:Te.GENERATE,label:"Generate summary",reversibility:Le.FULLY_REVERSIBLE,suppressSuccessToast:!0,suppressErrorToast:!0,intent:{action:"generate_summary"},action:async()=>{const f=await b({content:a,tone:$,maxSentences:K,focusAreas:m.length>0?m:void 0});if(!f)throw new Error("Summary generation failed");return f}})},_=async()=>{if(!x.trim())return;G(null);const a=x.trim();if(a.length<50){w.show("Content is too short. Please provide at least 50 characters.","error");return}if(a.length>5e4){w.show("Content exceeds maximum length of 50,000 characters.","error");return}await z({type:Te.GENERATE,label:"Queue summary",reversibility:Le.SYSTEM_MANAGED,suppressSuccessToast:!0,suppressErrorToast:!0,intent:{action:"queue_summary"},action:async()=>{le(!0);try{const f=await k({content:a,tone:$,maxSentences:K,focusAreas:m.length>0?m:void 0});if(f?.job_id)G(f.job_id),w.show("Summary queued. Track progress in Jobs.","success");else throw w.show("Failed to queue summary job.","error"),new Error("Failed to queue summary job");return f}finally{le(!1)}}})},ae=i.useCallback(()=>v("Toggle summary history",()=>{q(a=>!a)}),[v]),g=i.useCallback(()=>v("Open clear history confirmation",()=>{I(!0)}),[v]),X=i.useCallback(()=>v("Close clear history confirmation",()=>{I(!1)}),[v]),ve=i.useCallback(a=>v("Add focus area",()=>{m.length<5&&!m.includes(a)&&U([...m,a])},{focus:a}),[v,m]),Se=i.useCallback(a=>v("Remove focus area",()=>{U(m.filter(f=>f!==a))},{focus:a}),[v,m]),ue=i.useCallback(()=>v("Add custom focus area",()=>{const a=J.trim();a&&m.length<5&&!m.includes(a)&&(U([...m,a]),me(""))}),[J,v,m]),ke=i.useCallback(()=>v("Copy summary to clipboard",async()=>{e&&(await navigator.clipboard.writeText(e),xe(!0),setTimeout(()=>xe(!1),2e3))}),[v,e]),he=i.useCallback(()=>z({type:Te.DELETE,label:"Clear summary output",reversibility:Le.PARTIALLY_REVERSIBLE,suppressSuccessToast:!0,suppressErrorToast:!0,intent:{source:"summary",action:"clear_summary"},action:()=>P()}),[P,z]),Q=i.useCallback(a=>v("Load summary from history",()=>{M(a.contentPreview.replace("...","")),Y(a.tone),oe(a.maxSentences),U(a.focusAreas||[])},{historyId:a.id}),[v]),Z=i.useCallback(()=>z({type:Te.DELETE,label:"Clear summary history",reversibility:Le.IRREVERSIBLE,requiresConfirmation:!0,intent:{source:"summary",action:"clear_history"},action:()=>{y(),I(!1)}}),[y,z]),ee=i.useCallback(()=>v("Dismiss summary error",()=>{p()}),[v,p]);return r.jsxs(R,{sx:{p:3,maxWidth:1400,mx:"auto"},children:[r.jsxs(R,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[r.jsxs(R,{children:[r.jsxs(N,{variant:"h4",sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(Ze,{})," Executive Summary Generator"]}),r.jsx(N,{variant:"body1",color:"text.secondary",children:"Generate concise executive summaries from your content using AI"})]}),t.length>0&&r.jsxs(fe,{variant:"outlined",startIcon:F?r.jsx(Et,{}):r.jsx(Pt,{}),onClick:ae,children:["History (",t.length,")"]})]}),l&&r.jsx(rt,{severity:"error",sx:{mb:2},onClose:ee,children:l}),ie&&r.jsxs(rt,{severity:"info",sx:{mb:2},action:r.jsx(fe,{size:"small",onClick:()=>C("/jobs","Open jobs"),sx:{textTransform:"none"},children:"View Jobs"}),children:["Summary queued in background. Job ID: ",ie]}),r.jsx(_t,{title:"AI summary",description:"Summaries are generated from the text you provide. Review for accuracy before sharing.",chips:[{label:"Source: Pasted content",color:"info",variant:"outlined"},{label:"Confidence: Review required",color:"warning",variant:"outlined"},{label:"Reversible: Output only",color:"success",variant:"outlined"}],dense:!0,sx:{mb:2}}),r.jsx(At,{in:F,children:r.jsxs(De,{sx:{p:2,mb:3},children:[r.jsxs(R,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[r.jsx(N,{variant:"h6",children:"Recent Summaries"}),r.jsx(fe,{size:"small",onClick:g,sx:{color:"text.secondary"},children:"Clear All"})]}),r.jsx(Pe,{container:!0,spacing:2,children:t.map(a=>r.jsx(Pe,{size:{xs:12,md:6},children:r.jsx(Wt,{variant:"outlined",sx:{cursor:"pointer"},onClick:()=>Q(a),children:r.jsxs(Yt,{sx:{py:1.5},children:[r.jsxs(N,{variant:"caption",color:"text.secondary",children:[new Date(a.createdAt).toLocaleString()," - ",a.tone]}),r.jsxs(N,{variant:"body2",sx:{mt:.5},noWrap:!0,children:[a.summary?.substring(0,150),"..."]})]})})},a.id))})]})}),r.jsxs(Pe,{container:!0,spacing:3,children:[r.jsx(Pe,{size:{xs:12,md:6},children:r.jsxs(De,{sx:{p:3,height:"100%"},children:[r.jsx(N,{variant:"h6",gutterBottom:!0,children:"Content to Summarize"}),r.jsx(at,{fullWidth:!0,multiline:!0,rows:12,placeholder:"Paste your document content, report text, or any content you want to summarize...",value:x,onChange:a=>M(a.target.value),sx:{mb:2}}),r.jsxs(N,{variant:"caption",color:"text.secondary",children:[x.length," / 50,000 characters"]}),r.jsx(It,{sx:{my:2}}),r.jsx(N,{variant:"subtitle2",gutterBottom:!0,children:"Summary Options"}),r.jsxs(Rt,{fullWidth:!0,size:"small",sx:{mb:2},children:[r.jsx(zt,{children:"Tone"}),r.jsx(Ht,{value:$,label:"Tone",onChange:a=>Y(a.target.value),children:vr.map(a=>r.jsx(Nt,{value:a.value,children:r.jsxs(R,{children:[r.jsx(N,{variant:"body2",children:a.label}),r.jsx(N,{variant:"caption",color:"text.secondary",children:a.description})]})},a.value))})]}),r.jsxs(R,{sx:{mb:2},children:[r.jsxs(N,{variant:"body2",gutterBottom:!0,children:["Summary Length: ",K," sentences"]}),r.jsx(gr,{value:K,onChange:(a,f)=>oe(f),min:2,max:15,marks:[{value:2,label:"2"},{value:5,label:"5"},{value:10,label:"10"},{value:15,label:"15"}],valueLabelDisplay:"auto"})]}),r.jsxs(R,{sx:{mb:2},children:[r.jsx(N,{variant:"body2",gutterBottom:!0,children:"Focus Areas (optional, max 5)"}),r.jsx(R,{sx:{display:"flex",flexWrap:"wrap",gap:.5,mb:1},children:m.map(a=>r.jsx(Ee,{label:a,size:"small",onDelete:()=>Se(a),sx:{bgcolor:f=>f.palette.mode==="dark"?Ft(f.palette.text.primary,.1):Mt[400],color:"text.secondary"}},a))}),r.jsx(R,{sx:{display:"flex",flexWrap:"wrap",gap:.5,mb:1},children:Sr.filter(a=>!m.includes(a)).map(a=>r.jsx(Ee,{label:a,size:"small",variant:"outlined",onClick:()=>ve(a),disabled:m.length>=5},a))}),r.jsxs(R,{sx:{display:"flex",gap:1},children:[r.jsx(at,{size:"small",placeholder:"Add custom focus...",value:J,onChange:a=>me(a.target.value),onKeyPress:a=>a.key==="Enter"&&ue(),disabled:m.length>=5,sx:{flex:1}}),r.jsx(fe,{variant:"outlined",size:"small",onClick:ue,disabled:!J.trim()||m.length>=5,children:"Add"})]})]}),r.jsxs(Dt,{direction:{xs:"column",sm:"row"},spacing:1,children:[r.jsx(fe,{variant:"contained",fullWidth:!0,size:"large",startIcon:o?r.jsx(st,{size:20,color:"inherit"}):r.jsx(Ze,{}),onClick:S,disabled:!x.trim()||x.length<10||o||B,children:o?"Generating...":"Generate Summary"}),r.jsx(fe,{variant:"outlined",fullWidth:!0,size:"large",startIcon:B?r.jsx(st,{size:20,color:"inherit"}):r.jsx(Ot,{}),onClick:_,disabled:!x.trim()||x.length<10||o||B,children:B?"Queueing...":"Queue in Background"})]})]})}),r.jsx(Pe,{size:{xs:12,md:6},children:r.jsxs(De,{sx:{p:3,height:"100%",display:"flex",flexDirection:"column"},children:[r.jsxs(R,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[r.jsx(N,{variant:"h6",children:"Generated Summary"}),e&&r.jsxs(R,{sx:{display:"flex",gap:1},children:[r.jsx(nt,{title:re?"Copied!":"Copy to clipboard",children:r.jsx(ot,{size:"small",onClick:ke,"aria-label":"Copy to clipboard",children:r.jsx(Kt,{fontSize:"small"})})}),r.jsx(nt,{title:"Clear",children:r.jsx(ot,{size:"small",onClick:he,"aria-label":"Clear summary",children:r.jsx(Vt,{fontSize:"small"})})})]})]}),e?r.jsxs(R,{sx:{flex:1},children:[r.jsx(De,{variant:"outlined",sx:{p:2,bgcolor:"grey.50",minHeight:200,whiteSpace:"pre-wrap"},children:r.jsx(N,{variant:"body1",children:e})}),r.jsxs(R,{sx:{mt:2,display:"flex",gap:1,flexWrap:"wrap"},children:[r.jsx(Ee,{label:`Tone: ${$}`,size:"small",variant:"outlined"}),r.jsx(Ee,{label:`${K} sentences`,size:"small",variant:"outlined"}),m.map(a=>r.jsx(Ee,{label:a,size:"small",variant:"outlined",sx:{borderColor:"divider",color:"text.secondary"}},a))]})]}):r.jsx(R,{sx:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",minHeight:300},children:r.jsxs(R,{sx:{textAlign:"center"},children:[r.jsx(Ze,{sx:{fontSize:64,color:"text.secondary",mb:2}}),r.jsx(N,{color:"text.secondary",children:'Enter your content and click "Generate Summary" to create an executive summary'})]})})]})})]}),r.jsx(Gt,{open:ce,onClose:X,onConfirm:Z,title:"Clear History",message:"Are you sure you want to clear all summary history? This action cannot be undone.",confirmLabel:"Clear All",severity:"warning"})]})}function Rr(){return pt(),r.jsx(kr,{})}export{Rr as default};
