{"version":3,"file":"ActivityPage-2vzhH3t4.js","sources":["../../../home/rohith/desktop/NeuraReport/frontend/src/features/activity/containers/ActivityPageContainer.jsx","../../../home/rohith/desktop/NeuraReport/frontend/src/pages/activity/ActivityPage.jsx"],"sourcesContent":["/**\n * Premium Activity Page\n * Beautiful activity log with animations and theme-based styling\n */\nimport { useState, useCallback, useEffect, useRef } from 'react'\nimport {\n  Box,\n  Typography,\n  Stack,\n  Button,\n  IconButton,\n  Chip,\n  Select,\n  MenuItem,\n  InputLabel,\n  CircularProgress,\n  useTheme,\n  alpha,\n  styled,\n} from '@mui/material'\nimport RefreshIcon from '@mui/icons-material/Refresh'\nimport DeleteIcon from '@mui/icons-material/Delete'\nimport HistoryIcon from '@mui/icons-material/History'\nimport DescriptionIcon from '@mui/icons-material/Description'\nimport StorageIcon from '@mui/icons-material/Storage'\nimport WorkIcon from '@mui/icons-material/Work'\nimport ScheduleIcon from '@mui/icons-material/Schedule'\nimport StarIcon from '@mui/icons-material/Star'\nimport SettingsIcon from '@mui/icons-material/Settings'\nimport OpenInNewIcon from '@mui/icons-material/OpenInNew'\nimport DashboardIcon from '@mui/icons-material/Dashboard'\nimport { useToast } from '@/components/ToastProvider'\nimport { useInteraction, InteractionType, Reversibility, useNavigateInteraction } from '@/components/ux/governance'\nimport { ConfirmModal } from '@/components/Modal'\nimport * as api from '@/api/client'\nimport { neutral, palette } from '@/app/theme'\nimport { fadeInUp, pulse, StyledFormControl, RefreshButton } from '@/styles'\n\n// =============================================================================\n// STYLED COMPONENTS\n// =============================================================================\n\nconst PageContainer = styled(Box)(({ theme }) => ({\n  padding: theme.spacing(3),\n  maxWidth: 1000,\n  margin: '0 auto',\n  width: '100%',\n  minHeight: '100vh',\n  backgroundColor: theme.palette.background.default,\n}))\n\nconst HeaderContainer = styled(Stack)(({ theme }) => ({\n  marginBottom: theme.spacing(3),\n  animation: `${fadeInUp} 0.5s ease-out`,\n}))\n\nconst FilterContainer = styled(Stack)(({ theme }) => ({\n  marginBottom: theme.spacing(3),\n  animation: `${fadeInUp} 0.5s ease-out 0.1s both`,\n}))\n\nconst ActivityListContainer = styled(Box)(({ theme }) => ({\n  backgroundColor: alpha(theme.palette.background.paper, 0.8),\n  backdropFilter: 'blur(20px)',\n  borderRadius: 8,  // Figma spec: 8px\n  border: `1px solid ${alpha(theme.palette.divider, 0.1)}`,\n  padding: theme.spacing(2),\n  boxShadow: `0 8px 32px ${alpha(theme.palette.common.black, 0.08)}`,\n  animation: `${fadeInUp} 0.5s ease-out 0.2s both`,\n}))\n\nconst DeleteButton = styled(IconButton)(({ theme }) => ({\n  borderRadius: 8,  // Figma spec: 8px\n  transition: 'all 0.2s cubic-bezier(0.22, 1, 0.36, 1)',\n  '&:hover': {\n    backgroundColor: theme.palette.mode === 'dark' ? alpha(theme.palette.text.primary, 0.08) : neutral[100],\n    color: theme.palette.text.primary,\n  },\n}))\n\nconst EmptyStateContainer = styled(Box)(({ theme }) => ({\n  padding: theme.spacing(6),\n  textAlign: 'center',\n  animation: `${fadeInUp} 0.5s ease-out`,\n}))\n\n// =============================================================================\n// HELPERS\n// =============================================================================\n\n// Map entity types to their navigation routes\nconst ENTITY_ROUTES = {\n  template: (id) => `/templates/${id}/edit`,\n  connection: () => '/connections',\n  job: () => '/jobs',\n  schedule: () => '/schedules',\n}\n\nconst ACTION_ICONS = {\n  template: DescriptionIcon,\n  connection: StorageIcon,\n  job: WorkIcon,\n  schedule: ScheduleIcon,\n  favorite: StarIcon,\n  settings: SettingsIcon,\n  default: HistoryIcon,\n}\n\nconst getActionConfig = (theme, action) => {\n  const configs = {\n    created: { color: theme.palette.text.secondary },\n    deleted: { color: theme.palette.text.secondary },\n    updated: { color: theme.palette.text.secondary },\n    completed: { color: theme.palette.text.secondary },\n    failed: { color: theme.palette.text.secondary },\n    started: { color: theme.palette.text.secondary },\n    favorite_added: { color: theme.palette.text.secondary },\n    favorite_removed: { color: theme.palette.text.secondary },\n    default: { color: theme.palette.text.secondary },\n  }\n  return configs[action] || configs.default\n}\n\nfunction formatRelativeTime(timestamp) {\n  if (!timestamp) return ''\n  const date = new Date(timestamp)\n  const now = new Date()\n  const diffMs = now - date\n  const diffMins = Math.floor(diffMs / 60000)\n  const diffHours = Math.floor(diffMs / 3600000)\n  const diffDays = Math.floor(diffMs / 86400000)\n\n  if (diffMins < 1) return 'Just now'\n  if (diffMins < 60) return `${diffMins}m ago`\n  if (diffHours < 24) return `${diffHours}h ago`\n  if (diffDays < 7) return `${diffDays}d ago`\n  return date.toLocaleDateString()\n}\n\nfunction formatAction(action) {\n  return (action || '')\n    .replace(/_/g, ' ')\n    .replace(/\\b\\w/g, (c) => c.toUpperCase())\n}\n\n// =============================================================================\n// ACTIVITY ITEM COMPONENT\n// =============================================================================\n\nfunction ActivityItem({ activity, onNavigate }) {\n  const theme = useTheme()\n  const entityTypeRaw = activity.entity_type || 'default'\n  const entityType = String(entityTypeRaw).toLowerCase().replace(/s$/, '')\n  const action = activity.action || ''\n  const actionKey = String(action).toLowerCase()\n  const Icon = ACTION_ICONS[entityType] || ACTION_ICONS.default\n  const actionConfig = getActionConfig(theme, action)\n  const accentColor = actionConfig.color\n\n  // Determine if this item is navigable (not deleted items)\n  const fallbackUrl = activity.details?.url || null\n  const routeFn = ENTITY_ROUTES[entityType]\n  const isNavigable = !actionKey.includes('deleted') && (routeFn || fallbackUrl)\n\n  const handleClick = () => {\n    if (isNavigable && onNavigate) {\n      const route = routeFn ? routeFn(activity.entity_id) : fallbackUrl\n      if (route) {\n        onNavigate(route)\n      }\n    }\n  }\n\n  return (\n    <Box\n      onClick={handleClick}\n      sx={{\n        display: 'flex',\n        alignItems: 'flex-start',\n        gap: 2,\n        py: 2,\n        borderBottom: `1px solid ${alpha(theme.palette.divider, 0.06)}`,\n        '&:last-child': { borderBottom: 'none' },\n        cursor: isNavigable ? 'pointer' : 'default',\n        borderRadius: 1,  // Figma spec: 8px\n        mx: -1,\n        px: 1,\n        transition: 'all 0.2s cubic-bezier(0.22, 1, 0.36, 1)',\n        '&:hover': isNavigable ? {\n          bgcolor: theme.palette.mode === 'dark' ? alpha(theme.palette.text.primary, 0.04) : neutral[50],\n          transform: 'translateX(4px)',\n        } : {},\n      }}\n    >\n      <Box\n        sx={{\n          width: 36,\n          height: 36,\n          borderRadius: 1,  // Figma spec: 8px\n          bgcolor: alpha(accentColor, 0.15),\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          flexShrink: 0,\n          transition: 'transform 0.2s cubic-bezier(0.22, 1, 0.36, 1)',\n          '.MuiBox-root:hover > &': isNavigable ? {\n            animation: `${pulse} 0.5s cubic-bezier(0.22, 1, 0.36, 1)`,\n          } : {},\n        }}\n      >\n        <Icon sx={{ fontSize: 16, color: accentColor }} />\n      </Box>\n      <Box sx={{ flex: 1, minWidth: 0 }}>\n        <Stack direction=\"row\" alignItems=\"center\" spacing={1} sx={{ mb: 0.5 }}>\n          <Typography\n            sx={{\n              fontSize: '14px',\n              fontWeight: 500,\n              color: theme.palette.text.primary,\n            }}\n          >\n            {formatAction(action)}\n          </Typography>\n          <Chip\n            label={entityType}\n            size=\"small\"\n            sx={{\n              height: 18,\n              fontSize: '0.625rem',\n              bgcolor: theme.palette.mode === 'dark' ? alpha(theme.palette.text.primary, 0.08) : neutral[100],\n              color: theme.palette.text.secondary,\n              borderRadius: 1,\n            }}\n          />\n        </Stack>\n        {activity.entity_name && (\n          <Typography\n            sx={{\n              fontSize: '14px',\n              color: theme.palette.text.secondary,\n              mb: 0.5,\n            }}\n          >\n            {activity.entity_name}\n          </Typography>\n        )}\n        {activity.entity_id && !activity.entity_name && (\n          <Typography\n            sx={{\n              fontSize: '0.75rem',\n              color: theme.palette.text.disabled,\n              fontFamily: 'monospace',\n              mb: 0.5,\n            }}\n          >\n            {activity.entity_id.slice(0, 20)}...\n          </Typography>\n        )}\n        <Typography\n          sx={{\n            fontSize: '12px',\n            color: theme.palette.text.disabled,\n          }}\n        >\n          {formatRelativeTime(activity.timestamp)}\n        </Typography>\n      </Box>\n      {isNavigable && (\n        <OpenInNewIcon\n          sx={{\n            fontSize: 14,\n            color: theme.palette.text.disabled,\n            opacity: 0,\n            transition: 'opacity 0.2s cubic-bezier(0.22, 1, 0.36, 1)',\n            '.MuiBox-root:hover > &': { opacity: 1 },\n          }}\n        />\n      )}\n    </Box>\n  )\n}\n\n// =============================================================================\n// MAIN COMPONENT\n// =============================================================================\n\nexport default function ActivityPage() {\n  const theme = useTheme()\n  const toast = useToast()\n  const navigate = useNavigateInteraction()\n  const { execute } = useInteraction()\n  const didLoadRef = useRef(false)\n  const handleNavigate = useCallback(\n    (path, label, intent = {}) =>\n      navigate(path, { label, intent: { from: 'activity', ...intent } }),\n    [navigate]\n  )\n\n  const [activities, setActivities] = useState([])\n  const [loading, setLoading] = useState(true)\n  const [entityTypeFilter, setEntityTypeFilter] = useState('')\n  const [actionFilter, setActionFilter] = useState('')\n  const [clearConfirmOpen, setClearConfirmOpen] = useState(false)\n  const [clearing, setClearing] = useState(false)\n\n  const fetchActivities = useCallback(async () => {\n    setLoading(true)\n    try {\n      const data = await api.getActivityLog({\n        limit: 100,\n        entityType: entityTypeFilter || undefined,\n        action: actionFilter || undefined,\n      })\n      setActivities(data?.activities || [])\n    } catch (err) {\n      toast.show(err.message || 'Failed to load activity log', 'error')\n    } finally {\n      setLoading(false)\n    }\n  }, [entityTypeFilter, actionFilter, toast])\n\n  useEffect(() => {\n    if (didLoadRef.current) return\n    didLoadRef.current = true\n    fetchActivities()\n  }, [fetchActivities])\n\n  useEffect(() => {\n    if (!didLoadRef.current) return\n    fetchActivities()\n  }, [entityTypeFilter, actionFilter, fetchActivities])\n\n  const handleClearLog = useCallback(async () => {\n    await execute({\n      type: InteractionType.DELETE,\n      label: 'Clear activity log',\n      reversibility: Reversibility.SYSTEM_MANAGED,\n      suppressSuccessToast: true,\n      suppressErrorToast: true,\n      intent: {\n        action: 'clear_activity_log',\n      },\n      action: async () => {\n        setClearing(true)\n        try {\n          const result = await api.clearActivityLog()\n          setActivities([])\n          toast.show(`Cleared ${result.cleared} activity entries`, 'success')\n          return result\n        } catch (err) {\n          toast.show(err.message || 'Failed to clear activity log', 'error')\n          throw err\n        } finally {\n          setClearing(false)\n          setClearConfirmOpen(false)\n        }\n      },\n    })\n  }, [toast, execute])\n\n  return (\n    <PageContainer>\n      {/* Header */}\n      <HeaderContainer direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\n        <Box>\n          <Typography\n            variant=\"h5\"\n            fontWeight={600}\n            sx={{ color: theme.palette.text.primary }}\n          >\n            Activity Log\n          </Typography>\n          <Typography variant=\"body2\" sx={{ color: theme.palette.text.secondary }}>\n            Track actions and events in your workspace\n          </Typography>\n        </Box>\n        <Stack direction=\"row\" spacing={1}>\n          <RefreshButton\n            onClick={fetchActivities}\n            disabled={loading}\n            data-testid=\"refresh-activity-button\"\n            aria-label=\"Refresh activities\"\n            sx={{ color: theme.palette.text.secondary }}\n          >\n            {loading ? <CircularProgress size={20} /> : <RefreshIcon />}\n          </RefreshButton>\n          <DeleteButton\n            onClick={() => setClearConfirmOpen(true)}\n            disabled={activities.length === 0}\n            data-testid=\"clear-activity-button\"\n            aria-label=\"Clear all activities\"\n            sx={{ color: theme.palette.text.secondary }}\n          >\n            <DeleteIcon />\n          </DeleteButton>\n        </Stack>\n      </HeaderContainer>\n\n      {/* Filters */}\n      <FilterContainer direction=\"row\" spacing={2}>\n        <StyledFormControl size=\"small\">\n          <InputLabel>Entity Type</InputLabel>\n          <Select\n            value={entityTypeFilter}\n            onChange={(e) => setEntityTypeFilter(e.target.value)}\n            label=\"Entity Type\"\n            data-testid=\"entity-type-filter\"\n          >\n            <MenuItem value=\"\">All</MenuItem>\n            <MenuItem value=\"template\">Template</MenuItem>\n            <MenuItem value=\"connection\">Connection</MenuItem>\n            <MenuItem value=\"job\">Job</MenuItem>\n            <MenuItem value=\"schedule\">Schedule</MenuItem>\n          </Select>\n        </StyledFormControl>\n        <StyledFormControl size=\"small\">\n          <InputLabel>Action</InputLabel>\n          <Select\n            value={actionFilter}\n            onChange={(e) => setActionFilter(e.target.value)}\n            label=\"Action\"\n            data-testid=\"action-filter\"\n          >\n            <MenuItem value=\"\">All</MenuItem>\n            <MenuItem value=\"favorite_added\">Favorite added</MenuItem>\n            <MenuItem value=\"favorite_removed\">Favorite removed</MenuItem>\n            <MenuItem value=\"template_deleted\">Template deleted</MenuItem>\n            <MenuItem value=\"job_cancelled\">Job cancelled</MenuItem>\n          </Select>\n        </StyledFormControl>\n      </FilterContainer>\n\n      {/* Activity List */}\n      <ActivityListContainer>\n        {loading ? (\n          <Box sx={{ py: 4, textAlign: 'center' }}>\n            <CircularProgress size={32} />\n          </Box>\n        ) : activities.length === 0 ? (\n          <EmptyStateContainer>\n            <HistoryIcon\n              sx={{\n                fontSize: 48,\n                color: theme.palette.text.disabled,\n                mb: 2,\n              }}\n            />\n            <Typography sx={{ fontSize: '0.875rem', color: theme.palette.text.secondary }}>\n              No activity recorded yet\n            </Typography>\n            <Typography sx={{ fontSize: '0.75rem', color: theme.palette.text.disabled, mt: 0.5, mb: 2 }}>\n              Actions like creating templates, running jobs, and more will appear here\n            </Typography>\n            <Button\n              variant=\"contained\"\n              startIcon={<DashboardIcon />}\n              onClick={() => handleNavigate('/', 'Go to Dashboard', { action: 'empty-state-cta' })}\n              sx={{ textTransform: 'none' }}\n            >\n              Go to Dashboard\n            </Button>\n          </EmptyStateContainer>\n        ) : (\n          activities.map((activity) => (\n            <ActivityItem\n              key={activity.id}\n              activity={activity}\n              onNavigate={(route) =>\n                handleNavigate(route, 'Open activity item', { route, activityId: activity.id })\n              }\n            />\n          ))\n        )}\n      </ActivityListContainer>\n\n      {/* Clear Confirmation */}\n      <ConfirmModal\n        open={clearConfirmOpen}\n        onClose={() => setClearConfirmOpen(false)}\n        onConfirm={handleClearLog}\n        title=\"Clear Activity Log\"\n        message=\"Are you sure you want to clear all activity log entries? This action cannot be undone.\"\n        confirmLabel=\"Clear All\"\n        severity=\"warning\"\n        loading={clearing}\n      />\n    </PageContainer>\n  )\n}\n","import { useInteraction } from '@/components/ux/governance'\nimport ActivityPageContainer from '@/features/activity/containers/ActivityPageContainer'\n\nexport default function ActivityPage() {\n  useInteraction()\n  return <ActivityPageContainer />\n}\n"],"names":["PageContainer","styled","Box","theme","HeaderContainer","Stack","fadeInUp","FilterContainer","ActivityListContainer","alpha","DeleteButton","IconButton","neutral","EmptyStateContainer","ENTITY_ROUTES","id","ACTION_ICONS","DescriptionIcon","StorageIcon","WorkIcon","ScheduleIcon","StarIcon","SettingsIcon","HistoryIcon","getActionConfig","action","configs","formatRelativeTime","timestamp","date","diffMs","diffMins","diffHours","diffDays","formatAction","c","ActivityItem","activity","onNavigate","useTheme","entityTypeRaw","entityType","actionKey","Icon","accentColor","fallbackUrl","routeFn","isNavigable","handleClick","route","jsxs","jsx","pulse","Typography","Chip","OpenInNewIcon","ActivityPage","toast","useToast","navigate","useNavigateInteraction","execute","useInteraction","didLoadRef","useRef","handleNavigate","useCallback","path","label","intent","activities","setActivities","useState","loading","setLoading","entityTypeFilter","setEntityTypeFilter","actionFilter","setActionFilter","clearConfirmOpen","setClearConfirmOpen","clearing","setClearing","fetchActivities","data","api.getActivityLog","err","useEffect","handleClearLog","InteractionType","Reversibility","result","api.clearActivityLog","RefreshButton","CircularProgress","RefreshIcon","DeleteIcon","StyledFormControl","InputLabel","Select","e","MenuItem","Button","DashboardIcon","ConfirmModal","ActivityPageContainer"],"mappings":"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"}