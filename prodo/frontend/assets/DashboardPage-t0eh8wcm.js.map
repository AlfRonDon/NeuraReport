{"version":3,"file":"DashboardPage-t0eh8wcm.js","sources":["../../node_modules/@mui/icons-material/esm/KeyboardCommandKey.js","../../node_modules/@mui/icons-material/esm/RadioButtonUnchecked.js","../../src/api/recommendations.js","../../src/features/dashboard/containers/DashboardPageContainer.jsx","../../src/pages/DashboardPage.jsx"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M17.5 3C15.57 3 14 4.57 14 6.5V8h-4V6.5C10 4.57 8.43 3 6.5 3S3 4.57 3 6.5 4.57 10 6.5 10H8v4H6.5C4.57 14 3 15.57 3 17.5S4.57 21 6.5 21s3.5-1.57 3.5-3.5V16h4v1.5c0 1.93 1.57 3.5 3.5 3.5s3.5-1.57 3.5-3.5-1.57-3.5-3.5-3.5H16v-4h1.5c1.93 0 3.5-1.57 3.5-3.5S19.43 3 17.5 3M16 8V6.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5S18.33 8 17.5 8zM6.5 8C5.67 8 5 7.33 5 6.5S5.67 5 6.5 5 8 5.67 8 6.5V8zm3.5 6v-4h4v4zm7.5 5c-.83 0-1.5-.67-1.5-1.5V16h1.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5m-11 0c-.83 0-1.5-.67-1.5-1.5S5.67 16 6.5 16H8v1.5c0 .83-.67 1.5-1.5 1.5\"\n}), 'KeyboardCommandKey');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8\"\n}), 'RadioButtonUnchecked');","/**\n * Template Recommendations API Client\n */\nimport apiClient from './client';\n\n/**\n * Get template recommendations based on data\n */\nexport async function getRecommendations({ dataDescription, dataColumns, industry, outputFormat }) {\n  const response = await apiClient.post('/recommendations/templates', {\n    data_description: dataDescription,\n    data_columns: dataColumns,\n    industry,\n    output_format: outputFormat,\n  });\n  const payload = response.data;\n  if (Array.isArray(payload)) {\n    return { recommendations: payload };\n  }\n  if (payload && typeof payload === 'object') {\n    return {\n      ...payload,\n      recommendations: Array.isArray(payload.recommendations)\n        ? payload.recommendations\n        : (Array.isArray(payload.templates) ? payload.templates : []),\n    };\n  }\n  return { recommendations: [] };\n}\n\n/**\n * Queue template recommendations in the background.\n */\nexport async function queueRecommendations({ dataDescription, dataColumns, industry, outputFormat }) {\n  const response = await apiClient.post('/recommendations/templates?background=true', {\n    data_description: dataDescription,\n    data_columns: dataColumns,\n    industry,\n    output_format: outputFormat,\n  });\n  return response.data;\n}\n\n/**\n * Get template catalog\n */\nexport async function getCatalog() {\n  const response = await apiClient.get('/recommendations/catalog');\n  return response.data;\n}\n\nexport default {\n  getRecommendations,\n  queueRecommendations,\n  getCatalog,\n};\n","/**\n * Dashboard Page - Premium Analytics Dashboard\n * Sophisticated UI with modern design patterns and micro-interactions\n */\n\nimport { useEffect, useState, useCallback, useRef } from 'react'\nimport { useInteraction, InteractionType, Reversibility, useNavigateInteraction } from '@/components/ux/governance'\nimport {\n  Box,\n  Typography,\n  Stack,\n  Button,\n  Chip,\n  IconButton,\n  Avatar,\n  AvatarGroup,\n  Tooltip,\n  Fade,\n  Grow,\n  Collapse,\n  alpha,\n  useTheme,\n  styled,\n} from '@mui/material'\n\n// Icons\nimport StorageIcon from '@mui/icons-material/Storage'\nimport DescriptionIcon from '@mui/icons-material/Description'\nimport AssessmentIcon from '@mui/icons-material/Assessment'\nimport WorkIcon from '@mui/icons-material/Work'\nimport AddIcon from '@mui/icons-material/Add'\nimport ScheduleIcon from '@mui/icons-material/Schedule'\nimport ArrowForwardIcon from '@mui/icons-material/ArrowForward'\nimport CheckCircleOutlineIcon from '@mui/icons-material/CheckCircleOutline'\nimport CheckCircleIcon from '@mui/icons-material/CheckCircle'\nimport RadioButtonUncheckedIcon from '@mui/icons-material/RadioButtonUnchecked'\nimport ErrorOutlineIcon from '@mui/icons-material/ErrorOutline'\nimport RocketLaunchIcon from '@mui/icons-material/RocketLaunch'\nimport HourglassEmptyIcon from '@mui/icons-material/HourglassEmpty'\nimport PlayArrowIcon from '@mui/icons-material/PlayArrow'\nimport RefreshIcon from '@mui/icons-material/Refresh'\nimport TrendingUpIcon from '@mui/icons-material/TrendingUp'\nimport TrendingDownIcon from '@mui/icons-material/TrendingDown'\nimport StarIcon from '@mui/icons-material/Star'\nimport PictureAsPdfIcon from '@mui/icons-material/PictureAsPdf'\nimport TableChartIcon from '@mui/icons-material/TableChart'\nimport AutoAwesomeIcon from '@mui/icons-material/AutoAwesome'\nimport LightbulbIcon from '@mui/icons-material/Lightbulb'\nimport KeyboardCommandKeyIcon from '@mui/icons-material/KeyboardCommandKey'\nimport WavingHandIcon from '@mui/icons-material/WavingHand'\nimport BoltIcon from '@mui/icons-material/Bolt'\nimport SpeedIcon from '@mui/icons-material/Speed'\nimport InsightsIcon from '@mui/icons-material/Insights'\n\n// Store & API\nimport { useAppStore } from '@/stores'\nimport { useToast } from '@/components/ToastProvider'\nimport SuccessCelebration, { useCelebration } from '@/components/SuccessCelebration'\nimport ReportGlossaryNotice from '@/components/ux/ReportGlossaryNotice'\nimport * as api from '@/api/client'\nimport * as recommendationsApi from '@/api/recommendations'\n\n// Import design tokens\nimport {\n  neutral,\n  figmaSpacing,\n  fontFamilyHeading,\n  fontFamilyBody,\n} from '@/app/theme'\nimport { fadeInUp, shimmer, pulse, glow, spin, GlassCard } from '@/styles'\n\n// =============================================================================\n// STYLED COMPONENTS\n// =============================================================================\n\nconst PageContainer = styled(Box)(({ theme }) => ({\n  padding: theme.spacing(3),\n  maxWidth: 1600,\n  margin: '0 auto',\n  width: '100%',\n  minHeight: '100vh',\n  position: 'relative',\n\n  // Subtle gradient background\n  '&::before': {\n    content: '\"\"',\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    background: theme.palette.mode === 'dark'\n      ? `radial-gradient(ellipse at top left, ${alpha(theme.palette.text.primary, 0.04)} 0%, transparent 50%),\n         radial-gradient(ellipse at bottom right, ${alpha(theme.palette.text.primary, 0.03)} 0%, transparent 50%)`\n      : 'none',\n    pointerEvents: 'none',\n    zIndex: -1,\n  },\n}))\n\nconst StatCardStyled = styled(Box, {\n  shouldForwardProp: (prop) => !['color', 'delay'].includes(prop),\n})(({ theme, color = 'inherit', delay = 0 }) => ({\n  position: 'relative',\n  padding: theme.spacing(2.5),\n  minHeight: 110,\n  borderRadius: 8,\n  // Figma: white cards, shadow-only, NO borders\n  backgroundColor: theme.palette.mode === 'dark'\n    ? alpha(theme.palette.background.paper, 0.6)\n    : theme.palette.common.white,\n  backdropFilter: 'none',\n  border: 'none',\n  boxShadow: theme.palette.mode === 'dark'\n    ? 'none'\n    : '0 1px 3px rgba(0,0,0,0.08), 0 4px 12px rgba(0,0,0,0.05)',\n  cursor: 'pointer',\n  overflow: 'hidden',\n  transition: 'all 0.2s cubic-bezier(0.22, 1, 0.36, 1)',\n  animation: `${fadeInUp} 0.5s ease-out ${delay}ms both`,\n\n  '&:hover': {\n    boxShadow: theme.palette.mode === 'dark'\n      ? '0 4px 12px rgba(0,0,0,0.3)'\n      : '0 2px 8px rgba(0,0,0,0.08), 0 8px 24px rgba(0,0,0,0.06)',\n  },\n}))\n\nconst QuickActionCard = styled(Box)(({ theme }) => ({\n  display: 'flex',\n  alignItems: 'center',\n  gap: theme.spacing(1.5),\n  padding: theme.spacing(1.5, 2),\n  borderRadius: 8,\n  backgroundColor: 'transparent',\n  border: 'none',\n  cursor: 'pointer',\n  transition: 'all 0.15s cubic-bezier(0.22, 1, 0.36, 1)',\n\n  '&:hover': {\n    backgroundColor: theme.palette.mode === 'dark' ? 'rgba(255,255,255,0.04)' : neutral[100],\n\n    '& .action-arrow': {\n      transform: 'translateX(4px)',\n      opacity: 1,\n    },\n\n    '& .action-icon': {\n      color: theme.palette.mode === 'dark' ? neutral[100] : neutral[900],\n    },\n  },\n}))\n\nconst OnboardingStep = styled(Box, {\n  shouldForwardProp: (prop) => !['completed', 'disabled'].includes(prop),\n})(({ theme, completed, disabled }) => ({\n  display: 'flex',\n  alignItems: 'center',\n  gap: theme.spacing(2),\n  padding: theme.spacing(2),\n  borderRadius: theme.shape.borderRadius * 1.5,\n  backgroundColor: completed\n    ? (theme.palette.mode === 'dark' ? alpha(theme.palette.text.primary, 0.08) : neutral[100])\n    : alpha(theme.palette.action.hover, 0.3),\n  border: `1px solid ${completed\n    ? (theme.palette.mode === 'dark' ? alpha(theme.palette.text.primary, 0.15) : neutral[200])\n    : alpha(theme.palette.divider, 0.1)}`,\n  cursor: disabled ? 'not-allowed' : 'pointer',\n  opacity: disabled ? 0.5 : 1,\n  transition: 'all 0.2s cubic-bezier(0.22, 1, 0.36, 1)',\n\n  ...(!disabled && !completed && {\n    '&:hover': {\n      backgroundColor: theme.palette.mode === 'dark' ? alpha(theme.palette.text.primary, 0.05) : neutral[50],\n      borderColor: theme.palette.mode === 'dark' ? alpha(theme.palette.text.primary, 0.15) : neutral[200],\n      transform: 'translateX(4px)',\n    },\n  }),\n}))\n\nconst JobListItem = styled(Box, {\n  shouldForwardProp: (prop) => prop !== 'status',\n})(({ theme, status }) => {\n  const statusColors = {\n    completed: theme.palette.mode === 'dark' ? neutral[500] : neutral[700],\n    running: theme.palette.mode === 'dark' ? neutral[500] : neutral[500],\n    pending: theme.palette.mode === 'dark' ? neutral[300] : neutral[500],\n    failed: theme.palette.mode === 'dark' ? neutral[700] : neutral[900],\n  }\n\n  return {\n    display: 'flex',\n    alignItems: 'center',\n    gap: theme.spacing(2),\n    padding: theme.spacing(1.5, 0),\n    borderBottom: `1px solid ${alpha(theme.palette.divider, 0.08)}`,\n    transition: 'all 0.15s cubic-bezier(0.22, 1, 0.36, 1)',\n    cursor: 'pointer',\n\n    '&:last-child': {\n      borderBottom: 'none',\n    },\n\n    '&:hover': {\n      backgroundColor: theme.palette.mode === 'dark' ? alpha(theme.palette.text.primary, 0.02) : neutral[50],\n      paddingLeft: theme.spacing(1),\n      paddingRight: theme.spacing(1),\n      marginLeft: theme.spacing(-1),\n      marginRight: theme.spacing(-1),\n      borderRadius: theme.shape.borderRadius,\n\n      '& .job-arrow': {\n        opacity: 1,\n        transform: 'translateX(0)',\n      },\n    },\n\n    '& .status-dot': {\n      width: 8,\n      height: 8,\n      borderRadius: '50%',\n      backgroundColor: statusColors[status] || neutral[500],\n      boxShadow: `0 0 8px ${alpha(statusColors[status] || neutral[500], 0.3)}`,\n    },\n  }\n})\n\nconst RecommendationCard = styled(Box)(({ theme }) => ({\n  padding: theme.spacing(2.5),\n  borderRadius: theme.shape.borderRadius * 1.5,\n  backgroundColor: theme.palette.mode === 'dark'\n    ? alpha(theme.palette.background.paper, 0.4)\n    : alpha(theme.palette.background.paper, 0.8),\n  border: `1px solid ${alpha(theme.palette.divider, 0.1)}`,\n  cursor: 'pointer',\n  transition: 'all 0.25s cubic-bezier(0.4, 0, 0.2, 1)',\n  position: 'relative',\n  overflow: 'hidden',\n\n  '&::before': {\n    content: '\"\"',\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    background: theme.palette.mode === 'dark'\n      ? `linear-gradient(135deg, ${alpha(theme.palette.text.primary, 0.03)} 0%, transparent 50%)`\n      : `linear-gradient(135deg, rgba(0,0,0,0.02) 0%, transparent 50%)`,\n    opacity: 0,\n    transition: 'opacity 0.3s cubic-bezier(0.22, 1, 0.36, 1)',\n  },\n\n  '&:hover': {\n    transform: 'translateY(-4px) scale(1.02)',\n    boxShadow: theme.palette.mode === 'dark'\n      ? `0 12px 24px ${alpha(theme.palette.common.black, 0.3)}`\n      : '0 12px 24px rgba(0,0,0,0.08)',\n    borderColor: theme.palette.mode === 'dark' ? alpha(theme.palette.text.primary, 0.15) : neutral[200],\n\n    '&::before': {\n      opacity: 1,\n    },\n  },\n}))\n\nconst MiniChart = styled(Box)(({ theme }) => ({\n  display: 'flex',\n  alignItems: 'flex-end',\n  gap: 4,\n  height: 50,\n  padding: theme.spacing(1, 0),\n}))\n\nconst ChartBar = styled(Box, {\n  shouldForwardProp: (prop) => !['height', 'color', 'delay'].includes(prop),\n})(({ theme, height, color, delay = 0 }) => ({\n  flex: 1,\n  height: `${height}%`,\n  minHeight: 4,\n  backgroundColor: color || (theme.palette.mode === 'dark' ? neutral[500] : neutral[700]),\n  borderRadius: 1,  // Figma spec: 8px\n  transition: 'height 0.5s cubic-bezier(0.4, 0, 0.2, 1)',\n  transitionDelay: `${delay}ms`,\n}))\n\n// =============================================================================\n// HELPER COMPONENTS\n// =============================================================================\n\nfunction StatCard({ title, value, subtitle, icon: Icon, color = 'inherit', onClick, trend, delay = 0 }) {\n  const theme = useTheme()\n\n  return (\n    <StatCardStyled color={color} delay={delay} onClick={onClick}>\n      <Stack direction=\"row\" alignItems=\"flex-start\" justifyContent=\"space-between\">\n        <Box sx={{ flex: 1 }}>\n          <Typography\n            sx={{\n              color: theme.palette.mode === 'dark' ? neutral[500] : neutral[400],  // Grey from Figma\n              fontWeight: 600,\n              textTransform: 'uppercase',\n              letterSpacing: '0.05em',\n              fontSize: '12px',\n            }}\n          >\n            {title}\n          </Typography>\n          <Typography\n            sx={{\n              fontWeight: 600,\n              fontSize: '1.5rem',\n              mt: 0.5,\n              mb: 0.5,\n              // Solid dark color - NO gradient\n              color: theme.palette.mode === 'dark' ? neutral[100] : neutral[900],\n            }}\n          >\n            {value}\n          </Typography>\n          {subtitle && (\n            <Typography sx={{ fontSize: '12px', color: theme.palette.mode === 'dark' ? neutral[500] : neutral[300] }}>\n              {subtitle}\n            </Typography>\n          )}\n          {trend !== undefined && (\n            <Stack direction=\"row\" alignItems=\"center\" spacing={0.5} sx={{ mt: 0.5 }}>\n              {trend >= 0 ? (\n                <TrendingUpIcon sx={{ fontSize: 14, color: 'text.secondary' }} />\n              ) : (\n                <TrendingDownIcon sx={{ fontSize: 14, color: 'text.secondary' }} />\n              )}\n              <Typography\n                sx={{\n                  fontWeight: 600,\n                  fontSize: '0.75rem',\n                  color: 'text.secondary',\n                }}\n              >\n                {trend >= 0 ? '+' : ''}{trend}%\n              </Typography>\n            </Stack>\n          )}\n        </Box>\n        <Box\n          className=\"stat-icon\"\n          sx={{\n            width: 48,\n            height: 48,\n            borderRadius: 1,  // Figma spec: 8px\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            // Muted grey/neutral background for ALL icons - from Figma\n            bgcolor: theme.palette.mode === 'dark' ? 'rgba(255,255,255,0.05)' : neutral[100],\n            color: theme.palette.mode === 'dark' ? neutral[500] : neutral[300],  // Muted grey icon\n          }}\n        >\n          <Icon sx={{ fontSize: 24 }} />\n        </Box>\n      </Stack>\n    </StatCardStyled>\n  )\n}\n\nfunction getStatusIcon(status) {\n  const iconProps = { sx: { fontSize: 18 } }\n  switch (status) {\n    case 'completed':\n      return <CheckCircleOutlineIcon {...iconProps} sx={{ ...iconProps.sx, color: 'text.secondary' }} />\n    case 'running':\n      return <PlayArrowIcon {...iconProps} sx={{ ...iconProps.sx, color: 'text.secondary' }} />\n    case 'pending':\n      return <HourglassEmptyIcon {...iconProps} sx={{ ...iconProps.sx, color: 'text.secondary' }} />\n    case 'failed':\n      return <ErrorOutlineIcon {...iconProps} sx={{ ...iconProps.sx, color: 'text.secondary' }} />\n    default:\n      return <HourglassEmptyIcon {...iconProps} sx={{ ...iconProps.sx, color: 'text.secondary' }} />\n  }\n}\n\n// =============================================================================\n// MAIN COMPONENT\n// =============================================================================\n\nexport default function DashboardPage() {\n  const { execute } = useInteraction()\n  const navigate = useNavigateInteraction()\n  const toast = useToast()\n  const theme = useTheme()\n  const didLoadRef = useRef(false)\n  const handleNavigate = useCallback(\n    (path, label, intent = {}) =>\n      navigate(path, { label, intent: { from: 'dashboard', ...intent } }),\n    [navigate]\n  )\n\n  const templates = useAppStore((s) => s.templates)\n  const savedConnections = useAppStore((s) => s.savedConnections)\n  const activeConnection = useAppStore((s) => s.activeConnection)\n\n  const [jobs, setJobs] = useState([])\n  const [analytics, setAnalytics] = useState(null)\n  const [favorites, setFavorites] = useState({ templates: [], connections: [] })\n  const [recommendations, setRecommendations] = useState([])\n  const [recLoading, setRecLoading] = useState(false)\n  const [recFromAI, setRecFromAI] = useState(true)\n  const [loading, setLoading] = useState(true)\n  const [refreshing, setRefreshing] = useState(false)\n  const [showOnboarding, setShowOnboarding] = useState(() => {\n    if (typeof window === 'undefined') return false\n    return window.localStorage.getItem('neurareport_onboarding_dismissed') !== 'true'\n  })\n\n  const { celebrating, celebrate, onComplete: onCelebrationComplete } = useCelebration()\n  const celebratedRef = useRef(false)\n\n  const fetchData = useCallback(async (isRefresh = false) => {\n    if (isRefresh) setRefreshing(true)\n    else setLoading(true)\n\n    try {\n      const [state, jobsData, analyticsData, favData] = await Promise.all([\n        api.bootstrapState().catch(() => null),\n        api.listJobs({ limit: 5 }).catch(() => ({ jobs: [] })),\n        api.getDashboardAnalytics().catch(() => null),\n        api.getFavorites().catch(() => ({ templates: [], connections: [] })),\n      ])\n\n      if (state?.templates) useAppStore.setState({ templates: state.templates })\n      if (state?.connections) useAppStore.setState({ savedConnections: state.connections })\n\n      setJobs(jobsData?.jobs || [])\n      setAnalytics(analyticsData)\n      setFavorites(favData)\n\n      if (!state) toast.show('Failed to load some dashboard data. Try refreshing.', 'warning')\n    } catch (err) {\n      console.error('Failed to fetch dashboard data:', err)\n      toast.show('Failed to load dashboard data. Please try again.', 'error')\n    } finally {\n      setLoading(false)\n      setRefreshing(false)\n    }\n  }, [toast])\n\n  useEffect(() => {\n    if (didLoadRef.current) return\n    didLoadRef.current = true\n    fetchData()\n  }, [fetchData])\n\n  const handleRefresh = useCallback(\n    () =>\n      execute({\n        type: InteractionType.EXECUTE,\n        label: 'Refresh dashboard',\n        reversibility: Reversibility.FULLY_REVERSIBLE,\n        suppressSuccessToast: true,\n        intent: { source: 'dashboard' },\n        action: () => fetchData(true),\n      }),\n    [execute, fetchData]\n  )\n\n  const recAttemptedRef = useRef(false)\n\n  const fetchRecommendations = useCallback(async () => {\n    if (recLoading) return\n    setRecLoading(true)\n    recAttemptedRef.current = true\n\n    const fallbackToLocal = () => {\n      const topTpls = templates.slice(0, 4).map((t) => ({\n        id: t.id,\n        name: t.name,\n        description: t.description || `${t.kind?.toUpperCase() || 'PDF'} design`,\n        kind: t.kind,\n        matchScore: 0.85,\n      }))\n      setRecommendations(topTpls)\n      setRecFromAI(false)\n    }\n\n    try {\n      const catalog = await recommendationsApi.getCatalog()\n      const tpls = catalog?.catalog || catalog?.templates || catalog?.recommendations || []\n      if (tpls.length > 0) {\n        setRecommendations(tpls.slice(0, 4))\n        setRecFromAI(true)\n      } else if (templates.length > 0) {\n        fallbackToLocal()\n      }\n    } catch {\n      if (templates.length > 0) {\n        fallbackToLocal()\n      }\n    } finally {\n      setRecLoading(false)\n    }\n  }, [recLoading, templates])\n\n  const handleRefreshRecommendations = useCallback(\n    () =>\n      execute({\n        type: InteractionType.EXECUTE,\n        label: 'Refresh recommendations',\n        reversibility: Reversibility.FULLY_REVERSIBLE,\n        suppressSuccessToast: true,\n        intent: { source: 'dashboard', recFromAI },\n        action: () => {\n          recAttemptedRef.current = false\n          return fetchRecommendations()\n        },\n      }),\n    [execute, fetchRecommendations, recFromAI]\n  )\n\n  const handleOpenCommandPalette = useCallback(() => {\n    return execute({\n      type: InteractionType.EXECUTE,\n      label: 'Open command palette',\n      reversibility: Reversibility.FULLY_REVERSIBLE,\n      suppressSuccessToast: true,\n      suppressErrorToast: true,\n      intent: { source: 'dashboard' },\n      action: () => {\n        if (typeof window === 'undefined') return\n        window.dispatchEvent(new CustomEvent('neura:open-command-palette'))\n      },\n    })\n  }, [execute])\n\n  useEffect(() => {\n    if (recommendations.length === 0 && templates.length > 0 && !recLoading && !recAttemptedRef.current) {\n      fetchRecommendations()\n    }\n  }, [templates.length, recommendations.length, recLoading, fetchRecommendations])\n\n  const summary = analytics?.summary || {}\n  const metrics = analytics?.metrics || {}\n  const topTemplates = analytics?.topTemplates || []\n  const jobsTrend = analytics?.jobsTrend || []\n  const needsOnboarding = showOnboarding && (templates.length === 0 || savedConnections.length === 0)\n\n  const allStepsComplete = savedConnections.length > 0 && templates.length > 0 && (metrics.jobsToday ?? 0) > 0\n  useEffect(() => {\n    if (allStepsComplete && showOnboarding && !celebratedRef.current) {\n      celebratedRef.current = true\n      celebrate()\n    }\n  }, [allStepsComplete, showOnboarding, celebrate])\n\n  const handleDismissOnboarding = useCallback(() => {\n    return execute({\n      type: InteractionType.UPDATE,\n      label: 'Dismiss onboarding',\n      reversibility: Reversibility.FULLY_REVERSIBLE,\n      suppressSuccessToast: true,\n      suppressErrorToast: true,\n      intent: { source: 'dashboard' },\n      action: () => {\n        setShowOnboarding(false)\n        if (typeof window !== 'undefined') {\n          window.localStorage.setItem('neurareport_onboarding_dismissed', 'true')\n        }\n      },\n    })\n  }, [execute])\n\n  const maxTrend = Math.max(...jobsTrend.map(d => d.total || 0), 1)\n\n  return (\n    <PageContainer>\n      <SuccessCelebration trigger={celebrating} onComplete={onCelebrationComplete} />\n\n      {/* ========== HEADER ========== */}\n      <Stack\n        direction={{ xs: 'column', md: 'row' }}\n        alignItems={{ xs: 'stretch', md: 'center' }}\n        justifyContent=\"space-between\"\n        spacing={3}\n        sx={{ mb: 4 }}\n      >\n        <Box sx={{ animation: `${fadeInUp} 0.4s ease-out` }}>\n          <Typography\n            sx={{\n              // FIGMA: Page Title - Tomorrow Medium 24px\n              fontFamily: fontFamilyHeading,\n              fontWeight: 500,\n              fontSize: '24px',\n              lineHeight: 'normal',\n              letterSpacing: 0,\n              mb: 0.5,\n              color: theme.palette.mode === 'dark' ? neutral[100] : neutral[900],\n            }}\n          >\n            Welcome back\n          </Typography>\n          <Typography variant=\"body2\" color=\"text.secondary\">\n            Generate intelligent reports from your data with AI-powered insights\n          </Typography>\n        </Box>\n\n        <Stack\n          direction=\"row\"\n          spacing={1.5}\n          sx={{ animation: `${fadeInUp} 0.5s ease-out 100ms both` }}\n        >\n          <Tooltip title=\"Press âŒ˜K for quick actions\">\n            <IconButton\n              onClick={handleOpenCommandPalette}\n              aria-label=\"Open command palette\"\n              sx={{\n                border: `1px solid ${alpha(theme.palette.divider, 0.1)}`,\n                bgcolor: alpha(theme.palette.background.paper, 0.5),\n                backdropFilter: 'blur(8px)',\n              }}\n            >\n              <KeyboardCommandKeyIcon sx={{ fontSize: 18 }} />\n            </IconButton>\n          </Tooltip>\n\n          <IconButton\n            onClick={handleRefresh}\n            disabled={refreshing}\n            sx={{\n              border: `1px solid ${alpha(theme.palette.divider, 0.1)}`,\n              bgcolor: alpha(theme.palette.background.paper, 0.5),\n              backdropFilter: 'blur(8px)',\n            }}\n          >\n            <RefreshIcon\n              sx={{\n                fontSize: 20,\n                animation: refreshing ? `${spin} 1s linear infinite` : 'none',\n              }}\n            />\n          </IconButton>\n\n          <Button\n            variant=\"contained\"\n            startIcon={<AddIcon />}\n            onClick={() => handleNavigate('/setup/wizard', 'Open setup wizard')}\n            sx={{\n              px: 3,\n              py: 1,\n              borderRadius: '8px',\n              fontWeight: 500,\n              fontSize: '0.875rem',\n              boxShadow: 'none',\n              '&:hover': {\n                boxShadow: 'none',\n              },\n            }}\n          >\n            New Report\n          </Button>\n        </Stack>\n      </Stack>\n\n      <ReportGlossaryNotice dense showChips={false} sx={{ mb: 3 }} />\n\n      {/* ========== ONBOARDING ========== */}\n      <Collapse in={needsOnboarding}>\n        <GlassCard\n          sx={{\n            mb: 4,\n            background: theme.palette.mode === 'dark'\n              ? `linear-gradient(135deg, ${alpha(theme.palette.text.primary, 0.05)} 0%, ${alpha(theme.palette.background.paper, 0.6)} 100%)`\n              : undefined,\n            animation: `${glow} 3s ease-in-out infinite`,\n          }}\n        >\n          <Stack direction={{ xs: 'column', md: 'row' }} spacing={3}>\n            <Box\n              sx={{\n                width: { xs: '100%', md: 64 },\n                height: 64,\n                borderRadius: 1,  // Figma spec: 8px\n                background: theme.palette.mode === 'dark' ? neutral[700] : neutral[900],\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                flexShrink: 0,\n              }}\n            >\n              <RocketLaunchIcon sx={{ fontSize: 32, color: 'white' }} />\n            </Box>\n\n            <Box sx={{ flex: 1 }}>\n              <Typography variant=\"h6\" fontWeight={600} gutterBottom>\n                Welcome! Let's create your first report\n              </Typography>\n              <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 3 }}>\n                Complete these quick steps to get started with NeuraReport\n              </Typography>\n\n              <Stack spacing={1.5}>\n                <OnboardingStep\n                  completed={savedConnections.length > 0}\n                  onClick={() => handleNavigate('/connections', 'Open connections')}\n                >\n                  {savedConnections.length > 0 ? (\n                    <CheckCircleIcon sx={{ fontSize: 24, color: 'text.secondary' }} />\n                  ) : (\n                    <RadioButtonUncheckedIcon sx={{ fontSize: 24, color: 'text.secondary' }} />\n                  )}\n                  <Box sx={{ flex: 1 }}>\n                    <Typography variant=\"subtitle2\" fontWeight={600}>\n                      Add a data source\n                    </Typography>\n                    <Typography variant=\"caption\" color=\"text.secondary\">\n                      Connect to where your data lives (database, spreadsheet)\n                    </Typography>\n                  </Box>\n                  {savedConnections.length > 0 && (\n                    <Chip label=\"Done\" size=\"small\" sx={{ fontWeight: 600, bgcolor: (theme) => theme.palette.mode === 'dark' ? alpha(theme.palette.text.primary, 0.1) : neutral[100], color: 'text.secondary' }} />\n                  )}\n                </OnboardingStep>\n\n                <OnboardingStep\n                  completed={templates.length > 0}\n                  onClick={() => handleNavigate('/templates', 'Open templates')}\n                >\n                  {templates.length > 0 ? (\n                    <CheckCircleIcon sx={{ fontSize: 24, color: 'text.secondary' }} />\n                  ) : (\n                    <RadioButtonUncheckedIcon sx={{ fontSize: 24, color: 'text.secondary' }} />\n                  )}\n                  <Box sx={{ flex: 1 }}>\n                    <Typography variant=\"subtitle2\" fontWeight={600}>\n                      Add a report design\n                    </Typography>\n                    <Typography variant=\"caption\" color=\"text.secondary\">\n                      Upload a PDF or Excel design that shows how reports should look\n                    </Typography>\n                  </Box>\n                  {templates.length > 0 && (\n                    <Chip label=\"Done\" size=\"small\" sx={{ fontWeight: 600, bgcolor: (theme) => theme.palette.mode === 'dark' ? alpha(theme.palette.text.primary, 0.1) : neutral[100], color: 'text.secondary' }} />\n                  )}\n                </OnboardingStep>\n\n                <OnboardingStep\n                  completed={(metrics.jobsToday ?? 0) > 0}\n                  disabled={savedConnections.length === 0 || templates.length === 0}\n                  onClick={() => {\n                    if (savedConnections.length > 0 && templates.length > 0) {\n                      handleNavigate('/reports', 'Open reports')\n                    }\n                  }}\n                >\n                  {(metrics.jobsToday ?? 0) > 0 ? (\n                    <CheckCircleIcon sx={{ fontSize: 24, color: 'text.secondary' }} />\n                  ) : (\n                    <RadioButtonUncheckedIcon sx={{ fontSize: 24, color: 'text.secondary' }} />\n                  )}\n                  <Box sx={{ flex: 1 }}>\n                    <Typography variant=\"subtitle2\" fontWeight={600}>\n                      Create your first report\n                    </Typography>\n                    <Typography variant=\"caption\" color=\"text.secondary\">\n                      Generate a report using your data and design\n                    </Typography>\n                  </Box>\n                  {(metrics.jobsToday ?? 0) > 0 && (\n                    <Chip label=\"Done\" size=\"small\" sx={{ fontWeight: 600, bgcolor: (theme) => theme.palette.mode === 'dark' ? alpha(theme.palette.text.primary, 0.1) : neutral[100], color: 'text.secondary' }} />\n                  )}\n                </OnboardingStep>\n              </Stack>\n\n              <Stack direction=\"row\" spacing={1.5} sx={{ mt: 3 }}>\n                <Button\n                  variant=\"contained\"\n                  onClick={() => handleNavigate('/setup/wizard', 'Open setup wizard')}\n                  startIcon={<BoltIcon />}\n                  sx={{ borderRadius: 1 }}\n                >\n                  Run Setup Wizard\n                </Button>\n                <Button\n                  variant=\"text\"\n                  onClick={handleDismissOnboarding}\n                  sx={{ color: 'text.secondary' }}\n                >\n                  Dismiss\n                </Button>\n              </Stack>\n            </Box>\n          </Stack>\n        </GlassCard>\n      </Collapse>\n\n      {/* ========== STATS GRID ========== */}\n      <Box\n        sx={{\n          display: 'grid',\n          gridTemplateColumns: {\n            xs: '1fr',\n            sm: 'repeat(2, 1fr)',\n            md: 'repeat(3, 1fr)',\n            lg: 'repeat(5, 1fr)',\n          },\n          gap: 2.5,\n          mb: 4,\n        }}\n      >\n        <StatCard\n          title=\"Connections\"\n          value={summary.totalConnections ?? savedConnections.length}\n          subtitle={`${summary.activeConnections ?? 0} active`}\n          icon={StorageIcon}\n          onClick={() => handleNavigate('/connections', 'Open connections')}\n          delay={0}\n        />\n        <StatCard\n          title=\"Templates\"\n          value={summary.totalTemplates ?? templates.length}\n          subtitle={`${summary.pdfTemplates ?? 0} PDF, ${summary.excelTemplates ?? 0} Excel`}\n          icon={DescriptionIcon}\n          onClick={() => handleNavigate('/templates', 'Open templates')}\n          delay={50}\n        />\n        <StatCard\n          title=\"Jobs Today\"\n          value={metrics.jobsToday ?? 0}\n          subtitle={`${metrics.jobsThisWeek ?? 0} this week`}\n          icon={WorkIcon}\n          onClick={() => handleNavigate('/jobs', 'Open jobs')}\n          delay={100}\n        />\n        <StatCard\n          title=\"Success Rate\"\n          value={`${metrics.successRate ?? 0}%`}\n          subtitle={`${summary.completedJobs ?? 0} completed`}\n          icon={SpeedIcon}\n          onClick={() => handleNavigate('/stats', 'Open usage stats')}\n          trend={metrics.successRateTrend}\n          delay={150}\n        />\n        <StatCard\n          title=\"Schedules\"\n          value={summary.totalSchedules ?? 0}\n          subtitle={`${summary.activeSchedules ?? 0} active`}\n          icon={ScheduleIcon}\n          onClick={() => handleNavigate('/schedules', 'Open schedules')}\n          delay={200}\n        />\n      </Box>\n\n      {/* ========== MAIN CONTENT GRID ========== */}\n      <Box\n        sx={{\n          display: 'grid',\n          gridTemplateColumns: { xs: '1fr', lg: '320px 1fr 300px' },\n          gap: 3,\n        }}\n      >\n        {/* Quick Actions */}\n        <GlassCard sx={{ animationDelay: '200ms' }}>\n          <Typography variant=\"subtitle1\" fontWeight={600} sx={{ mb: 2.5 }}>\n            Quick Actions\n          </Typography>\n          <Stack spacing={1}>\n            {[\n              { label: 'Manage Connections', icon: StorageIcon, path: '/connections' },\n              { label: 'Report Designs', icon: DescriptionIcon, path: '/templates' },\n              { label: 'Run Reports', icon: AssessmentIcon, path: '/reports' },\n              { label: 'Manage Schedules', icon: ScheduleIcon, path: '/schedules' },\n            ].map((action) => (\n              <QuickActionCard key={action.path} onClick={() => handleNavigate(action.path, `Open ${action.label}`)}>\n                <action.icon className=\"action-icon\" sx={{ fontSize: 20, color: 'text.secondary', transition: 'color 0.2s cubic-bezier(0.22, 1, 0.36, 1)' }} />\n                <Typography variant=\"body2\" fontWeight={500} sx={{ flex: 1 }}>\n                  {action.label}\n                </Typography>\n                <ArrowForwardIcon\n                  className=\"action-arrow\"\n                  sx={{\n                    fontSize: 16,\n                    color: 'text.tertiary',\n                    opacity: 0,\n                    transform: 'translateX(-4px)',\n                    transition: 'all 0.2s cubic-bezier(0.22, 1, 0.36, 1)',\n                  }}\n                />\n              </QuickActionCard>\n            ))}\n          </Stack>\n\n          {/* Mini Chart */}\n          {jobsTrend.length > 0 && (\n            <Box sx={{ mt: 4 }}>\n              <Typography variant=\"caption\" fontWeight={600} color=\"text.secondary\" sx={{ textTransform: 'uppercase', letterSpacing: '0.05em' }}>\n                Jobs This Week\n              </Typography>\n              <MiniChart sx={{ mt: 1 }}>\n                {jobsTrend.map((item, idx) => (\n                  <Tooltip key={idx} title={`${item.label}: ${item.total} jobs`} arrow>\n                    <Box sx={{ flex: 1, display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\n                      <ChartBar\n                        height={Math.max(10, (item.total / maxTrend) * 100)}\n                        color={item.failed > 0\n                          ? (theme.palette.mode === 'dark' ? neutral[700] : neutral[900])\n                          : (theme.palette.mode === 'dark' ? neutral[500] : neutral[700])}\n                        delay={idx * 50}\n                      />\n                      <Typography variant=\"caption\" sx={{ fontSize: '10px', color: 'text.tertiary', mt: 0.5 }}>\n                        {item.label}\n                      </Typography>\n                    </Box>\n                  </Tooltip>\n                ))}\n              </MiniChart>\n            </Box>\n          )}\n        </GlassCard>\n\n        {/* Recent Jobs */}\n        <GlassCard sx={{ animationDelay: '250ms' }}>\n          <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\" sx={{ mb: 2 }}>\n            <Typography variant=\"subtitle1\" fontWeight={600}>\n              Recent Jobs\n            </Typography>\n            <Button\n              size=\"small\"\n              onClick={() => handleNavigate('/jobs', 'Open jobs')}\n              sx={{ fontWeight: 600, fontSize: '0.75rem' }}\n            >\n              View All\n            </Button>\n          </Stack>\n\n          {loading ? (\n            <Stack spacing={1.5}>\n              {[1, 2, 3, 4, 5].map((i) => (\n                <Box\n                  key={i}\n                  sx={{\n                    height: 48,\n                    borderRadius: 1.5,\n                    background: `linear-gradient(90deg, ${alpha(theme.palette.action.hover, 0.5)} 25%, ${alpha(theme.palette.action.hover, 0.8)} 50%, ${alpha(theme.palette.action.hover, 0.5)} 75%)`,\n                    backgroundSize: '200% 100%',\n                    animation: `${shimmer} 1.5s ease-in-out infinite`,\n                  }}\n                />\n              ))}\n            </Stack>\n          ) : jobs.length === 0 ? (\n            <Box sx={{ py: 6, textAlign: 'center' }}>\n              <Box\n                sx={{\n                  width: 64,\n                  height: 64,\n                  borderRadius: '50%',\n                  bgcolor: theme.palette.mode === 'dark' ? alpha(theme.palette.text.primary, 0.08) : neutral[100],\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  mx: 'auto',\n                  mb: 2,\n                }}\n              >\n                <WorkIcon sx={{ fontSize: 28, color: 'text.secondary' }} />\n              </Box>\n              <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\n                No jobs yet. Run your first report to get started.\n              </Typography>\n              <Button\n                variant=\"outlined\"\n                size=\"small\"\n                onClick={() => handleNavigate('/setup/wizard', 'Open setup wizard')}\n                sx={{ borderRadius: 1 }}\n              >\n                Run First Report\n              </Button>\n            </Box>\n          ) : (\n            <Stack>\n              {jobs.slice(0, 5).map((job, index) => (\n                <Grow key={job.id} in timeout={300 + index * 100}>\n                  <JobListItem\n                    status={job.status}\n                    data-testid={`dashboard-job-${job.id}`}\n                    onClick={() =>\n                      handleNavigate('/jobs', 'Open jobs', { jobId: job.id })\n                    }\n                  >\n                    <Box className=\"status-dot\" />\n                    <Box sx={{ flex: 1, minWidth: 0 }}>\n                      <Typography variant=\"body2\" fontWeight={600} noWrap>\n                        {job.template_name || job.templateName || job.template_id?.slice(0, 12)}\n                      </Typography>\n                      <Typography variant=\"caption\" color=\"text.tertiary\">\n                        {new Date(job.created_at || job.createdAt).toLocaleString()}\n                      </Typography>\n                    </Box>\n                    <Chip\n                      label={job.status}\n                      size=\"small\"\n                      data-testid={`job-status-${job.status}`}\n                      sx={{\n                        height: 24,\n                        fontWeight: 600,\n                        textTransform: 'capitalize',\n                        fontSize: '12px',\n                        bgcolor: (theme) => theme.palette.mode === 'dark' ? alpha(theme.palette.text.primary, 0.1) : neutral[100],\n                        color: 'text.secondary',\n                      }}\n                    />\n                    <ArrowForwardIcon\n                      className=\"job-arrow\"\n                      sx={{\n                        fontSize: 16,\n                        color: 'text.tertiary',\n                        opacity: 0,\n                        transform: 'translateX(-4px)',\n                        transition: 'all 0.2s cubic-bezier(0.22, 1, 0.36, 1)',\n                      }}\n                    />\n                  </JobListItem>\n                </Grow>\n              ))}\n            </Stack>\n          )}\n        </GlassCard>\n\n        {/* Right Sidebar */}\n        <Stack spacing={3}>\n          {/* Top Designs */}\n          <GlassCard sx={{ animationDelay: '300ms' }}>\n            <Stack direction=\"row\" alignItems=\"center\" spacing={1} sx={{ mb: 2 }}>\n              <InsightsIcon sx={{ fontSize: 18, color: 'text.secondary' }} />\n              <Typography variant=\"subtitle2\" fontWeight={600}>\n                Top Designs\n              </Typography>\n            </Stack>\n\n            {topTemplates.length === 0 ? (\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                No design usage data yet\n              </Typography>\n            ) : (\n              <Stack spacing={1.5}>\n                {topTemplates.slice(0, 4).map((tpl, idx) => (\n                  <Stack\n                    key={tpl.id}\n                    direction=\"row\"\n                    alignItems=\"center\"\n                    spacing={1.5}\n                    onClick={() =>\n                      handleNavigate(`/reports?template=${tpl.id}`, 'Open reports', { templateId: tpl.id })\n                    }\n                    sx={{\n                      cursor: 'pointer',\n                      p: 1,\n                      mx: -1,\n                      borderRadius: 1.5,\n                      transition: 'all 0.15s cubic-bezier(0.22, 1, 0.36, 1)',\n                      '&:hover': {\n                        bgcolor: theme.palette.mode === 'dark' ? alpha(theme.palette.text.primary, 0.05) : neutral[100],\n                      },\n                    }}\n                  >\n                    <Avatar\n                      sx={{\n                        width: 32,\n                        height: 32,\n                        bgcolor: theme.palette.mode === 'dark' ? alpha(theme.palette.text.primary, 0.08) : neutral[100],\n                        fontSize: '0.75rem',\n                      }}\n                    >\n                      {tpl.kind === 'excel' ? (\n                        <TableChartIcon sx={{ fontSize: 16, color: 'text.secondary' }} />\n                      ) : (\n                        <PictureAsPdfIcon sx={{ fontSize: 16, color: 'text.secondary' }} />\n                      )}\n                    </Avatar>\n                    <Box sx={{ flex: 1, minWidth: 0 }}>\n                      <Typography variant=\"body2\" fontWeight={600} noWrap>\n                        {tpl.name}\n                      </Typography>\n                      <Typography variant=\"caption\" color=\"text.tertiary\">\n                        {tpl.runCount} runs\n                      </Typography>\n                    </Box>\n                  </Stack>\n                ))}\n              </Stack>\n            )}\n          </GlassCard>\n\n          {/* Favorites */}\n          <GlassCard sx={{ animationDelay: '350ms' }}>\n            <Stack direction=\"row\" alignItems=\"center\" spacing={1} sx={{ mb: 2 }}>\n              <StarIcon sx={{ fontSize: 18, color: 'text.secondary' }} />\n              <Typography variant=\"subtitle2\" fontWeight={600}>\n                Favorites\n              </Typography>\n            </Stack>\n\n            {favorites.templates.length === 0 && favorites.connections.length === 0 ? (\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                No favorites yet. Star designs or connections for quick access.\n              </Typography>\n            ) : (\n              <Stack spacing={1}>\n                {favorites.templates.slice(0, 3).map((tpl) => (\n                  <Stack\n                    key={tpl.id}\n                    direction=\"row\"\n                    alignItems=\"center\"\n                    spacing={1}\n                    sx={{\n                      cursor: 'pointer',\n                      p: 0.75,\n                      mx: -0.75,\n                      borderRadius: 1,\n                      '&:hover': { bgcolor: alpha(theme.palette.action.hover, 0.5) },\n                    }}\n                    onClick={() =>\n                      handleNavigate(`/reports?template=${tpl.id}`, 'Open reports', { templateId: tpl.id })\n                    }\n                  >\n                    <DescriptionIcon sx={{ fontSize: 16, color: 'text.secondary' }} />\n                    <Typography variant=\"body2\" noWrap sx={{ flex: 1 }}>\n                      {tpl.name}\n                    </Typography>\n                  </Stack>\n                ))}\n                {favorites.connections.slice(0, 2).map((conn) => (\n                  <Stack\n                    key={conn.id}\n                    direction=\"row\"\n                    alignItems=\"center\"\n                    spacing={1}\n                    sx={{\n                      cursor: 'pointer',\n                      p: 0.75,\n                      mx: -0.75,\n                      borderRadius: 1,\n                      '&:hover': { bgcolor: alpha(theme.palette.action.hover, 0.5) },\n                    }}\n                    onClick={() => handleNavigate('/connections', 'Open connections')}\n                  >\n                    <StorageIcon sx={{ fontSize: 16, color: 'text.secondary' }} />\n                    <Typography variant=\"body2\" noWrap sx={{ flex: 1 }}>\n                      {conn.name}\n                    </Typography>\n                  </Stack>\n                ))}\n              </Stack>\n            )}\n          </GlassCard>\n        </Stack>\n      </Box>\n\n      {/* ========== AI RECOMMENDATIONS ========== */}\n      <GlassCard\n        sx={{\n          mt: 4,\n          background: theme.palette.mode === 'dark'\n            ? `linear-gradient(135deg, ${alpha(theme.palette.text.primary, 0.04)} 0%, ${alpha(theme.palette.background.paper, 0.6)} 100%)`\n            : undefined,\n          animationDelay: '400ms',\n        }}\n      >\n        <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\" sx={{ mb: 3 }}>\n          <Stack direction=\"row\" alignItems=\"center\" spacing={2}>\n            <Box\n              sx={{\n                width: 44,\n                height: 44,\n                borderRadius: 1,  // Figma spec: 8px\n                background: theme.palette.mode === 'dark' ? neutral[700] : neutral[900],\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n              }}\n            >\n              <AutoAwesomeIcon sx={{ fontSize: 24, color: 'white' }} />\n            </Box>\n            <Box>\n              <Typography variant=\"subtitle1\" fontWeight={600}>\n                {recFromAI ? 'AI Recommendations' : 'Recent Designs'}\n              </Typography>\n              <Typography variant=\"caption\" color=\"text.secondary\">\n                {recFromAI ? 'Smart design suggestions based on your data' : 'Showing your recent designs (AI unavailable)'}\n              </Typography>\n            </Box>\n          </Stack>\n          <Button\n            size=\"small\"\n            startIcon={<LightbulbIcon sx={{ fontSize: 16 }} />}\n            onClick={handleRefreshRecommendations}\n            disabled={recLoading}\n            sx={{ fontWeight: 600 }}\n          >\n            {recLoading ? 'Loading...' : recFromAI ? 'Refresh' : 'Try AI Again'}\n          </Button>\n        </Stack>\n\n        {recLoading ? (\n          <Box\n            sx={{\n              height: 120,\n              borderRadius: 1,  // Figma spec: 8px\n              background: `linear-gradient(90deg, ${alpha(theme.palette.action.hover, 0.5)} 25%, ${alpha(theme.palette.action.hover, 0.8)} 50%, ${alpha(theme.palette.action.hover, 0.5)} 75%)`,\n              backgroundSize: '200% 100%',\n              animation: `${shimmer} 1.5s ease-in-out infinite`,\n            }}\n          />\n        ) : recommendations.length === 0 ? (\n          <Box sx={{ py: 4, textAlign: 'center' }}>\n            <Box\n              sx={{\n                width: 64,\n                height: 64,\n                borderRadius: '50%',\n                bgcolor: theme.palette.mode === 'dark' ? alpha(theme.palette.text.primary, 0.08) : neutral[100],\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                mx: 'auto',\n                mb: 2,\n              }}\n            >\n              <LightbulbIcon sx={{ fontSize: 28, color: 'text.secondary' }} />\n            </Box>\n            {templates.length === 0 ? (\n              <>\n                <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\n                  Upload a report design to unlock AI recommendations\n                </Typography>\n                <Button\n                  variant=\"outlined\"\n                  size=\"small\"\n                  onClick={() => handleNavigate('/templates', 'Open templates')}\n                  startIcon={<AddIcon />}\n                  sx={{ borderRadius: 1 }}\n                >\n                  Add Report Design\n                </Button>\n              </>\n            ) : (\n              <>\n                <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\n                  No recommendations yet\n                </Typography>\n                <Button\n                  variant=\"outlined\"\n                  size=\"small\"\n                  onClick={handleRefreshRecommendations}\n                  sx={{ borderRadius: 1 }}\n                >\n                  Get AI Recommendations\n                </Button>\n              </>\n            )}\n          </Box>\n        ) : (\n          <Box\n            sx={{\n              display: 'grid',\n              gridTemplateColumns: { xs: '1fr', sm: 'repeat(2, 1fr)', md: 'repeat(4, 1fr)' },\n              gap: 2,\n            }}\n          >\n            {recommendations.map((rec, idx) => (\n              <Grow key={rec.id} in timeout={400 + idx * 100}>\n                <RecommendationCard\n                  onClick={() =>\n                    handleNavigate(`/reports?template=${rec.id}`, 'Open reports', { templateId: rec.id })\n                  }\n                >\n                  <Stack direction=\"row\" alignItems=\"center\" spacing={1} sx={{ mb: 1.5 }}>\n                    <Avatar\n                      sx={{\n                        width: 28,\n                        height: 28,\n                        bgcolor: theme.palette.mode === 'dark' ? alpha(theme.palette.text.primary, 0.08) : neutral[100],\n                      }}\n                    >\n                      {rec.kind === 'excel' ? (\n                        <TableChartIcon sx={{ fontSize: 14, color: 'text.secondary' }} />\n                      ) : (\n                        <PictureAsPdfIcon sx={{ fontSize: 14, color: 'text.secondary' }} />\n                      )}\n                    </Avatar>\n                    {rec.matchScore && (\n                      <Chip\n                        label={`${Math.round((rec.matchScore || 0) * 100)}% match`}\n                        size=\"small\"\n                        sx={{\n                          height: 20,\n                          fontSize: '10px',\n                          fontWeight: 600,\n                          bgcolor: theme.palette.mode === 'dark' ? alpha(theme.palette.text.primary, 0.1) : neutral[100],\n                          color: 'text.secondary',\n                        }}\n                      />\n                    )}\n                  </Stack>\n                  <Typography variant=\"body2\" fontWeight={600} noWrap sx={{ mb: 0.5 }}>\n                    {rec.name}\n                  </Typography>\n                  <Typography\n                    variant=\"caption\"\n                    color=\"text.secondary\"\n                    sx={{\n                      display: '-webkit-box',\n                      WebkitLineClamp: 2,\n                      WebkitBoxOrient: 'vertical',\n                      overflow: 'hidden',\n                      lineHeight: 1.4,\n                    }}\n                  >\n                    {rec.description}\n                  </Typography>\n                </RecommendationCard>\n              </Grow>\n            ))}\n          </Box>\n        )}\n      </GlassCard>\n\n      {/* ========== ACTIVE CONNECTION ========== */}\n      {activeConnection && (\n        <Fade in>\n          <GlassCard sx={{ mt: 3, animationDelay: '450ms' }}>\n            <Stack direction=\"row\" alignItems=\"center\" spacing={2}>\n              <Avatar\n                sx={{\n                  width: 48,\n                  height: 48,\n                  bgcolor: theme.palette.mode === 'dark' ? alpha(theme.palette.text.primary, 0.08) : neutral[100],\n                }}\n              >\n                <StorageIcon sx={{ color: 'text.secondary' }} />\n              </Avatar>\n              <Box sx={{ flex: 1 }}>\n                <Typography variant=\"subtitle2\" fontWeight={600}>\n                  Connected to {activeConnection.name}\n                </Typography>\n                <Typography variant=\"caption\" color=\"text.secondary\">\n                  {activeConnection.db_type}\n                  {activeConnection.summary && ` â€¢ ${activeConnection.summary}`}\n                </Typography>\n              </Box>\n              <Chip\n                label=\"Active\"\n                size=\"small\"\n                sx={{\n                  fontWeight: 600,\n                  animation: `${pulse} 2s ease-in-out infinite`,\n                  bgcolor: (theme) => theme.palette.mode === 'dark' ? alpha(theme.palette.text.primary, 0.1) : neutral[100],\n                  color: 'text.secondary',\n                }}\n              />\n            </Stack>\n          </GlassCard>\n        </Fade>\n      )}\n    </PageContainer>\n  )\n}\n","import { useInteraction } from '@/components/ux/governance'\nimport DashboardPageContainer from '@/features/dashboard/containers/DashboardPageContainer'\n\nexport default function DashboardPage() {\n  useInteraction()\n  return <DashboardPageContainer />\n}\n"],"names":["KeyboardCommandKeyIcon","createSvgIcon","_jsx","RadioButtonUncheckedIcon","getCatalog","apiClient","PageContainer","styled","Box","theme","alpha","StatCardStyled","prop","color","delay","fadeInUp","QuickActionCard","neutral","OnboardingStep","completed","disabled","JobListItem","status","statusColors","RecommendationCard","MiniChart","ChartBar","height","StatCard","title","value","subtitle","Icon","onClick","trend","useTheme","jsx","jsxs","Stack","Typography","TrendingUpIcon","TrendingDownIcon","DashboardPage","execute","useInteraction","navigate","useNavigateInteraction","toast","useToast","didLoadRef","useRef","handleNavigate","useCallback","path","label","intent","templates","useAppStore","s","savedConnections","activeConnection","jobs","setJobs","useState","analytics","setAnalytics","favorites","setFavorites","recommendations","setRecommendations","recLoading","setRecLoading","recFromAI","setRecFromAI","loading","setLoading","refreshing","setRefreshing","showOnboarding","setShowOnboarding","celebrating","celebrate","onCelebrationComplete","useCelebration","celebratedRef","fetchData","isRefresh","state","jobsData","analyticsData","favData","api.bootstrapState","api.listJobs","api.getDashboardAnalytics","api.getFavorites","err","useEffect","handleRefresh","InteractionType","Reversibility","recAttemptedRef","fetchRecommendations","fallbackToLocal","topTpls","t","catalog","recommendationsApi.getCatalog","tpls","handleRefreshRecommendations","handleOpenCommandPalette","summary","metrics","topTemplates","jobsTrend","needsOnboarding","allStepsComplete","handleDismissOnboarding","maxTrend","d","SuccessCelebration","fontFamilyHeading","Tooltip","IconButton","RefreshIcon","spin","Button","AddIcon","ReportGlossaryNotice","Collapse","GlassCard","glow","RocketLaunchIcon","CheckCircleIcon","Chip","BoltIcon","StorageIcon","DescriptionIcon","WorkIcon","SpeedIcon","ScheduleIcon","AssessmentIcon","action","ArrowForwardIcon","item","idx","i","shimmer","job","index","Grow","InsightsIcon","tpl","Avatar","TableChartIcon","PictureAsPdfIcon","StarIcon","conn","AutoAwesomeIcon","LightbulbIcon","Fragment","rec","Fade","pulse","DashboardPageContainer"],"mappings":"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","x_google_ignoreList":[0,1]}