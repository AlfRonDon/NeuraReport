import{c as Dt,j as l,bi as j,b5 as yt,r as k,B as at,S as dt,T as Y,v as At,k as Ht,p as Yt,n as Jt,o as jt,as as Qt,ah as te}from"./index-B8Eu23bA.js";import{i as kt,D as ee,f as gt,E as It,L as F,a as Z,C as Lt,A as Ct,b as K,c as Tt,d as B,h as re,e as $t,g as V,u as Rt,G as zt,j as lt,S as Ot,k as ne,l as ie,m as ae,n as Kt,o as Bt,X as J,Y as Q,p as Nt,R as oe,q as se,B as le,r as ce,s as ht,T as ot,t as st,v as ue,P as fe,w as pe}from"./PieChart-BVneXJBn.js";const Je=Dt([l.jsx("path",{d:"M21 8c-1.45 0-2.26 1.44-1.93 2.51l-3.55 3.56c-.3-.09-.74-.09-1.04 0l-2.55-2.55C12.27 10.45 11.46 9 10 9c-1.45 0-2.27 1.44-1.93 2.52l-4.56 4.55C2.44 15.74 1 16.55 1 18c0 1.1.9 2 2 2 1.45 0 2.26-1.44 1.93-2.51l4.55-4.56c.3.09.74.09 1.04 0l2.55 2.55C12.73 16.55 13.54 18 15 18c1.45 0 2.27-1.44 1.93-2.52l3.56-3.55c1.07.33 2.51-.48 2.51-1.93 0-1.1-.9-2-2-2"},"0"),l.jsx("path",{d:"m15 9 .94-2.07L18 6l-2.06-.93L15 3l-.92 2.07L12 6l2.08.93zM3.5 11 4 9l2-.5L4 8l-.5-2L3 8l-2 .5L3 9z"},"1")]),de=Dt(l.jsx("path",{d:"m15 3 2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3zm6 12-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6zm12-6-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6z"}));var he=["type","layout","connectNulls","ref"],ye=["key"];function G(t){"@babel/helpers - typeof";return G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(t)}function Pt(t,e){if(t==null)return{};var n=me(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function me(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tt(){return tt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tt.apply(this,arguments)}function St(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?St(Object(n),!0).forEach(function(r){$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U(t){return ge(t)||xe(t)||be(t)||ve()}function ve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function be(t,e){if(t){if(typeof t=="string")return mt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mt(t,e)}}function xe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ge(t){if(Array.isArray(t))return mt(t)}function mt(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mt(r.key),r)}}function je(t,e,n){return e&&wt(t.prototype,e),n&&wt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oe(t,e,n){return e=ct(e),Pe(t,Ft()?Reflect.construct(e,n||[],ct(t).constructor):e.apply(t,n))}function Pe(t,e){if(e&&(G(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Se(t)}function Se(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ft(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ft=function(){return!!t})()}function ct(t){return ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ct(t)}function we(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vt(t,e)}function vt(t,e){return vt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vt(t,e)}function $(t,e,n){return e=Mt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mt(t){var e=_e(t,"string");return G(e)=="symbol"?e:e+""}function _e(t,e){if(G(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(G(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nt=(function(t){function e(){var n;Ae(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Oe(this,e,[].concat(i)),$(n,"state",{isAnimationFinished:!0,totalLength:0}),$(n,"generateSimpleStrokeDasharray",function(o,c){return"".concat(c,"px ").concat(o-c,"px")}),$(n,"getStrokeDasharray",function(o,c,s){var y=s.reduce(function(P,S){return P+S});if(!y)return n.generateSimpleStrokeDasharray(c,o);for(var u=Math.floor(o/y),f=o%y,p=c-o,h=[],d=0,b=0;d<s.length;b+=s[d],++d)if(b+s[d]>f){h=[].concat(U(s.slice(0,d)),[f-b]);break}var O=h.length%2===0?[0,p]:[p];return[].concat(U(e.repeat(s,u)),U(h),O).map(function(P){return"".concat(P,"px")}).join(", ")}),$(n,"id",Rt("recharts-line-")),$(n,"pathRef",function(o){n.mainCurve=o}),$(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),$(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return we(e,t),je(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,c=a.xAxis,s=a.yAxis,y=a.layout,u=a.children,f=gt(u,It);if(!f)return null;var p=function(b,O){return{x:b.x,y:b.y,value:b.value,errorVal:V(b.payload,O)}},h={clipPath:r?"url(#clipPath-".concat(i,")"):null};return j.createElement(F,h,f.map(function(d){return j.cloneElement(d,{key:"bar-".concat(d.props.dataKey),data:o,xAxis:c,yAxis:s,layout:y,dataPointFormatter:p})}))}},{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var c=this.props,s=c.dot,y=c.points,u=c.dataKey,f=Z(this.props,!1),p=Z(s,!0),h=y.map(function(b,O){var P=I(I(I({key:"dot-".concat(O),r:3},f),p),{},{index:O,cx:b.x,cy:b.y,value:b.value,dataKey:u,payload:b.payload,points:y});return e.renderDotItem(s,P)}),d={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return j.createElement(F,tt({className:"recharts-line-dots",key:"dots"},d),h)}},{key:"renderCurveStatically",value:function(r,i,a,o){var c=this.props,s=c.type,y=c.layout,u=c.connectNulls;c.ref;var f=Pt(c,he),p=I(I(I({},Z(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:s,layout:y,connectNulls:u});return j.createElement(Lt,tt({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,o=this.props,c=o.points,s=o.strokeDasharray,y=o.isAnimationActive,u=o.animationBegin,f=o.animationDuration,p=o.animationEasing,h=o.animationId,d=o.animateNewValues,b=o.width,O=o.height,P=this.state,S=P.prevPoints,A=P.totalLength;return j.createElement(Ct,{begin:u,duration:f,isActive:y,easing:p,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(D){var E=D.t;if(S){var m=S.length/c.length,v=c.map(function(g,N){var R=Math.floor(N*m);if(S[R]){var z=S[R],C=K(z.x,g.x),H=K(z.y,g.y);return I(I({},g),{},{x:C(E),y:H(E)})}if(d){var qt=K(b*2,g.x),Xt=K(O/2,g.y);return I(I({},g),{},{x:qt(E),y:Xt(E)})}return I(I({},g),{},{x:g.x,y:g.y})});return a.renderCurveStatically(v,r,i)}var w=K(0,A),x=w(E),_;if(s){var L="".concat(s).split(/[,\s]+/gim).map(function(g){return parseFloat(g)});_=a.getStrokeDasharray(x,A,L)}else _=a.generateSimpleStrokeDasharray(A,x);return a.renderCurveStatically(c,r,i,{strokeDasharray:_})})}},{key:"renderCurve",value:function(r,i){var a=this.props,o=a.points,c=a.isAnimationActive,s=this.state,y=s.prevPoints,u=s.totalLength;return c&&o&&o.length&&(!y&&u>0||!Tt(y,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,c=i.points,s=i.className,y=i.xAxis,u=i.yAxis,f=i.top,p=i.left,h=i.width,d=i.height,b=i.isAnimationActive,O=i.id;if(a||!c||!c.length)return null;var P=this.state.isAnimationFinished,S=c.length===1,A=yt("recharts-line",s),D=y&&y.allowDataOverflow,E=u&&u.allowDataOverflow,m=D||E,v=B(O)?this.id:O,w=(r=Z(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},x=w.r,_=x===void 0?3:x,L=w.strokeWidth,g=L===void 0?2:L,N=re(o)?o:{},R=N.clipDot,z=R===void 0?!0:R,C=_*2+g;return j.createElement(F,{className:A},D||E?j.createElement("defs",null,j.createElement("clipPath",{id:"clipPath-".concat(v)},j.createElement("rect",{x:D?p:p-h/2,y:E?f:f-d/2,width:D?h:h*2,height:E?d:d*2})),!z&&j.createElement("clipPath",{id:"clipPath-dots-".concat(v)},j.createElement("rect",{x:p-C/2,y:f-C/2,width:h+C,height:d+C}))):null,!S&&this.renderCurve(m,v),this.renderErrorBar(m,v),(S||o)&&this.renderDots(m,z,v),(!b||P)&&$t.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(U(r),[0]):r,o=[],c=0;c<i;++c)o=[].concat(U(o),U(a));return o}},{key:"renderDotItem",value:function(r,i){var a;if(j.isValidElement(r))a=j.cloneElement(r,i);else if(kt(r))a=r(i);else{var o=i.key,c=Pt(i,ye),s=yt("recharts-line-dot",typeof r!="boolean"?r.className:"");a=j.createElement(ee,tt({key:o},c,{className:s}))}return a}}])})(k.PureComponent);$(nt,"displayName","Line");$(nt,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!zt.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});$(nt,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,c=t.bandSize,s=t.displayedData,y=t.offset,u=e.layout,f=s.map(function(p,h){var d=V(p,o);return u==="horizontal"?{x:lt({axis:n,ticks:i,bandSize:c,entry:p,index:h}),y:B(d)?null:r.scale(d),value:d,payload:p}:{x:B(d)?null:n.scale(d),y:lt({axis:r,ticks:a,bandSize:c,entry:p,index:h}),value:d,payload:p}});return I({points:f,layout:u},y)});function q(t){"@babel/helpers - typeof";return q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(t)}function Ee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function De(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ut(r.key),r)}}function ke(t,e,n){return e&&De(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ie(t,e,n){return e=ut(e),Le(t,Wt()?Reflect.construct(e,n||[],ut(t).constructor):e.apply(t,n))}function Le(t,e){if(e&&(q(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ce(t)}function Ce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wt=function(){return!!t})()}function ut(t){return ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ut(t)}function Te(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bt(t,e)}function bt(t,e){return bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bt(t,e)}function Zt(t,e,n){return e=Ut(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ut(t){var e=$e(t,"string");return q(e)=="symbol"?e:e+""}function $e(t,e){if(q(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(q(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pt=(function(t){function e(){return Ee(this,e),Ie(this,e,arguments)}return Te(e,t),ke(e,[{key:"render",value:function(){return null}}])})(k.Component);Zt(pt,"displayName","ZAxis");Zt(pt,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var Re=["option","isActive"];function et(){return et=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},et.apply(this,arguments)}function ze(t,e){if(t==null)return{};var n=Ke(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ke(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Be(t){var e=t.option,n=t.isActive,r=ze(t,Re);return typeof e=="string"?k.createElement(Ot,et({option:k.createElement(ne,et({type:e},r)),isActive:n,shapeType:"symbols"},r)):k.createElement(Ot,et({option:e,isActive:n,shapeType:"symbols"},r))}function X(t){"@babel/helpers - typeof";return X=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(t)}function rt(){return rt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rt.apply(this,arguments)}function _t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_t(Object(n),!0).forEach(function(r){M(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gt(r.key),r)}}function Fe(t,e,n){return e&&Et(t.prototype,e),n&&Et(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Me(t,e,n){return e=ft(e),We(t,Vt()?Reflect.construct(e,n||[],ft(t).constructor):e.apply(t,n))}function We(t,e){if(e&&(X(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ze(t)}function Ze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vt=function(){return!!t})()}function ft(t){return ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ft(t)}function Ue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xt(t,e)}function xt(t,e){return xt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xt(t,e)}function M(t,e,n){return e=Gt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gt(t){var e=Ve(t,"string");return X(e)=="symbol"?e:e+""}function Ve(t,e){if(X(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(X(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var it=(function(t){function e(){var n;Ne(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Me(this,e,[].concat(i)),M(n,"state",{isAnimationFinished:!1}),M(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),M(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),M(n,"id",Rt("recharts-scatter-")),n}return Ue(e,t),Fe(e,[{key:"renderSymbolsStatically",value:function(r){var i=this,a=this.props,o=a.shape,c=a.activeShape,s=a.activeIndex,y=Z(this.props,!1);return r.map(function(u,f){var p=s===f,h=p?c:o,d=T(T({},y),u);return j.createElement(F,rt({className:"recharts-scatter-symbol",key:"symbol-".concat(u?.cx,"-").concat(u?.cy,"-").concat(u?.size,"-").concat(f)},ie(i.props,u,f),{role:"img"}),j.createElement(Be,rt({option:h,isActive:p,key:"symbol-".concat(f)},d)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,i=this.props,a=i.points,o=i.isAnimationActive,c=i.animationBegin,s=i.animationDuration,y=i.animationEasing,u=i.animationId,f=this.state.prevPoints;return j.createElement(Ct,{begin:c,duration:s,isActive:o,easing:y,from:{t:0},to:{t:1},key:"pie-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var h=p.t,d=a.map(function(b,O){var P=f&&f[O];if(P){var S=K(P.cx,b.cx),A=K(P.cy,b.cy),D=K(P.size,b.size);return T(T({},b),{},{cx:S(h),cy:A(h),size:D(h)})}var E=K(0,b.size);return T(T({},b),{},{size:E(h)})});return j.createElement(F,null,r.renderSymbolsStatically(d))})}},{key:"renderSymbols",value:function(){var r=this.props,i=r.points,a=r.isAnimationActive,o=this.state.prevPoints;return a&&i&&i.length&&(!o||!Tt(o,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.points,o=i.xAxis,c=i.yAxis,s=i.children,y=gt(s,It);return y?y.map(function(u,f){var p=u.props,h=p.direction,d=p.dataKey;return j.cloneElement(u,{key:"".concat(h,"-").concat(d,"-").concat(a[f]),data:a,xAxis:o,yAxis:c,layout:h==="x"?"vertical":"horizontal",dataPointFormatter:function(O,P){return{x:O.cx,y:O.cy,value:h==="x"?+O.node.x:+O.node.y,errorVal:V(O,P)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,i=r.points,a=r.line,o=r.lineType,c=r.lineJointType,s=Z(this.props,!1),y=Z(a,!1),u,f;if(o==="joint")u=i.map(function(A){return{x:A.cx,y:A.cy}});else if(o==="fitting"){var p=ae(i),h=p.xmin,d=p.xmax,b=p.a,O=p.b,P=function(D){return b*D+O};u=[{x:h,y:P(h)},{x:d,y:P(d)}]}var S=T(T(T({},s),{},{fill:"none",stroke:s&&s.fill},y),{},{points:u});return j.isValidElement(a)?f=j.cloneElement(a,S):kt(a)?f=a(S):f=j.createElement(Lt,rt({},S,{type:c})),j.createElement(F,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.points,o=r.line,c=r.className,s=r.xAxis,y=r.yAxis,u=r.left,f=r.top,p=r.width,h=r.height,d=r.id,b=r.isAnimationActive;if(i||!a||!a.length)return null;var O=this.state.isAnimationFinished,P=yt("recharts-scatter",c),S=s&&s.allowDataOverflow,A=y&&y.allowDataOverflow,D=S||A,E=B(d)?this.id:d;return j.createElement(F,{className:P,clipPath:D?"url(#clipPath-".concat(E,")"):null},S||A?j.createElement("defs",null,j.createElement("clipPath",{id:"clipPath-".concat(E)},j.createElement("rect",{x:S?u:u-p/2,y:A?f:f-h/2,width:S?p:p*2,height:A?h:h*2}))):null,o&&this.renderLine(),this.renderErrorBar(),j.createElement(F,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!b||O)&&$t.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}}])})(k.PureComponent);M(it,"displayName","Scatter");M(it,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!zt.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});M(it,"getComposedData",function(t){var e=t.xAxis,n=t.yAxis,r=t.zAxis,i=t.item,a=t.displayedData,o=t.xAxisTicks,c=t.yAxisTicks,s=t.offset,y=i.props.tooltipType,u=gt(i.props.children,Kt),f=B(e.dataKey)?i.props.dataKey:e.dataKey,p=B(n.dataKey)?i.props.dataKey:n.dataKey,h=r&&r.dataKey,d=r?r.range:pt.defaultProps.range,b=d&&d[0],O=e.scale.bandwidth?e.scale.bandwidth():0,P=n.scale.bandwidth?n.scale.bandwidth():0,S=a.map(function(A,D){var E=V(A,f),m=V(A,p),v=!B(h)&&V(A,h)||"-",w=[{name:B(e.dataKey)?i.props.name:e.name||e.dataKey,unit:e.unit||"",value:E,payload:A,dataKey:f,type:y},{name:B(n.dataKey)?i.props.name:n.name||n.dataKey,unit:n.unit||"",value:m,payload:A,dataKey:p,type:y}];v!=="-"&&w.push({name:r.name||r.dataKey,unit:r.unit||"",value:v,payload:A,dataKey:h,type:y});var x=lt({axis:e,ticks:o,bandSize:O,entry:A,index:D,dataKey:f}),_=lt({axis:n,ticks:c,bandSize:P,entry:A,index:D,dataKey:p}),L=v!=="-"?r.scale(v):b,g=Math.sqrt(Math.max(L,0)/Math.PI);return T(T({},A),{},{cx:x,cy:_,x:x-g,y:_-g,xAxis:e,yAxis:n,zAxis:r,width:2*g,height:2*g,size:L,node:{x:E,y:m,z:v},tooltipPayload:w,tooltipPosition:{x,y:_},payload:A},u&&u[D]&&u[D].props)});return T({points:S},s)});var Ge=Bt({chartName:"LineChart",GraphicalChild:nt,axisComponents:[{axisType:"xAxis",AxisComp:J},{axisType:"yAxis",AxisComp:Q}],formatAxisMap:Nt}),qe=Bt({chartName:"ScatterChart",GraphicalChild:it,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:J},{axisType:"yAxis",AxisComp:Q},{axisType:"zAxis",AxisComp:pt}],formatAxisMap:Nt});const W=["#4f46e5","#22c55e","#0ea5e9","#f97316","#ec4899","#a855f7","#06b6d4","#eab308"],Xe={top:8,right:16,bottom:24,left:8};function Qe({data:t=[],spec:e={},height:n=350,showBrush:r=!0,showZoomControls:i=!0}){const a=k.useRef(null),[o,c]=k.useState(!1),[s,y]=k.useState({refAreaLeft:null,refAreaRight:null,startIndex:0,endIndex:null,isZoomed:!1}),{type:u="bar",xField:f,yFields:p=[],title:h}=e,d=k.useMemo(()=>{if(!t||t.length===0)return[];if(s.isZoomed&&s.startIndex!==null){const m=s.endIndex??t.length;return t.slice(s.startIndex,m+1)}return t},[t,s]),b=k.useCallback(m=>{m?.activeLabel&&y(v=>({...v,refAreaLeft:m.activeLabel,refAreaRight:null}))},[]),O=k.useCallback(m=>{!s.refAreaLeft||!m?.activeLabel||y(v=>({...v,refAreaRight:m.activeLabel}))},[s.refAreaLeft]),P=k.useCallback(()=>{if(!s.refAreaLeft||!s.refAreaRight){y(g=>({...g,refAreaLeft:null,refAreaRight:null}));return}let m=s.refAreaLeft,v=s.refAreaRight;const w=t.findIndex(g=>g[f]===m),x=t.findIndex(g=>g[f]===v);w>x&&([m,v]=[v,m]);const _=Math.min(w,x),L=Math.max(w,x);if(L-_<1){y(g=>({...g,refAreaLeft:null,refAreaRight:null}));return}y({refAreaLeft:null,refAreaRight:null,startIndex:_,endIndex:L,isZoomed:!0})},[s.refAreaLeft,s.refAreaRight,t,f]),S=k.useCallback(()=>{y({refAreaLeft:null,refAreaRight:null,startIndex:0,endIndex:null,isZoomed:!1})},[]),A=k.useCallback(async()=>{if(a.current){c(!0);try{const m=a.current.querySelector("svg");if(!m){console.warn("No SVG found to export");return}const v=m.cloneNode(!0),w=document.createElementNS("http://www.w3.org/2000/svg","rect");w.setAttribute("width","100%"),w.setAttribute("height","100%"),w.setAttribute("fill","white"),v.insertBefore(w,v.firstChild);const x=m.getBoundingClientRect();v.setAttribute("width",x.width),v.setAttribute("height",x.height);const _=new XMLSerializer().serializeToString(v),L=new Blob([_],{type:"image/svg+xml;charset=utf-8"}),g=URL.createObjectURL(L),N=document.createElement("canvas"),R=N.getContext("2d"),z=new Image;z.onload=()=>{N.width=x.width*2,N.height=x.height*2,R.scale(2,2),R.fillStyle="white",R.fillRect(0,0,x.width,x.height),R.drawImage(z,0,0);const C=N.toDataURL("image/png"),H=document.createElement("a");H.href=C,H.download=`chart_${h||"export"}_${Date.now()}.png`,H.click(),URL.revokeObjectURL(g),c(!1)},z.onerror=()=>{const C=document.createElement("a");C.href=g,C.download=`chart_${h||"export"}_${Date.now()}.svg`,C.click(),URL.revokeObjectURL(g),c(!1)},z.src=g}catch(m){console.error("Failed to export chart:",m),c(!1)}}},[h]),D=k.useCallback(m=>{if(!m)return;const{startIndex:v,endIndex:w}=m;v!==void 0&&w!==void 0&&y(x=>({...x,startIndex:v,endIndex:w,isZoomed:v>0||w<t.length-1}))},[t.length]),E=()=>{if(!f||p.length===0)return l.jsx(at,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:n},children:l.jsx(Y,{color:"text.secondary",children:"Invalid chart configuration"})});if(!d||d.length===0)return l.jsx(at,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:n},children:l.jsx(Y,{color:"text.secondary",children:"No data available"})});const m={data:d,margin:Xe,onMouseDown:u!=="pie"?b:void 0,onMouseMove:u!=="pie"?O:void 0,onMouseUp:u!=="pie"?P:void 0},v=s.refAreaLeft&&s.refAreaRight?l.jsx(se,{x1:s.refAreaLeft,x2:s.refAreaRight,strokeOpacity:.3,fill:"#4f46e5",fillOpacity:.3}):null,w=r&&u!=="pie"&&t.length>10?l.jsx(le,{dataKey:f,height:24,stroke:"#4f46e5",travellerWidth:8,onChange:D,startIndex:s.startIndex,endIndex:s.endIndex??t.length-1}):null;switch(u){case"line":return l.jsxs(Ge,{...m,children:[l.jsx(ht,{strokeDasharray:"3 3"}),l.jsx(J,{dataKey:f,tick:{fontSize:11}}),l.jsx(Q,{tick:{fontSize:11}}),l.jsx(ot,{}),l.jsx(st,{}),p.map((x,_)=>l.jsx(nt,{type:"monotone",dataKey:x,stroke:W[_%W.length],strokeWidth:2,dot:{r:3},activeDot:{r:5}},x)),v,w]});case"pie":return l.jsxs(fe,{children:[l.jsx(pe,{data:d,dataKey:p[0],nameKey:f,cx:"50%",cy:"50%",innerRadius:"40%",outerRadius:"75%",label:({name:x,percent:_})=>`${x}: ${(_*100).toFixed(0)}%`,labelLine:{stroke:"#666",strokeWidth:1},children:d.map((x,_)=>l.jsx(Kt,{fill:W[_%W.length]},`cell-${_}`))}),l.jsx(ot,{}),l.jsx(st,{})]});case"scatter":return l.jsxs(qe,{...m,children:[l.jsx(ht,{strokeDasharray:"3 3"}),l.jsx(J,{dataKey:f,name:f,tick:{fontSize:11}}),l.jsx(Q,{dataKey:p[0],name:p[0],tick:{fontSize:11}}),l.jsx(ot,{cursor:{strokeDasharray:"3 3"}}),l.jsx(st,{}),l.jsx(it,{name:p[0],data:d,fill:W[0]}),v,w]});default:return l.jsxs(ce,{...m,children:[l.jsx(ht,{strokeDasharray:"3 3"}),l.jsx(J,{dataKey:f,tick:{fontSize:11}}),l.jsx(Q,{tick:{fontSize:11}}),l.jsx(ot,{}),l.jsx(st,{}),p.map((x,_)=>l.jsx(ue,{dataKey:x,fill:W[_%W.length],radius:[4,4,0,0]},x)),v,w]})}};return l.jsxs(at,{children:[l.jsxs(dt,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:1},children:[l.jsxs(dt,{direction:"row",spacing:1,alignItems:"center",children:[h&&l.jsx(Y,{variant:"subtitle1",fontWeight:600,children:h}),l.jsx(At,{label:u.toUpperCase(),size:"small",variant:"outlined"}),s.isZoomed&&l.jsx(At,{label:"Zoomed",size:"small",sx:{bgcolor:m=>m.palette.mode==="dark"?Yt(m.palette.text.primary,.1):Ht[400],color:"text.secondary"}})]}),l.jsxs(dt,{direction:"row",spacing:.5,alignItems:"center",children:[l.jsx(Jt,{title:"Export chart as PNG",children:l.jsx(jt,{size:"small",onClick:A,disabled:o,children:o?l.jsx(Qt,{size:16}):l.jsx(te,{fontSize:"small"})})}),i&&u!=="pie"&&l.jsxs(l.Fragment,{children:[l.jsx(jt,{size:"small",onClick:S,disabled:!s.isZoomed,title:"Reset zoom",children:l.jsx(de,{fontSize:"small"})}),l.jsx(Y,{variant:"caption",color:"text.secondary",children:"Drag to zoom"})]})]})]}),l.jsx(at,{ref:a,sx:{width:"100%",height:n},children:l.jsx(oe,{width:"100%",height:"100%",children:E()})}),e.description&&l.jsx(Y,{variant:"body2",color:"text.secondary",sx:{mt:1},children:e.description})]})}export{Je as I,Qe as Z};
