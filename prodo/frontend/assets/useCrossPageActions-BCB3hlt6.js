import{ad as M,a as _,v as h,ae as n,r as S,R as p,I as m}from"./index-DeRHNZar.js";const E={TEXT:"text",RICH_TEXT:"rich_text",TABLE:"table",DOCUMENT:"document",DIAGRAM:"diagram",DATASET:"dataset",REPORT:"report",ANALYSIS:"analysis"},a={OPEN_IN:"open_in",ADD_TO:"add_to",CREATE_FROM:"create_from",CHAT_WITH:"chat_with",ENRICH:"enrich",VISUALIZE:"visualize",SAVE_TO:"save_to"},s={AGENTS:"agents",DOCQA:"docqa",SYNTHESIS:"synthesis",SUMMARY:"summary",QUERY:"query",VISUALIZATION:"visualization",KNOWLEDGE:"knowledge",ENRICHMENT:"enrichment",FEDERATION:"federation",DOCUMENTS:"documents",SPREADSHEETS:"spreadsheets",DASHBOARDS:"dashboards",WORKFLOWS:"workflows",INGESTION:"ingestion",REPORTS:"reports",DESIGN:"design",SEARCH:"search"},C={[s.DOCQA]:[E.TEXT,E.RICH_TEXT,E.DOCUMENT,E.REPORT],[s.SYNTHESIS]:[E.TEXT,E.RICH_TEXT,E.DOCUMENT,E.REPORT],[s.DOCUMENTS]:[E.TEXT,E.RICH_TEXT,E.ANALYSIS,E.REPORT],[s.SPREADSHEETS]:[E.TABLE,E.DATASET],[s.DASHBOARDS]:[E.TABLE,E.DIAGRAM,E.DATASET],[s.KNOWLEDGE]:[E.TEXT,E.RICH_TEXT,E.DOCUMENT,E.ANALYSIS,E.REPORT],[s.ENRICHMENT]:[E.TABLE,E.DATASET],[s.VISUALIZATION]:[E.TABLE,E.DATASET,E.TEXT],[s.SUMMARY]:[E.TEXT,E.RICH_TEXT,E.DOCUMENT],[s.REPORTS]:[E.TABLE,E.DATASET,E.ANALYSIS]},d={[s.AGENTS]:"/agents",[s.DOCQA]:"/docqa",[s.SYNTHESIS]:"/synthesis",[s.SUMMARY]:"/summary",[s.QUERY]:"/query",[s.VISUALIZATION]:"/visualization",[s.KNOWLEDGE]:"/knowledge",[s.ENRICHMENT]:"/enrichment",[s.FEDERATION]:"/federation",[s.DOCUMENTS]:"/documents",[s.SPREADSHEETS]:"/spreadsheets",[s.DASHBOARDS]:"/dashboard-builder",[s.WORKFLOWS]:"/workflows",[s.INGESTION]:"/ingestion",[s.REPORTS]:"/reports",[s.DESIGN]:"/design",[s.SEARCH]:"/search"},u={[s.AGENTS]:"AI Agents",[s.DOCQA]:"Chat with Docs",[s.SYNTHESIS]:"Synthesis",[s.SUMMARY]:"Summary",[s.QUERY]:"Query Builder",[s.VISUALIZATION]:"Visualization",[s.KNOWLEDGE]:"Knowledge Base",[s.ENRICHMENT]:"Enrichment",[s.FEDERATION]:"Federation",[s.DOCUMENTS]:"Documents",[s.SPREADSHEETS]:"Spreadsheets",[s.DASHBOARDS]:"Dashboard Builder",[s.WORKFLOWS]:"Workflows",[s.INGESTION]:"Ingestion",[s.REPORTS]:"Reports",[s.DESIGN]:"Design",[s.SEARCH]:"Search"},P={[s.DOCQA]:{action:a.CHAT_WITH,label:"Chat with this"},[s.SYNTHESIS]:{action:a.ADD_TO,label:"Add to Synthesis"},[s.DOCUMENTS]:{action:a.CREATE_FROM,label:"Create Document"},[s.SPREADSHEETS]:{action:a.OPEN_IN,label:"Open in Spreadsheet"},[s.DASHBOARDS]:{action:a.ADD_TO,label:"Add to Dashboard"},[s.KNOWLEDGE]:{action:a.SAVE_TO,label:"Save to Knowledge"},[s.ENRICHMENT]:{action:a.ENRICH,label:"Enrich Data"},[s.VISUALIZATION]:{action:a.VISUALIZE,label:"Visualize"},[s.SUMMARY]:{action:a.OPEN_IN,label:"Summarize"},[s.REPORTS]:{action:a.CREATE_FROM,label:"Generate Report"}};function Y(T){const A=M(),{execute:i}=_(),R=h(),O=n(e=>e.setPendingTransfer),l=n(e=>e.consumeTransfer),c=n(e=>e.registerOutput),I=n(e=>e.getAllOutputs),H=S.useCallback((e,t,o,N={})=>{const r=d[e];if(!r)return Promise.resolve();const D=u[e]||e;return i({type:m.EXECUTE,label:N.label||`Send to ${D}`,reversibility:p.FULLY_REVERSIBLE,suppressSuccessToast:!0,intent:{source:T,target:e,action:t,crossPage:!0},action:async()=>{O({target:e,action:t,payload:o,source:T}),A(r),R.show(N.successMessage||`Opening in ${D}...`,"info")}})},[T,i,A,O,R]),g=S.useCallback(()=>l(T),[l,T]),U=S.useCallback(e=>c(T,e),[T,c]),b=S.useCallback(e=>Object.entries(C).filter(([t,o])=>t!==T&&o.includes(e)).map(([t])=>({key:t,route:d[t],label:u[t]||t,actionInfo:P[t]||null})),[T]),L=S.useCallback(()=>{const e=C[T]||[];return I().filter(t=>t.featureKey!==T&&e.includes(t.type))},[T,I]);return{sendTo:H,consumeIncoming:g,registerOutput:U,getAvailableTargets:b,getAvailableOutputs:L}}export{s as F,E as O,a as T,u as a,P as b,Y as u};
