import{g as ge,j as e,i as De,a as ue,w as Ee,v as Ae,u as be,r as d,l as R,bW as Fe,aM as Oe,bK as Le,bk as Pe,R as A,I as F,q as c,B as i,O as H,o as r,n as s,bX as Be,T as oe,e as ne,f as o,E as Ne,bY as Ue,K as y,a1 as re,bc as _e,bh as S,bZ as Ve,a7 as N,p as C,t as O,D as U,X as ie,V as le,b_ as Me,b$ as ce,c0 as de,c1 as _,a2 as pe,s as He,af as Xe,Q as Je,N as k}from"./index-CS2nn_Zr.js";import{A as xe}from"./ArrowForward-DSlf8ErD.js";import{R as Ke,B as Ge}from"./RocketLaunch-DJcf0w2d.js";import{T as Ye}from"./TrendingUp-CuZgjZNH.js";import{T as qe}from"./TrendingDown-DfmJ5hkw.js";import{D as Qe}from"./Star-DBT45pBi.js";import{P as me}from"./PictureAsPdf-DqRICvGz.js";import{L as he}from"./Lightbulb-BstRiKz6.js";import{K as Ze}from"./Speed-SpH8KK5O.js";import{I as et}from"./Insights-B-a7QugO.js";import{u as tt,S as at}from"./SuccessCelebration-8RAJXqbq.js";import{R as st}from"./ReportGlossaryNotice-BhAfs_HN.js";import"./Article-hUc3iiWJ.js";const ot=ge(e.jsx("path",{d:"M17.5 3C15.57 3 14 4.57 14 6.5V8h-4V6.5C10 4.57 8.43 3 6.5 3S3 4.57 3 6.5 4.57 10 6.5 10H8v4H6.5C4.57 14 3 15.57 3 17.5S4.57 21 6.5 21s3.5-1.57 3.5-3.5V16h4v1.5c0 1.93 1.57 3.5 3.5 3.5s3.5-1.57 3.5-3.5-1.57-3.5-3.5-3.5H16v-4h1.5c1.93 0 3.5-1.57 3.5-3.5S19.43 3 17.5 3M16 8V6.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5S18.33 8 17.5 8zM6.5 8C5.67 8 5 7.33 5 6.5S5.67 5 6.5 5 8 5.67 8 6.5V8zm3.5 6v-4h4v4zm7.5 5c-.83 0-1.5-.67-1.5-1.5V16h1.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5m-11 0c-.83 0-1.5-.67-1.5-1.5S5.67 16 6.5 16H8v1.5c0 .83-.67 1.5-1.5 1.5"})),V=ge(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}));async function nt(){return(await De.get("/recommendations/catalog")).data}const rt=k(i)(({theme:t})=>({padding:t.spacing(3),maxWidth:1600,margin:"0 auto",width:"100%",minHeight:"100vh",position:"relative","&::before":{content:'""',position:"fixed",top:0,left:0,right:0,bottom:0,background:t.palette.mode==="dark"?`radial-gradient(ellipse at top left, ${o(t.palette.text.primary,.04)} 0%, transparent 50%),
         radial-gradient(ellipse at bottom right, ${o(t.palette.text.primary,.03)} 0%, transparent 50%)`:"none",pointerEvents:"none",zIndex:-1}})),it=k(i,{shouldForwardProp:t=>!["color","delay"].includes(t)})(({theme:t,color:g="inherit",delay:m=0})=>({position:"relative",padding:t.spacing(2.5),minHeight:110,borderRadius:8,backgroundColor:t.palette.mode==="dark"?o(t.palette.background.paper,.6):t.palette.common.white,backdropFilter:"none",border:"none",boxShadow:t.palette.mode==="dark"?"none":"0 1px 3px rgba(0,0,0,0.08), 0 4px 12px rgba(0,0,0,0.05)",cursor:"pointer",overflow:"hidden",transition:"all 0.2s cubic-bezier(0.22, 1, 0.36, 1)",animation:`${H} 0.5s ease-out ${m}ms both`,"&:hover":{boxShadow:t.palette.mode==="dark"?"0 4px 12px rgba(0,0,0,0.3)":"0 2px 8px rgba(0,0,0,0.08), 0 8px 24px rgba(0,0,0,0.06)"}})),lt=k(i)(({theme:t})=>({display:"flex",alignItems:"center",gap:t.spacing(1.5),padding:t.spacing(1.5,2),borderRadius:8,backgroundColor:"transparent",border:"none",cursor:"pointer",transition:"all 0.15s cubic-bezier(0.22, 1, 0.36, 1)","&:hover":{backgroundColor:t.palette.mode==="dark"?"rgba(255,255,255,0.04)":s[100],"& .action-arrow":{transform:"translateX(4px)",opacity:1},"& .action-icon":{color:t.palette.mode==="dark"?s[100]:s[900]}}})),M=k(i,{shouldForwardProp:t=>!["completed","disabled"].includes(t)})(({theme:t,completed:g,disabled:m})=>({display:"flex",alignItems:"center",gap:t.spacing(2),padding:t.spacing(2),borderRadius:t.shape.borderRadius*1.5,backgroundColor:g?t.palette.mode==="dark"?o(t.palette.text.primary,.08):s[100]:o(t.palette.action.hover,.3),border:`1px solid ${g?t.palette.mode==="dark"?o(t.palette.text.primary,.15):s[200]:o(t.palette.divider,.1)}`,cursor:m?"not-allowed":"pointer",opacity:m?.5:1,transition:"all 0.2s cubic-bezier(0.22, 1, 0.36, 1)",...!m&&!g&&{"&:hover":{backgroundColor:t.palette.mode==="dark"?o(t.palette.text.primary,.05):s[50],borderColor:t.palette.mode==="dark"?o(t.palette.text.primary,.15):s[200],transform:"translateX(4px)"}}})),ct=k(i,{shouldForwardProp:t=>t!=="status"})(({theme:t,status:g})=>{const m={completed:t.palette.mode==="dark"?s[500]:s[700],running:t.palette.mode==="dark"?s[500]:s[500],pending:t.palette.mode==="dark"?s[300]:s[500],failed:t.palette.mode==="dark"?s[700]:s[900]};return{display:"flex",alignItems:"center",gap:t.spacing(2),padding:t.spacing(1.5,0),borderBottom:`1px solid ${o(t.palette.divider,.08)}`,transition:"all 0.15s cubic-bezier(0.22, 1, 0.36, 1)",cursor:"pointer","&:last-child":{borderBottom:"none"},"&:hover":{backgroundColor:t.palette.mode==="dark"?o(t.palette.text.primary,.02):s[50],paddingLeft:t.spacing(1),paddingRight:t.spacing(1),marginLeft:t.spacing(-1),marginRight:t.spacing(-1),borderRadius:t.shape.borderRadius,"& .job-arrow":{opacity:1,transform:"translateX(0)"}},"& .status-dot":{width:8,height:8,borderRadius:"50%",backgroundColor:m[g]||s[500],boxShadow:`0 0 8px ${o(m[g]||s[500],.3)}`}}}),dt=k(i)(({theme:t})=>({padding:t.spacing(2.5),borderRadius:t.shape.borderRadius*1.5,backgroundColor:t.palette.mode==="dark"?o(t.palette.background.paper,.4):o(t.palette.background.paper,.8),border:`1px solid ${o(t.palette.divider,.1)}`,cursor:"pointer",transition:"all 0.25s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:t.palette.mode==="dark"?`linear-gradient(135deg, ${o(t.palette.text.primary,.03)} 0%, transparent 50%)`:"linear-gradient(135deg, rgba(0,0,0,0.02) 0%, transparent 50%)",opacity:0,transition:"opacity 0.3s cubic-bezier(0.22, 1, 0.36, 1)"},"&:hover":{transform:"translateY(-4px) scale(1.02)",boxShadow:t.palette.mode==="dark"?`0 12px 24px ${o(t.palette.common.black,.3)}`:"0 12px 24px rgba(0,0,0,0.08)",borderColor:t.palette.mode==="dark"?o(t.palette.text.primary,.15):s[200],"&::before":{opacity:1}}})),pt=k(i)(({theme:t})=>({display:"flex",alignItems:"flex-end",gap:4,height:50,padding:t.spacing(1,0)})),xt=k(i,{shouldForwardProp:t=>!["height","color","delay"].includes(t)})(({theme:t,height:g,color:m,delay:n=0})=>({flex:1,height:`${g}%`,minHeight:4,backgroundColor:m||(t.palette.mode==="dark"?s[500]:s[700]),borderRadius:1,transition:"height 0.5s cubic-bezier(0.4, 0, 0.2, 1)",transitionDelay:`${n}ms`}));function I({title:t,value:g,subtitle:m,icon:n,color:z="inherit",onClick:p,trend:x,delay:b=0}){const u=be();return e.jsx(it,{color:z,delay:b,onClick:p,children:e.jsxs(c,{direction:"row",alignItems:"flex-start",justifyContent:"space-between",children:[e.jsxs(i,{sx:{flex:1},children:[e.jsx(r,{sx:{color:u.palette.mode==="dark"?s[500]:s[400],fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em",fontSize:"12px"},children:t}),e.jsx(r,{sx:{fontWeight:600,fontSize:"1.5rem",mt:.5,mb:.5,color:u.palette.mode==="dark"?s[100]:s[900]},children:g}),m&&e.jsx(r,{sx:{fontSize:"12px",color:u.palette.mode==="dark"?s[500]:s[300]},children:m}),x!==void 0&&e.jsxs(c,{direction:"row",alignItems:"center",spacing:.5,sx:{mt:.5},children:[x>=0?e.jsx(Ye,{sx:{fontSize:14,color:"text.secondary"}}):e.jsx(qe,{sx:{fontSize:14,color:"text.secondary"}}),e.jsxs(r,{sx:{fontWeight:600,fontSize:"0.75rem",color:"text.secondary"},children:[x>=0?"+":"",x,"%"]})]})]}),e.jsx(i,{className:"stat-icon",sx:{width:48,height:48,borderRadius:1,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:u.palette.mode==="dark"?"rgba(255,255,255,0.05)":s[100],color:u.palette.mode==="dark"?s[500]:s[300]},children:e.jsx(n,{sx:{fontSize:24}})})]})})}function mt(){const{execute:t}=ue(),g=Ee(),m=Ae(),n=be(),z=d.useRef(!1),p=d.useCallback((a,l,h={})=>g(a,{label:l,intent:{from:"dashboard",...h}}),[g]),x=R(a=>a.templates),b=R(a=>a.savedConnections),u=R(a=>a.activeConnection),[X,fe]=d.useState([]),[$,je]=d.useState(null),[T,ye]=d.useState({templates:[],connections:[]}),[W,J]=d.useState([]),[v,K]=d.useState(!1),[w,G]=d.useState(!0),[ke,Y]=d.useState(!0),[q,Q]=d.useState(!1),[L,ve]=d.useState(()=>typeof window>"u"?!1:window.localStorage.getItem("neurareport_onboarding_dismissed")!=="true"),{celebrating:Se,celebrate:Z,onComplete:Ce}=tt(),ee=d.useRef(!1),D=d.useCallback(async(a=!1)=>{a?Q(!0):Y(!0);try{const[l,h,Te,We]=await Promise.all([Fe().catch(()=>null),Oe({limit:5}).catch(()=>({jobs:[]})),Le().catch(()=>null),Pe().catch(()=>({templates:[],connections:[]}))]);l?.templates&&R.setState({templates:l.templates}),l?.connections&&R.setState({savedConnections:l.connections}),fe(h?.jobs||[]),je(Te),ye(We),l||m.show("Failed to load some dashboard data. Try refreshing.","warning")}catch(l){console.error("Failed to fetch dashboard data:",l),m.show("Failed to load dashboard data. Please try again.","error")}finally{Y(!1),Q(!1)}},[m]);d.useEffect(()=>{z.current||(z.current=!0,D())},[D]);const we=d.useCallback(()=>t({type:F.EXECUTE,label:"Refresh dashboard",reversibility:A.FULLY_REVERSIBLE,suppressSuccessToast:!0,intent:{source:"dashboard"},action:()=>D(!0)}),[t,D]),P=d.useRef(!1),E=d.useCallback(async()=>{if(v)return;K(!0),P.current=!0;const a=()=>{const l=x.slice(0,4).map(h=>({id:h.id,name:h.name,description:h.description||`${h.kind?.toUpperCase()||"PDF"} design`,kind:h.kind,matchScore:.85}));J(l),G(!1)};try{const l=await nt(),h=l?.catalog||l?.templates||l?.recommendations||[];h.length>0?(J(h.slice(0,4)),G(!0)):x.length>0&&a()}catch{x.length>0&&a()}finally{K(!1)}},[v,x]),te=d.useCallback(()=>t({type:F.EXECUTE,label:"Refresh recommendations",reversibility:A.FULLY_REVERSIBLE,suppressSuccessToast:!0,intent:{source:"dashboard",recFromAI:w},action:()=>(P.current=!1,E())}),[t,E,w]),Re=d.useCallback(()=>t({type:F.EXECUTE,label:"Open command palette",reversibility:A.FULLY_REVERSIBLE,suppressSuccessToast:!0,suppressErrorToast:!0,intent:{source:"dashboard"},action:()=>{typeof window>"u"||window.dispatchEvent(new CustomEvent("neura:open-command-palette"))}}),[t]);d.useEffect(()=>{W.length===0&&x.length>0&&!v&&!P.current&&E()},[x.length,W.length,v,E]);const f=$?.summary||{},j=$?.metrics||{},ae=$?.topTemplates||[],B=$?.jobsTrend||[],Ie=L&&(x.length===0||b.length===0),se=b.length>0&&x.length>0&&(j.jobsToday??0)>0;d.useEffect(()=>{se&&L&&!ee.current&&(ee.current=!0,Z())},[se,L,Z]);const ze=d.useCallback(()=>t({type:F.UPDATE,label:"Dismiss onboarding",reversibility:A.FULLY_REVERSIBLE,suppressSuccessToast:!0,suppressErrorToast:!0,intent:{source:"dashboard"},action:()=>{ve(!1),typeof window<"u"&&window.localStorage.setItem("neurareport_onboarding_dismissed","true")}}),[t]),$e=Math.max(...B.map(a=>a.total||0),1);return e.jsxs(rt,{children:[e.jsx(at,{trigger:Se,onComplete:Ce}),e.jsxs(c,{direction:{xs:"column",md:"row"},alignItems:{xs:"stretch",md:"center"},justifyContent:"space-between",spacing:3,sx:{mb:4},children:[e.jsxs(i,{sx:{animation:`${H} 0.4s ease-out`},children:[e.jsx(r,{sx:{fontFamily:Be,fontWeight:500,fontSize:"24px",lineHeight:"normal",letterSpacing:0,mb:.5,color:n.palette.mode==="dark"?s[100]:s[900]},children:"Welcome back"}),e.jsx(r,{variant:"body2",color:"text.secondary",children:"Generate intelligent reports from your data with AI-powered insights"})]}),e.jsxs(c,{direction:"row",spacing:1.5,sx:{animation:`${H} 0.5s ease-out 100ms both`},children:[e.jsx(oe,{title:"Press ⌘K for quick actions",children:e.jsx(ne,{onClick:Re,"aria-label":"Open command palette",sx:{border:`1px solid ${o(n.palette.divider,.1)}`,bgcolor:o(n.palette.background.paper,.5),backdropFilter:"blur(8px)"},children:e.jsx(ot,{sx:{fontSize:18}})})}),e.jsx(ne,{onClick:we,disabled:q,sx:{border:`1px solid ${o(n.palette.divider,.1)}`,bgcolor:o(n.palette.background.paper,.5),backdropFilter:"blur(8px)"},children:e.jsx(Ne,{sx:{fontSize:20,animation:q?`${Ue} 1s linear infinite`:"none"}})}),e.jsx(y,{variant:"contained",startIcon:e.jsx(re,{}),onClick:()=>p("/setup/wizard","Open setup wizard"),sx:{px:3,py:1,borderRadius:"8px",fontWeight:500,fontSize:"0.875rem",boxShadow:"none","&:hover":{boxShadow:"none"}},children:"New Report"})]})]}),e.jsx(st,{dense:!0,showChips:!1,sx:{mb:3}}),e.jsx(_e,{in:Ie,children:e.jsx(S,{sx:{mb:4,background:n.palette.mode==="dark"?`linear-gradient(135deg, ${o(n.palette.text.primary,.05)} 0%, ${o(n.palette.background.paper,.6)} 100%)`:void 0,animation:`${Ve} 3s ease-in-out infinite`},children:e.jsxs(c,{direction:{xs:"column",md:"row"},spacing:3,children:[e.jsx(i,{sx:{width:{xs:"100%",md:64},height:64,borderRadius:1,background:n.palette.mode==="dark"?s[700]:s[900],display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsx(Ke,{sx:{fontSize:32,color:"white"}})}),e.jsxs(i,{sx:{flex:1},children:[e.jsx(r,{variant:"h6",fontWeight:600,gutterBottom:!0,children:"Welcome! Let's create your first report"}),e.jsx(r,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Complete these quick steps to get started with NeuraReport"}),e.jsxs(c,{spacing:1.5,children:[e.jsxs(M,{completed:b.length>0,onClick:()=>p("/connections","Open connections"),children:[b.length>0?e.jsx(N,{sx:{fontSize:24,color:"text.secondary"}}):e.jsx(V,{sx:{fontSize:24,color:"text.secondary"}}),e.jsxs(i,{sx:{flex:1},children:[e.jsx(r,{variant:"subtitle2",fontWeight:600,children:"Add a data source"}),e.jsx(r,{variant:"caption",color:"text.secondary",children:"Connect to where your data lives (database, spreadsheet)"})]}),b.length>0&&e.jsx(C,{label:"Done",size:"small",sx:{fontWeight:600,bgcolor:a=>a.palette.mode==="dark"?o(a.palette.text.primary,.1):s[100],color:"text.secondary"}})]}),e.jsxs(M,{completed:x.length>0,onClick:()=>p("/templates","Open templates"),children:[x.length>0?e.jsx(N,{sx:{fontSize:24,color:"text.secondary"}}):e.jsx(V,{sx:{fontSize:24,color:"text.secondary"}}),e.jsxs(i,{sx:{flex:1},children:[e.jsx(r,{variant:"subtitle2",fontWeight:600,children:"Add a report design"}),e.jsx(r,{variant:"caption",color:"text.secondary",children:"Upload a PDF or Excel design that shows how reports should look"})]}),x.length>0&&e.jsx(C,{label:"Done",size:"small",sx:{fontWeight:600,bgcolor:a=>a.palette.mode==="dark"?o(a.palette.text.primary,.1):s[100],color:"text.secondary"}})]}),e.jsxs(M,{completed:(j.jobsToday??0)>0,disabled:b.length===0||x.length===0,onClick:()=>{b.length>0&&x.length>0&&p("/reports","Open reports")},children:[(j.jobsToday??0)>0?e.jsx(N,{sx:{fontSize:24,color:"text.secondary"}}):e.jsx(V,{sx:{fontSize:24,color:"text.secondary"}}),e.jsxs(i,{sx:{flex:1},children:[e.jsx(r,{variant:"subtitle2",fontWeight:600,children:"Create your first report"}),e.jsx(r,{variant:"caption",color:"text.secondary",children:"Generate a report using your data and design"})]}),(j.jobsToday??0)>0&&e.jsx(C,{label:"Done",size:"small",sx:{fontWeight:600,bgcolor:a=>a.palette.mode==="dark"?o(a.palette.text.primary,.1):s[100],color:"text.secondary"}})]})]}),e.jsxs(c,{direction:"row",spacing:1.5,sx:{mt:3},children:[e.jsx(y,{variant:"contained",onClick:()=>p("/setup/wizard","Open setup wizard"),startIcon:e.jsx(Ge,{}),sx:{borderRadius:1},children:"Run Setup Wizard"}),e.jsx(y,{variant:"text",onClick:ze,sx:{color:"text.secondary"},children:"Dismiss"})]})]})]})})}),e.jsxs(i,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(5, 1fr)"},gap:2.5,mb:4},children:[e.jsx(I,{title:"Connections",value:f.totalConnections??b.length,subtitle:`${f.activeConnections??0} active`,icon:O,onClick:()=>p("/connections","Open connections"),delay:0}),e.jsx(I,{title:"Templates",value:f.totalTemplates??x.length,subtitle:`${f.pdfTemplates??0} PDF, ${f.excelTemplates??0} Excel`,icon:U,onClick:()=>p("/templates","Open templates"),delay:50}),e.jsx(I,{title:"Jobs Today",value:j.jobsToday??0,subtitle:`${j.jobsThisWeek??0} this week`,icon:ie,onClick:()=>p("/jobs","Open jobs"),delay:100}),e.jsx(I,{title:"Success Rate",value:`${j.successRate??0}%`,subtitle:`${f.completedJobs??0} completed`,icon:Ze,onClick:()=>p("/stats","Open usage stats"),trend:j.successRateTrend,delay:150}),e.jsx(I,{title:"Schedules",value:f.totalSchedules??0,subtitle:`${f.activeSchedules??0} active`,icon:le,onClick:()=>p("/schedules","Open schedules"),delay:200})]}),e.jsxs(i,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",lg:"320px 1fr 300px"},gap:3},children:[e.jsxs(S,{sx:{animationDelay:"200ms"},children:[e.jsx(r,{variant:"subtitle1",fontWeight:600,sx:{mb:2.5},children:"Quick Actions"}),e.jsx(c,{spacing:1,children:[{label:"Manage Connections",icon:O,path:"/connections"},{label:"Report Designs",icon:U,path:"/templates"},{label:"Run Reports",icon:Me,path:"/reports"},{label:"Manage Schedules",icon:le,path:"/schedules"}].map(a=>e.jsxs(lt,{onClick:()=>p(a.path,`Open ${a.label}`),children:[e.jsx(a.icon,{className:"action-icon",sx:{fontSize:20,color:"text.secondary",transition:"color 0.2s cubic-bezier(0.22, 1, 0.36, 1)"}}),e.jsx(r,{variant:"body2",fontWeight:500,sx:{flex:1},children:a.label}),e.jsx(xe,{className:"action-arrow",sx:{fontSize:16,color:"text.tertiary",opacity:0,transform:"translateX(-4px)",transition:"all 0.2s cubic-bezier(0.22, 1, 0.36, 1)"}})]},a.path))}),B.length>0&&e.jsxs(i,{sx:{mt:4},children:[e.jsx(r,{variant:"caption",fontWeight:600,color:"text.secondary",sx:{textTransform:"uppercase",letterSpacing:"0.05em"},children:"Jobs This Week"}),e.jsx(pt,{sx:{mt:1},children:B.map((a,l)=>e.jsx(oe,{title:`${a.label}: ${a.total} jobs`,arrow:!0,children:e.jsxs(i,{sx:{flex:1,display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx(xt,{height:Math.max(10,a.total/$e*100),color:a.failed>0?n.palette.mode==="dark"?s[700]:s[900]:n.palette.mode==="dark"?s[500]:s[700],delay:l*50}),e.jsx(r,{variant:"caption",sx:{fontSize:"10px",color:"text.tertiary",mt:.5},children:a.label})]})},l))})]})]}),e.jsxs(S,{sx:{animationDelay:"250ms"},children:[e.jsxs(c,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{mb:2},children:[e.jsx(r,{variant:"subtitle1",fontWeight:600,children:"Recent Jobs"}),e.jsx(y,{size:"small",onClick:()=>p("/jobs","Open jobs"),sx:{fontWeight:600,fontSize:"0.75rem"},children:"View All"})]}),ke?e.jsx(c,{spacing:1.5,children:[1,2,3,4,5].map(a=>e.jsx(i,{sx:{height:48,borderRadius:1.5,background:`linear-gradient(90deg, ${o(n.palette.action.hover,.5)} 25%, ${o(n.palette.action.hover,.8)} 50%, ${o(n.palette.action.hover,.5)} 75%)`,backgroundSize:"200% 100%",animation:`${ce} 1.5s ease-in-out infinite`}},a))}):X.length===0?e.jsxs(i,{sx:{py:6,textAlign:"center"},children:[e.jsx(i,{sx:{width:64,height:64,borderRadius:"50%",bgcolor:n.palette.mode==="dark"?o(n.palette.text.primary,.08):s[100],display:"flex",alignItems:"center",justifyContent:"center",mx:"auto",mb:2},children:e.jsx(ie,{sx:{fontSize:28,color:"text.secondary"}})}),e.jsx(r,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"No jobs yet. Run your first report to get started."}),e.jsx(y,{variant:"outlined",size:"small",onClick:()=>p("/setup/wizard","Open setup wizard"),sx:{borderRadius:1},children:"Run First Report"})]}):e.jsx(c,{children:X.slice(0,5).map((a,l)=>e.jsx(de,{in:!0,timeout:300+l*100,children:e.jsxs(ct,{status:a.status,"data-testid":`dashboard-job-${a.id}`,onClick:()=>p("/jobs","Open jobs",{jobId:a.id}),children:[e.jsx(i,{className:"status-dot"}),e.jsxs(i,{sx:{flex:1,minWidth:0},children:[e.jsx(r,{variant:"body2",fontWeight:600,noWrap:!0,children:a.template_name||a.templateName||a.template_id?.slice(0,12)}),e.jsx(r,{variant:"caption",color:"text.tertiary",children:new Date(a.created_at||a.createdAt).toLocaleString()})]}),e.jsx(C,{label:a.status,size:"small","data-testid":`job-status-${a.status}`,sx:{height:24,fontWeight:600,textTransform:"capitalize",fontSize:"12px",bgcolor:h=>h.palette.mode==="dark"?o(h.palette.text.primary,.1):s[100],color:"text.secondary"}}),e.jsx(xe,{className:"job-arrow",sx:{fontSize:16,color:"text.tertiary",opacity:0,transform:"translateX(-4px)",transition:"all 0.2s cubic-bezier(0.22, 1, 0.36, 1)"}})]})},a.id))})]}),e.jsxs(c,{spacing:3,children:[e.jsxs(S,{sx:{animationDelay:"300ms"},children:[e.jsxs(c,{direction:"row",alignItems:"center",spacing:1,sx:{mb:2},children:[e.jsx(et,{sx:{fontSize:18,color:"text.secondary"}}),e.jsx(r,{variant:"subtitle2",fontWeight:600,children:"Top Designs"})]}),ae.length===0?e.jsx(r,{variant:"body2",color:"text.secondary",children:"No design usage data yet"}):e.jsx(c,{spacing:1.5,children:ae.slice(0,4).map((a,l)=>e.jsxs(c,{direction:"row",alignItems:"center",spacing:1.5,onClick:()=>p(`/reports?template=${a.id}`,"Open reports",{templateId:a.id}),sx:{cursor:"pointer",p:1,mx:-1,borderRadius:1.5,transition:"all 0.15s cubic-bezier(0.22, 1, 0.36, 1)","&:hover":{bgcolor:n.palette.mode==="dark"?o(n.palette.text.primary,.05):s[100]}},children:[e.jsx(_,{sx:{width:32,height:32,bgcolor:n.palette.mode==="dark"?o(n.palette.text.primary,.08):s[100],fontSize:"0.75rem"},children:a.kind==="excel"?e.jsx(pe,{sx:{fontSize:16,color:"text.secondary"}}):e.jsx(me,{sx:{fontSize:16,color:"text.secondary"}})}),e.jsxs(i,{sx:{flex:1,minWidth:0},children:[e.jsx(r,{variant:"body2",fontWeight:600,noWrap:!0,children:a.name}),e.jsxs(r,{variant:"caption",color:"text.tertiary",children:[a.runCount," runs"]})]})]},a.id))})]}),e.jsxs(S,{sx:{animationDelay:"350ms"},children:[e.jsxs(c,{direction:"row",alignItems:"center",spacing:1,sx:{mb:2},children:[e.jsx(Qe,{sx:{fontSize:18,color:"text.secondary"}}),e.jsx(r,{variant:"subtitle2",fontWeight:600,children:"Favorites"})]}),T.templates.length===0&&T.connections.length===0?e.jsx(r,{variant:"body2",color:"text.secondary",children:"No favorites yet. Star designs or connections for quick access."}):e.jsxs(c,{spacing:1,children:[T.templates.slice(0,3).map(a=>e.jsxs(c,{direction:"row",alignItems:"center",spacing:1,sx:{cursor:"pointer",p:.75,mx:-.75,borderRadius:1,"&:hover":{bgcolor:o(n.palette.action.hover,.5)}},onClick:()=>p(`/reports?template=${a.id}`,"Open reports",{templateId:a.id}),children:[e.jsx(U,{sx:{fontSize:16,color:"text.secondary"}}),e.jsx(r,{variant:"body2",noWrap:!0,sx:{flex:1},children:a.name})]},a.id)),T.connections.slice(0,2).map(a=>e.jsxs(c,{direction:"row",alignItems:"center",spacing:1,sx:{cursor:"pointer",p:.75,mx:-.75,borderRadius:1,"&:hover":{bgcolor:o(n.palette.action.hover,.5)}},onClick:()=>p("/connections","Open connections"),children:[e.jsx(O,{sx:{fontSize:16,color:"text.secondary"}}),e.jsx(r,{variant:"body2",noWrap:!0,sx:{flex:1},children:a.name})]},a.id))]})]})]})]}),e.jsxs(S,{sx:{mt:4,background:n.palette.mode==="dark"?`linear-gradient(135deg, ${o(n.palette.text.primary,.04)} 0%, ${o(n.palette.background.paper,.6)} 100%)`:void 0,animationDelay:"400ms"},children:[e.jsxs(c,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{mb:3},children:[e.jsxs(c,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(i,{sx:{width:44,height:44,borderRadius:1,background:n.palette.mode==="dark"?s[700]:s[900],display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(He,{sx:{fontSize:24,color:"white"}})}),e.jsxs(i,{children:[e.jsx(r,{variant:"subtitle1",fontWeight:600,children:w?"AI Recommendations":"Recent Designs"}),e.jsx(r,{variant:"caption",color:"text.secondary",children:w?"Smart design suggestions based on your data":"Showing your recent designs (AI unavailable)"})]})]}),e.jsx(y,{size:"small",startIcon:e.jsx(he,{sx:{fontSize:16}}),onClick:te,disabled:v,sx:{fontWeight:600},children:v?"Loading...":w?"Refresh":"Try AI Again"})]}),v?e.jsx(i,{sx:{height:120,borderRadius:1,background:`linear-gradient(90deg, ${o(n.palette.action.hover,.5)} 25%, ${o(n.palette.action.hover,.8)} 50%, ${o(n.palette.action.hover,.5)} 75%)`,backgroundSize:"200% 100%",animation:`${ce} 1.5s ease-in-out infinite`}}):W.length===0?e.jsxs(i,{sx:{py:4,textAlign:"center"},children:[e.jsx(i,{sx:{width:64,height:64,borderRadius:"50%",bgcolor:n.palette.mode==="dark"?o(n.palette.text.primary,.08):s[100],display:"flex",alignItems:"center",justifyContent:"center",mx:"auto",mb:2},children:e.jsx(he,{sx:{fontSize:28,color:"text.secondary"}})}),x.length===0?e.jsxs(e.Fragment,{children:[e.jsx(r,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Upload a report design to unlock AI recommendations"}),e.jsx(y,{variant:"outlined",size:"small",onClick:()=>p("/templates","Open templates"),startIcon:e.jsx(re,{}),sx:{borderRadius:1},children:"Add Report Design"})]}):e.jsxs(e.Fragment,{children:[e.jsx(r,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"No recommendations yet"}),e.jsx(y,{variant:"outlined",size:"small",onClick:te,sx:{borderRadius:1},children:"Get AI Recommendations"})]})]}):e.jsx(i,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",md:"repeat(4, 1fr)"},gap:2},children:W.map((a,l)=>e.jsx(de,{in:!0,timeout:400+l*100,children:e.jsxs(dt,{onClick:()=>p(`/reports?template=${a.id}`,"Open reports",{templateId:a.id}),children:[e.jsxs(c,{direction:"row",alignItems:"center",spacing:1,sx:{mb:1.5},children:[e.jsx(_,{sx:{width:28,height:28,bgcolor:n.palette.mode==="dark"?o(n.palette.text.primary,.08):s[100]},children:a.kind==="excel"?e.jsx(pe,{sx:{fontSize:14,color:"text.secondary"}}):e.jsx(me,{sx:{fontSize:14,color:"text.secondary"}})}),a.matchScore&&e.jsx(C,{label:`${Math.round((a.matchScore||0)*100)}% match`,size:"small",sx:{height:20,fontSize:"10px",fontWeight:600,bgcolor:n.palette.mode==="dark"?o(n.palette.text.primary,.1):s[100],color:"text.secondary"}})]}),e.jsx(r,{variant:"body2",fontWeight:600,noWrap:!0,sx:{mb:.5},children:a.name}),e.jsx(r,{variant:"caption",color:"text.secondary",sx:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",lineHeight:1.4},children:a.description})]})},a.id))})]}),u&&e.jsx(Xe,{in:!0,children:e.jsx(S,{sx:{mt:3,animationDelay:"450ms"},children:e.jsxs(c,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(_,{sx:{width:48,height:48,bgcolor:n.palette.mode==="dark"?o(n.palette.text.primary,.08):s[100]},children:e.jsx(O,{sx:{color:"text.secondary"}})}),e.jsxs(i,{sx:{flex:1},children:[e.jsxs(r,{variant:"subtitle2",fontWeight:600,children:["Connected to ",u.name]}),e.jsxs(r,{variant:"caption",color:"text.secondary",children:[u.db_type,u.summary&&` • ${u.summary}`]})]}),e.jsx(C,{label:"Active",size:"small",sx:{fontWeight:600,animation:`${Je} 2s ease-in-out infinite`,bgcolor:a=>a.palette.mode==="dark"?o(a.palette.text.primary,.1):s[100],color:"text.secondary"}})]})})})]})}function It(){return ue(),e.jsx(mt,{})}export{It as default};
