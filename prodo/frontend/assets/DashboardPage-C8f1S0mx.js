import{c as ge,j as e,a as We,u as he,b as Fe,d as Ee,e as ue,r as d,f as R,g as De,l as Ae,h as Oe,i as Le,R as A,I as O,S as c,B as i,T as r,k as o,m as Pe,n as se,o as ne,p as s,q as Be,s as k,A as Ne,C as Ue,t as U,v as C,w as L,D as _,W as re,x as ie,y as _e,G as le,z as V,E as ce,F as Ve,H as He,J as b,K as w}from"./index-B8Eu23bA.js";import{A as de}from"./ArrowForward-DPnjhzEH.js";import{R as Me,B as Ye}from"./RocketLaunch-lXN39Dvq.js";import{T as Ge}from"./TrendingUp-ByVNVmvX.js";import{T as Je}from"./TrendingDown-BOjgHPM1.js";import{D as Xe}from"./Star-BdvflhJ9.js";import{P as pe}from"./PictureAsPdf-Cva09OSx.js";import{L as xe}from"./Lightbulb-CLdW-uXX.js";import{S as qe}from"./Speed-JRGKarSn.js";import{I as Ke}from"./Insights-DHQilfoV.js";import{u as Qe,S as Ze}from"./SuccessCelebration-CtmPUY5S.js";import{R as et}from"./ReportGlossaryNotice-BhvvMaX1.js";import"./Article-B2tsd32U.js";const tt=ge(e.jsx("path",{d:"M17.5 3C15.57 3 14 4.57 14 6.5V8h-4V6.5C10 4.57 8.43 3 6.5 3S3 4.57 3 6.5 4.57 10 6.5 10H8v4H6.5C4.57 14 3 15.57 3 17.5S4.57 21 6.5 21s3.5-1.57 3.5-3.5V16h4v1.5c0 1.93 1.57 3.5 3.5 3.5s3.5-1.57 3.5-3.5-1.57-3.5-3.5-3.5H16v-4h1.5c1.93 0 3.5-1.57 3.5-3.5S19.43 3 17.5 3M16 8V6.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5S18.33 8 17.5 8zM6.5 8C5.67 8 5 7.33 5 6.5S5.67 5 6.5 5 8 5.67 8 6.5V8zm3.5 6v-4h4v4zm7.5 5c-.83 0-1.5-.67-1.5-1.5V16h1.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5m-11 0c-.83 0-1.5-.67-1.5-1.5S5.67 16 6.5 16H8v1.5c0 .83-.67 1.5-1.5 1.5"})),H=ge(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}));async function at(){return(await We.get("/recommendations/catalog")).data}const P=w`
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
`,me=w`
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
`,ot=w`
  0%, 100% { transform: scale(1); opacity: 1; }
  50% { transform: scale(1.02); opacity: 0.9; }
`,st=w`
  0%, 100% { box-shadow: 0 0 20px rgba(33, 32, 28, 0.1); }
  50% { box-shadow: 0 0 40px rgba(33, 32, 28, 0.2); }
`,nt=w`
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
`;w`
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-6px); }
`;const rt=b(i)(({theme:t})=>({padding:t.spacing(3),maxWidth:1600,margin:"0 auto",width:"100%",minHeight:"100vh",position:"relative","&::before":{content:'""',position:"fixed",top:0,left:0,right:0,bottom:0,background:t.palette.mode==="dark"?`radial-gradient(ellipse at top left, ${s(t.palette.text.primary,.04)} 0%, transparent 50%),
         radial-gradient(ellipse at bottom right, ${s(t.palette.text.primary,.03)} 0%, transparent 50%)`:"none",pointerEvents:"none",zIndex:-1}})),v=b(i)(({theme:t})=>({padding:t.spacing(3),borderRadius:8,backgroundColor:t.palette.mode==="dark"?s(t.palette.background.paper,.6):"#FFFFFF",backdropFilter:"none",border:"none",boxShadow:t.palette.mode==="dark"?`0 8px 32px ${s("#000",.2)}`:"0 1px 3px rgba(0,0,0,0.08), 0 4px 12px rgba(0,0,0,0.05)",transition:"all 0.2s ease",animation:`${P} 0.4s ease-out`,"&:hover":{transform:"none",boxShadow:t.palette.mode==="dark"?`0 12px 40px ${s("#000",.3)}`:"0 2px 8px rgba(0,0,0,0.08), 0 8px 24px rgba(0,0,0,0.06)"}})),it=b(i,{shouldForwardProp:t=>!["color","delay"].includes(t)})(({theme:t,color:g="inherit",delay:x=0})=>({position:"relative",padding:t.spacing(2.5),borderRadius:8,backgroundColor:t.palette.mode==="dark"?s(t.palette.background.paper,.6):"#FFFFFF",backdropFilter:"none",border:"none",boxShadow:t.palette.mode==="dark"?"none":"0 1px 3px rgba(0,0,0,0.08), 0 4px 12px rgba(0,0,0,0.05)",cursor:"pointer",overflow:"hidden",transition:"all 0.2s ease",animation:`${P} 0.5s ease-out ${x}ms both`,"&:hover":{boxShadow:t.palette.mode==="dark"?"0 4px 12px rgba(0,0,0,0.3)":"0 2px 8px rgba(0,0,0,0.08), 0 8px 24px rgba(0,0,0,0.06)"}})),lt=b(i)(({theme:t})=>({display:"flex",alignItems:"center",gap:t.spacing(1.5),padding:t.spacing(1.5,2),borderRadius:8,backgroundColor:"transparent",border:"none",cursor:"pointer",transition:"all 0.15s ease","&:hover":{backgroundColor:t.palette.mode==="dark"?"rgba(255,255,255,0.04)":o[300],"& .action-arrow":{transform:"translateX(4px)",opacity:1},"& .action-icon":{color:t.palette.mode==="dark"?o[300]:o[1200]}}})),M=b(i,{shouldForwardProp:t=>!["completed","disabled"].includes(t)})(({theme:t,completed:g,disabled:x})=>({display:"flex",alignItems:"center",gap:t.spacing(2),padding:t.spacing(2),borderRadius:t.shape.borderRadius*1.5,backgroundColor:g?t.palette.mode==="dark"?s(t.palette.text.primary,.08):o[300]:s(t.palette.action.hover,.3),border:`1px solid ${g?t.palette.mode==="dark"?s(t.palette.text.primary,.15):o[500]:s(t.palette.divider,.1)}`,cursor:x?"not-allowed":"pointer",opacity:x?.5:1,transition:"all 0.2s ease",...!x&&!g&&{"&:hover":{backgroundColor:t.palette.mode==="dark"?s(t.palette.text.primary,.05):o[200],borderColor:t.palette.mode==="dark"?s(t.palette.text.primary,.15):o[500],transform:"translateX(4px)"}}})),ct=b(i,{shouldForwardProp:t=>t!=="status"})(({theme:t,status:g})=>{const x={completed:t.palette.mode==="dark"?o[1e3]:o[1100],running:t.palette.mode==="dark"?o[900]:o[1e3],pending:t.palette.mode==="dark"?o[600]:o[900],failed:t.palette.mode==="dark"?o[1100]:o[1200]};return{display:"flex",alignItems:"center",gap:t.spacing(2),padding:t.spacing(1.5,0),borderBottom:`1px solid ${s(t.palette.divider,.08)}`,transition:"all 0.15s ease",cursor:"pointer","&:last-child":{borderBottom:"none"},"&:hover":{backgroundColor:t.palette.mode==="dark"?s(t.palette.text.primary,.02):o[200],paddingLeft:t.spacing(1),paddingRight:t.spacing(1),marginLeft:t.spacing(-1),marginRight:t.spacing(-1),borderRadius:t.shape.borderRadius,"& .job-arrow":{opacity:1,transform:"translateX(0)"}},"& .status-dot":{width:8,height:8,borderRadius:"50%",backgroundColor:x[g]||t.palette.grey[500],boxShadow:`0 0 8px ${s(x[g]||t.palette.grey[500],.3)}`}}}),dt=b(i)(({theme:t})=>({padding:t.spacing(2.5),borderRadius:t.shape.borderRadius*1.5,backgroundColor:t.palette.mode==="dark"?s(t.palette.background.paper,.4):s(t.palette.background.paper,.8),border:`1px solid ${s(t.palette.divider,.1)}`,cursor:"pointer",transition:"all 0.25s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:t.palette.mode==="dark"?`linear-gradient(135deg, ${s(t.palette.text.primary,.03)} 0%, transparent 50%)`:"linear-gradient(135deg, rgba(0,0,0,0.02) 0%, transparent 50%)",opacity:0,transition:"opacity 0.3s ease"},"&:hover":{transform:"translateY(-4px) scale(1.02)",boxShadow:t.palette.mode==="dark"?`0 12px 24px ${s(t.palette.common.black,.3)}`:"0 12px 24px rgba(0,0,0,0.08)",borderColor:t.palette.mode==="dark"?s(t.palette.text.primary,.15):o[500],"&::before":{opacity:1}}})),pt=b(i)(({theme:t})=>({display:"flex",alignItems:"flex-end",gap:4,height:50,padding:t.spacing(1,0)})),xt=b(i,{shouldForwardProp:t=>!["height","color","delay"].includes(t)})(({theme:t,height:g,color:x,delay:n=0})=>({flex:1,height:`${g}%`,minHeight:4,backgroundColor:x||(t.palette.mode==="dark"?o[1e3]:o[1100]),borderRadius:1,transition:"height 0.5s cubic-bezier(0.4, 0, 0.2, 1)",transitionDelay:`${n}ms`}));function z({title:t,value:g,subtitle:x,icon:n,color:$="inherit",onClick:p,trend:m,delay:u=0}){const h=ue();return e.jsx(it,{color:$,delay:u,onClick:p,children:e.jsxs(c,{direction:"row",alignItems:"flex-start",justifyContent:"space-between",children:[e.jsxs(i,{sx:{flex:1},children:[e.jsx(r,{sx:{color:h.palette.mode==="dark"?o[900]:o[800],fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em",fontSize:"0.6875rem"},children:t}),e.jsx(r,{sx:{fontWeight:600,fontSize:"1.5rem",mt:.5,mb:.5,color:h.palette.mode==="dark"?o[300]:o[1200]},children:g}),x&&e.jsx(r,{sx:{fontSize:"0.6875rem",color:h.palette.mode==="dark"?o[900]:o[700]},children:x}),m!==void 0&&e.jsxs(c,{direction:"row",alignItems:"center",spacing:.5,sx:{mt:.5},children:[m>=0?e.jsx(Ge,{sx:{fontSize:14,color:"text.secondary"}}):e.jsx(Je,{sx:{fontSize:14,color:"text.secondary"}}),e.jsxs(r,{sx:{fontWeight:600,fontSize:"0.75rem",color:"text.secondary"},children:[m>=0?"+":"",m,"%"]})]})]}),e.jsx(i,{className:"stat-icon",sx:{width:48,height:48,borderRadius:1,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:h.palette.mode==="dark"?"rgba(255,255,255,0.05)":o[300],color:h.palette.mode==="dark"?o[900]:o[700]},children:e.jsx(n,{sx:{fontSize:24}})})]})})}function mt(){const{execute:t}=he(),g=Fe(),x=Ee(),n=ue(),$=d.useRef(!1),p=d.useCallback((a,l,S={})=>g(a,{label:l,intent:{from:"dashboard",...S}}),[g]),m=R(a=>a.templates),u=R(a=>a.savedConnections),h=R(a=>a.activeConnection),[Y,be]=d.useState([]),[T,fe]=d.useState(null),[W,ye]=d.useState({templates:[],connections:[]}),[F,G]=d.useState([]),[j,J]=d.useState(!1),[I,X]=d.useState(!0),[je,q]=d.useState(!0),[K,Q]=d.useState(!1),[B,ke]=d.useState(()=>typeof window>"u"?!1:window.localStorage.getItem("neurareport_onboarding_dismissed")!=="true"),{celebrating:ve,celebrate:Z,onComplete:Se}=Qe(),ee=d.useRef(!1),E=d.useCallback(async(a=!1)=>{a?Q(!0):q(!0);try{const[l,S,$e,Te]=await Promise.all([De().catch(()=>null),Ae({limit:5}).catch(()=>({jobs:[]})),Oe().catch(()=>null),Le().catch(()=>({templates:[],connections:[]}))]);l?.templates&&R.setState({templates:l.templates}),l?.connections&&R.setState({savedConnections:l.connections}),be(S?.jobs||[]),fe($e),ye(Te),l||x.show("Failed to load some dashboard data. Try refreshing.","warning")}catch(l){console.error("Failed to fetch dashboard data:",l),x.show("Failed to load dashboard data. Please try again.","error")}finally{q(!1),Q(!1)}},[x]);d.useEffect(()=>{$.current||($.current=!0,E())},[E]);const Ce=d.useCallback(()=>t({type:O.EXECUTE,label:"Refresh dashboard",reversibility:A.FULLY_REVERSIBLE,suppressSuccessToast:!0,intent:{source:"dashboard"},action:()=>E(!0)}),[t,E]),D=d.useCallback(async()=>{if(!j){J(!0);try{const a=await at(),l=a?.catalog||a?.templates||a?.recommendations||[];G(l.slice(0,4)),X(!0)}catch{const a=m.slice(0,4).map(l=>({id:l.id,name:l.name,description:l.description||`${l.kind?.toUpperCase()||"PDF"} design`,kind:l.kind,matchScore:.85}));G(a),X(!1)}finally{J(!1)}}},[j,m]),te=d.useCallback(()=>t({type:O.EXECUTE,label:"Refresh recommendations",reversibility:A.FULLY_REVERSIBLE,suppressSuccessToast:!0,intent:{source:"dashboard",recFromAI:I},action:D}),[t,D,I]),we=d.useCallback(()=>t({type:O.EXECUTE,label:"Open command palette",reversibility:A.FULLY_REVERSIBLE,suppressSuccessToast:!0,suppressErrorToast:!0,intent:{source:"dashboard"},action:()=>{typeof window>"u"||window.dispatchEvent(new CustomEvent("neura:open-command-palette"))}}),[t]);d.useEffect(()=>{F.length===0&&m.length>0&&!j&&D()},[m.length,F.length,j,D]);const f=T?.summary||{},y=T?.metrics||{},ae=T?.topTemplates||[],N=T?.jobsTrend||[],Ie=B&&(m.length===0||u.length===0),oe=u.length>0&&m.length>0&&(y.jobsToday??0)>0;d.useEffect(()=>{oe&&B&&!ee.current&&(ee.current=!0,Z())},[oe,B,Z]);const Re=d.useCallback(()=>t({type:O.UPDATE,label:"Dismiss onboarding",reversibility:A.FULLY_REVERSIBLE,suppressSuccessToast:!0,suppressErrorToast:!0,intent:{source:"dashboard"},action:()=>{ke(!1),typeof window<"u"&&window.localStorage.setItem("neurareport_onboarding_dismissed","true")}}),[t]),ze=Math.max(...N.map(a=>a.total||0),1);return e.jsxs(rt,{children:[e.jsx(Ze,{trigger:ve,onComplete:Se}),e.jsxs(c,{direction:{xs:"column",md:"row"},alignItems:{xs:"stretch",md:"center"},justifyContent:"space-between",spacing:3,sx:{mb:4},children:[e.jsxs(i,{sx:{animation:`${P} 0.4s ease-out`},children:[e.jsx(r,{sx:{fontFamily:Pe,fontWeight:500,fontSize:"24px",lineHeight:"normal",letterSpacing:0,mb:.5,color:n.palette.mode==="dark"?o[300]:o[1200]},children:"Welcome back"}),e.jsx(r,{variant:"body2",color:"text.secondary",children:"Generate intelligent reports from your data with AI-powered insights"})]}),e.jsxs(c,{direction:"row",spacing:1.5,sx:{animation:`${P} 0.5s ease-out 100ms both`},children:[e.jsx(se,{title:"Press ⌘K for quick actions",children:e.jsx(ne,{onClick:we,"aria-label":"Open command palette",sx:{border:`1px solid ${s(n.palette.divider,.1)}`,bgcolor:s(n.palette.background.paper,.5),backdropFilter:"blur(8px)"},children:e.jsx(tt,{sx:{fontSize:18}})})}),e.jsx(ne,{onClick:Ce,disabled:K,sx:{border:`1px solid ${s(n.palette.divider,.1)}`,bgcolor:s(n.palette.background.paper,.5),backdropFilter:"blur(8px)"},children:e.jsx(Be,{sx:{fontSize:20,animation:K?`${nt} 1s linear infinite`:"none"}})}),e.jsx(k,{variant:"contained",startIcon:e.jsx(Ne,{}),onClick:()=>p("/setup/wizard","Open setup wizard"),sx:{px:3,py:1,borderRadius:"8px",fontWeight:500,fontSize:"0.875rem",boxShadow:"none","&:hover":{boxShadow:"none"}},children:"New Report"})]})]}),e.jsx(et,{dense:!0,showChips:!1,sx:{mb:3}}),e.jsx(Ue,{in:Ie,children:e.jsx(v,{sx:{mb:4,background:n.palette.mode==="dark"?`linear-gradient(135deg, ${s(n.palette.text.primary,.05)} 0%, ${s(n.palette.background.paper,.6)} 100%)`:void 0,animation:`${st} 3s ease-in-out infinite`},children:e.jsxs(c,{direction:{xs:"column",md:"row"},spacing:3,children:[e.jsx(i,{sx:{width:{xs:"100%",md:64},height:64,borderRadius:1,background:n.palette.mode==="dark"?o[1100]:o[1200],display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsx(Me,{sx:{fontSize:32,color:"white"}})}),e.jsxs(i,{sx:{flex:1},children:[e.jsx(r,{variant:"h6",fontWeight:700,gutterBottom:!0,children:"Welcome! Let's create your first report"}),e.jsx(r,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Complete these quick steps to get started with NeuraReport"}),e.jsxs(c,{spacing:1.5,children:[e.jsxs(M,{completed:u.length>0,onClick:()=>p("/connections","Open connections"),children:[u.length>0?e.jsx(U,{sx:{fontSize:24,color:"text.secondary"}}):e.jsx(H,{sx:{fontSize:24,color:"text.secondary"}}),e.jsxs(i,{sx:{flex:1},children:[e.jsx(r,{variant:"subtitle2",fontWeight:600,children:"Add a data source"}),e.jsx(r,{variant:"caption",color:"text.secondary",children:"Connect to where your data lives (database, spreadsheet)"})]}),u.length>0&&e.jsx(C,{label:"Done",size:"small",sx:{fontWeight:600,bgcolor:a=>a.palette.mode==="dark"?s(a.palette.text.primary,.1):o[300],color:"text.secondary"}})]}),e.jsxs(M,{completed:m.length>0,onClick:()=>p("/templates","Open templates"),children:[m.length>0?e.jsx(U,{sx:{fontSize:24,color:"text.secondary"}}):e.jsx(H,{sx:{fontSize:24,color:"text.secondary"}}),e.jsxs(i,{sx:{flex:1},children:[e.jsx(r,{variant:"subtitle2",fontWeight:600,children:"Add a report design"}),e.jsx(r,{variant:"caption",color:"text.secondary",children:"Upload a PDF or Excel design that shows how reports should look"})]}),m.length>0&&e.jsx(C,{label:"Done",size:"small",sx:{fontWeight:600,bgcolor:a=>a.palette.mode==="dark"?s(a.palette.text.primary,.1):o[300],color:"text.secondary"}})]}),e.jsxs(M,{completed:(y.jobsToday??0)>0,disabled:u.length===0||m.length===0,onClick:()=>{u.length>0&&m.length>0&&p("/reports","Open reports")},children:[(y.jobsToday??0)>0?e.jsx(U,{sx:{fontSize:24,color:"text.secondary"}}):e.jsx(H,{sx:{fontSize:24,color:"text.secondary"}}),e.jsxs(i,{sx:{flex:1},children:[e.jsx(r,{variant:"subtitle2",fontWeight:600,children:"Create your first report"}),e.jsx(r,{variant:"caption",color:"text.secondary",children:"Generate a report using your data and design"})]}),(y.jobsToday??0)>0&&e.jsx(C,{label:"Done",size:"small",sx:{fontWeight:600,bgcolor:a=>a.palette.mode==="dark"?s(a.palette.text.primary,.1):o[300],color:"text.secondary"}})]})]}),e.jsxs(c,{direction:"row",spacing:1.5,sx:{mt:3},children:[e.jsx(k,{variant:"contained",onClick:()=>p("/setup/wizard","Open setup wizard"),startIcon:e.jsx(Ye,{}),sx:{borderRadius:1},children:"Run Setup Wizard"}),e.jsx(k,{variant:"text",onClick:Re,sx:{color:"text.secondary"},children:"Dismiss"})]})]})]})})}),e.jsxs(i,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",lg:"repeat(5, 1fr)"},gap:2.5,mb:4},children:[e.jsx(z,{title:"Connections",value:f.totalConnections??u.length,subtitle:`${f.activeConnections??0} active`,icon:L,onClick:()=>p("/connections","Open connections"),delay:0}),e.jsx(z,{title:"Templates",value:f.totalTemplates??m.length,subtitle:`${f.pdfTemplates??0} PDF, ${f.excelTemplates??0} Excel`,icon:_,onClick:()=>p("/templates","Open templates"),delay:50}),e.jsx(z,{title:"Jobs Today",value:y.jobsToday??0,subtitle:`${y.jobsThisWeek??0} this week`,icon:re,onClick:()=>p("/jobs","Open jobs"),delay:100}),e.jsx(z,{title:"Success Rate",value:`${y.successRate??0}%`,subtitle:`${f.completedJobs??0} completed`,icon:qe,onClick:()=>p("/stats","Open usage stats"),trend:y.successRateTrend,delay:150}),e.jsx(z,{title:"Schedules",value:f.totalSchedules??0,subtitle:`${f.activeSchedules??0} active`,icon:ie,onClick:()=>p("/schedules","Open schedules"),delay:200})]}),e.jsxs(i,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",lg:"320px 1fr 300px"},gap:3},children:[e.jsxs(v,{sx:{animationDelay:"200ms"},children:[e.jsx(r,{variant:"subtitle1",fontWeight:700,sx:{mb:2.5},children:"Quick Actions"}),e.jsx(c,{spacing:1,children:[{label:"Manage Connections",icon:L,path:"/connections"},{label:"Report Designs",icon:_,path:"/templates"},{label:"Run Reports",icon:_e,path:"/reports"},{label:"Manage Schedules",icon:ie,path:"/schedules"}].map(a=>e.jsxs(lt,{onClick:()=>p(a.path,`Open ${a.label}`),children:[e.jsx(a.icon,{className:"action-icon",sx:{fontSize:20,color:"text.secondary",transition:"color 0.2s ease"}}),e.jsx(r,{variant:"body2",fontWeight:500,sx:{flex:1},children:a.label}),e.jsx(de,{className:"action-arrow",sx:{fontSize:16,color:"text.tertiary",opacity:0,transform:"translateX(-4px)",transition:"all 0.2s ease"}})]},a.path))}),N.length>0&&e.jsxs(i,{sx:{mt:4},children:[e.jsx(r,{variant:"caption",fontWeight:600,color:"text.secondary",sx:{textTransform:"uppercase",letterSpacing:"0.05em"},children:"Jobs This Week"}),e.jsx(pt,{sx:{mt:1},children:N.map((a,l)=>e.jsx(se,{title:`${a.label}: ${a.total} jobs`,arrow:!0,children:e.jsxs(i,{sx:{flex:1,display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx(xt,{height:Math.max(10,a.total/ze*100),color:a.failed>0?n.palette.mode==="dark"?o[1100]:o[1200]:n.palette.mode==="dark"?o[1e3]:o[1100],delay:l*50}),e.jsx(r,{variant:"caption",sx:{fontSize:"0.55rem",color:"text.tertiary",mt:.5},children:a.label})]})},l))})]})]}),e.jsxs(v,{sx:{animationDelay:"250ms"},children:[e.jsxs(c,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{mb:2},children:[e.jsx(r,{variant:"subtitle1",fontWeight:700,children:"Recent Jobs"}),e.jsx(k,{size:"small",onClick:()=>p("/jobs","Open jobs"),sx:{fontWeight:600,fontSize:"0.75rem"},children:"View All"})]}),je?e.jsx(c,{spacing:1.5,children:[1,2,3,4,5].map(a=>e.jsx(i,{sx:{height:48,borderRadius:1.5,background:`linear-gradient(90deg, ${s(n.palette.action.hover,.5)} 25%, ${s(n.palette.action.hover,.8)} 50%, ${s(n.palette.action.hover,.5)} 75%)`,backgroundSize:"200% 100%",animation:`${me} 1.5s ease-in-out infinite`}},a))}):Y.length===0?e.jsxs(i,{sx:{py:6,textAlign:"center"},children:[e.jsx(i,{sx:{width:64,height:64,borderRadius:"50%",bgcolor:n.palette.mode==="dark"?s(n.palette.text.primary,.08):o[300],display:"flex",alignItems:"center",justifyContent:"center",mx:"auto",mb:2},children:e.jsx(re,{sx:{fontSize:28,color:"text.secondary"}})}),e.jsx(r,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"No jobs yet. Run your first report to get started."}),e.jsx(k,{variant:"outlined",size:"small",onClick:()=>p("/setup/wizard","Open setup wizard"),sx:{borderRadius:1},children:"Run First Report"})]}):e.jsx(c,{children:Y.slice(0,5).map((a,l)=>e.jsx(le,{in:!0,timeout:300+l*100,children:e.jsxs(ct,{status:a.status,onClick:()=>p("/jobs","Open jobs",{jobId:a.id}),children:[e.jsx(i,{className:"status-dot"}),e.jsxs(i,{sx:{flex:1,minWidth:0},children:[e.jsx(r,{variant:"body2",fontWeight:600,noWrap:!0,children:a.template_name||a.templateName||a.template_id?.slice(0,12)}),e.jsx(r,{variant:"caption",color:"text.tertiary",children:new Date(a.created_at||a.createdAt).toLocaleString()})]}),e.jsx(C,{label:a.status,size:"small",sx:{height:24,fontWeight:600,textTransform:"capitalize",fontSize:"0.7rem",bgcolor:S=>S.palette.mode==="dark"?s(S.palette.text.primary,.1):o[300],color:"text.secondary"}}),e.jsx(de,{className:"job-arrow",sx:{fontSize:16,color:"text.tertiary",opacity:0,transform:"translateX(-4px)",transition:"all 0.2s ease"}})]})},a.id))})]}),e.jsxs(c,{spacing:3,children:[e.jsxs(v,{sx:{animationDelay:"300ms"},children:[e.jsxs(c,{direction:"row",alignItems:"center",spacing:1,sx:{mb:2},children:[e.jsx(Ke,{sx:{fontSize:18,color:"text.secondary"}}),e.jsx(r,{variant:"subtitle2",fontWeight:700,children:"Top Designs"})]}),ae.length===0?e.jsx(r,{variant:"body2",color:"text.secondary",children:"No design usage data yet"}):e.jsx(c,{spacing:1.5,children:ae.slice(0,4).map((a,l)=>e.jsxs(c,{direction:"row",alignItems:"center",spacing:1.5,onClick:()=>p(`/reports?template=${a.id}`,"Open reports",{templateId:a.id}),sx:{cursor:"pointer",p:1,mx:-1,borderRadius:1.5,transition:"all 0.15s ease","&:hover":{bgcolor:n.palette.mode==="dark"?s(n.palette.text.primary,.05):o[300]}},children:[e.jsx(V,{sx:{width:32,height:32,bgcolor:n.palette.mode==="dark"?s(n.palette.text.primary,.08):o[300],fontSize:"0.75rem"},children:a.kind==="excel"?e.jsx(ce,{sx:{fontSize:16,color:"text.secondary"}}):e.jsx(pe,{sx:{fontSize:16,color:"text.secondary"}})}),e.jsxs(i,{sx:{flex:1,minWidth:0},children:[e.jsx(r,{variant:"body2",fontWeight:600,noWrap:!0,children:a.name}),e.jsxs(r,{variant:"caption",color:"text.tertiary",children:[a.runCount," runs"]})]})]},a.id))})]}),e.jsxs(v,{sx:{animationDelay:"350ms"},children:[e.jsxs(c,{direction:"row",alignItems:"center",spacing:1,sx:{mb:2},children:[e.jsx(Xe,{sx:{fontSize:18,color:"text.secondary"}}),e.jsx(r,{variant:"subtitle2",fontWeight:700,children:"Favorites"})]}),W.templates.length===0&&W.connections.length===0?e.jsx(r,{variant:"body2",color:"text.secondary",children:"No favorites yet. Star designs or connections for quick access."}):e.jsxs(c,{spacing:1,children:[W.templates.slice(0,3).map(a=>e.jsxs(c,{direction:"row",alignItems:"center",spacing:1,sx:{cursor:"pointer",p:.75,mx:-.75,borderRadius:1,"&:hover":{bgcolor:s(n.palette.action.hover,.5)}},onClick:()=>p(`/reports?template=${a.id}`,"Open reports",{templateId:a.id}),children:[e.jsx(_,{sx:{fontSize:16,color:"text.secondary"}}),e.jsx(r,{variant:"body2",noWrap:!0,sx:{flex:1},children:a.name})]},a.id)),W.connections.slice(0,2).map(a=>e.jsxs(c,{direction:"row",alignItems:"center",spacing:1,sx:{cursor:"pointer",p:.75,mx:-.75,borderRadius:1,"&:hover":{bgcolor:s(n.palette.action.hover,.5)}},onClick:()=>p("/connections","Open connections"),children:[e.jsx(L,{sx:{fontSize:16,color:"text.secondary"}}),e.jsx(r,{variant:"body2",noWrap:!0,sx:{flex:1},children:a.name})]},a.id))]})]})]})]}),e.jsxs(v,{sx:{mt:4,background:n.palette.mode==="dark"?`linear-gradient(135deg, ${s(n.palette.text.primary,.04)} 0%, ${s(n.palette.background.paper,.6)} 100%)`:void 0,animationDelay:"400ms"},children:[e.jsxs(c,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{mb:3},children:[e.jsxs(c,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(i,{sx:{width:44,height:44,borderRadius:1,background:n.palette.mode==="dark"?o[1100]:o[1200],display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Ve,{sx:{fontSize:22,color:"white"}})}),e.jsxs(i,{children:[e.jsx(r,{variant:"subtitle1",fontWeight:700,children:I?"AI Recommendations":"Recent Designs"}),e.jsx(r,{variant:"caption",color:"text.secondary",children:I?"Smart design suggestions based on your data":"Showing your recent designs (AI unavailable)"})]})]}),e.jsx(k,{size:"small",startIcon:e.jsx(xe,{sx:{fontSize:16}}),onClick:te,disabled:j,sx:{fontWeight:600},children:j?"Loading...":I?"Refresh":"Try AI Again"})]}),j?e.jsx(i,{sx:{height:120,borderRadius:1,background:`linear-gradient(90deg, ${s(n.palette.action.hover,.5)} 25%, ${s(n.palette.action.hover,.8)} 50%, ${s(n.palette.action.hover,.5)} 75%)`,backgroundSize:"200% 100%",animation:`${me} 1.5s ease-in-out infinite`}}):F.length===0?e.jsxs(i,{sx:{py:4,textAlign:"center"},children:[e.jsx(i,{sx:{width:64,height:64,borderRadius:"50%",bgcolor:n.palette.mode==="dark"?s(n.palette.text.primary,.08):o[300],display:"flex",alignItems:"center",justifyContent:"center",mx:"auto",mb:2},children:e.jsx(xe,{sx:{fontSize:28,color:"text.secondary"}})}),e.jsx(r,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"No recommendations yet"}),e.jsx(k,{variant:"outlined",size:"small",onClick:te,sx:{borderRadius:1},children:"Get AI Recommendations"})]}):e.jsx(i,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",md:"repeat(4, 1fr)"},gap:2},children:F.map((a,l)=>e.jsx(le,{in:!0,timeout:400+l*100,children:e.jsxs(dt,{onClick:()=>p(`/reports?template=${a.id}`,"Open reports",{templateId:a.id}),children:[e.jsxs(c,{direction:"row",alignItems:"center",spacing:1,sx:{mb:1.5},children:[e.jsx(V,{sx:{width:28,height:28,bgcolor:n.palette.mode==="dark"?s(n.palette.text.primary,.08):o[300]},children:a.kind==="excel"?e.jsx(ce,{sx:{fontSize:14,color:"text.secondary"}}):e.jsx(pe,{sx:{fontSize:14,color:"text.secondary"}})}),a.matchScore&&e.jsx(C,{label:`${Math.round((a.matchScore||0)*100)}% match`,size:"small",sx:{height:20,fontSize:"0.6rem",fontWeight:600,bgcolor:n.palette.mode==="dark"?s(n.palette.text.primary,.1):o[300],color:"text.secondary"}})]}),e.jsx(r,{variant:"body2",fontWeight:600,noWrap:!0,sx:{mb:.5},children:a.name}),e.jsx(r,{variant:"caption",color:"text.secondary",sx:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",lineHeight:1.4},children:a.description})]})},a.id))})]}),h&&e.jsx(He,{in:!0,children:e.jsx(v,{sx:{mt:3,animationDelay:"450ms"},children:e.jsxs(c,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(V,{sx:{width:48,height:48,bgcolor:n.palette.mode==="dark"?s(n.palette.text.primary,.08):o[300]},children:e.jsx(L,{sx:{color:"text.secondary"}})}),e.jsxs(i,{sx:{flex:1},children:[e.jsxs(r,{variant:"subtitle2",fontWeight:700,children:["Connected to ",h.name]}),e.jsxs(r,{variant:"caption",color:"text.secondary",children:[h.db_type,h.summary&&` • ${h.summary}`]})]}),e.jsx(C,{label:"Active",size:"small",sx:{fontWeight:600,animation:`${ot} 2s ease-in-out infinite`,bgcolor:a=>a.palette.mode==="dark"?s(a.palette.text.primary,.1):o[300],color:"text.secondary"}})]})})})]})}function Rt(){return he(),e.jsx(mt,{})}export{Rt as default};
