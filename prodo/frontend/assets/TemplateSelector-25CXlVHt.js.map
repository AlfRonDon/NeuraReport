{"version":3,"file":"TemplateSelector-25CXlVHt.js","sources":["../../src/components/common/TemplateSelector.jsx"],"sourcesContent":["/**\n * TemplateSelector â€“ Reusable report template picker.\n *\n * Reads approved templates from useAppStore and lets the user pick one.\n * Can be dropped into any feature page that needs template context.\n */\nimport React, { useMemo } from 'react'\nimport {\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  Typography,\n  Box,\n  Chip,\n  alpha,\n} from '@mui/material'\nimport DescriptionIcon from '@mui/icons-material/Description'\nimport { neutral, palette } from '@/app/theme'\nimport { useAppStore } from '@/stores'\n\nexport default function TemplateSelector({\n  value,\n  onChange,\n  label = 'Report Template',\n  size = 'small',\n  fullWidth = true,\n  disabled = false,\n  showAll = false,\n  sx = {},\n}) {\n  const templates = useAppStore((s) => s.templates)\n\n  const filtered = useMemo(\n    () => (showAll ? templates : templates.filter((t) => t.status === 'approved')),\n    [templates, showAll],\n  )\n\n  const labelId = `tpl-selector-label-${label.replace(/\\s/g, '-')}`\n\n  return (\n    <FormControl fullWidth={fullWidth} size={size} disabled={disabled} sx={sx}>\n      <InputLabel id={labelId}>{label}</InputLabel>\n      <Select\n        value={value || ''}\n        label={label}\n        labelId={labelId}\n        onChange={(e) => onChange(e.target.value)}\n        startAdornment={\n          <DescriptionIcon sx={{ mr: 1, color: 'text.secondary', fontSize: 20 }} />\n        }\n      >\n        {filtered.length === 0 && (\n          <MenuItem disabled value=\"\">\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              No templates available\n            </Typography>\n          </MenuItem>\n        )}\n        {filtered.map((tpl) => (\n          <MenuItem key={tpl.id} value={tpl.id}>\n            <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, width: '100%' }}>\n              <Typography variant=\"body2\" sx={{ flex: 1 }}>\n                {tpl.name || tpl.id}\n              </Typography>\n              {tpl.kind && (\n                <Chip\n                  size=\"small\"\n                  label={tpl.kind.toUpperCase()}\n                  sx={{\n                    height: 18,\n                    fontSize: '10px',\n                    bgcolor: (theme) =>\n                      theme.palette.mode === 'dark'\n                        ? alpha(theme.palette.text.primary, 0.08)\n                        : neutral[50],\n                    color: 'text.secondary',\n                  }}\n                />\n              )}\n            </Box>\n          </MenuItem>\n        ))}\n      </Select>\n    </FormControl>\n  )\n}\n"],"names":["TemplateSelector","value","onChange","label","size","fullWidth","disabled","showAll","sx","templates","useAppStore","s","filtered","useMemo","t","labelId","jsxs","FormControl","jsx","InputLabel","Select","DescriptionIcon","MenuItem","Typography","tpl","Box","Chip","theme","alpha","neutral"],"mappings":"4HAqBA,SAAwBA,EAAiB,CACvC,MAAAC,EACA,SAAAC,EACA,MAAAC,EAAQ,kBACR,KAAAC,EAAO,QACP,UAAAC,EAAY,GACZ,SAAAC,EAAW,GACX,QAAAC,EAAU,GACV,GAAAC,EAAK,CAAA,CACP,EAAG,CACD,MAAMC,EAAYC,EAAaC,GAAMA,EAAE,SAAS,EAE1CC,EAAWC,EAAAA,QACf,IAAON,EAAUE,EAAYA,EAAU,OAAQK,GAAMA,EAAE,SAAW,UAAU,EAC5E,CAACL,EAAWF,CAAO,CAAA,EAGfQ,EAAU,sBAAsBZ,EAAM,QAAQ,MAAO,GAAG,CAAC,GAE/D,OACEa,EAAAA,KAACC,EAAA,CAAY,UAAAZ,EAAsB,KAAAD,EAAY,SAAAE,EAAoB,GAAAE,EACjE,SAAA,CAAAU,EAAAA,IAACC,EAAA,CAAW,GAAIJ,EAAU,SAAAZ,EAAM,EAChCa,EAAAA,KAACI,EAAA,CACC,MAAOnB,GAAS,GAChB,MAAAE,EACA,QAAAY,EACA,SAAW,GAAMb,EAAS,EAAE,OAAO,KAAK,EACxC,eACEgB,EAAAA,IAACG,EAAA,CAAgB,GAAI,CAAE,GAAI,EAAG,MAAO,iBAAkB,SAAU,EAAA,CAAG,CAAG,EAGxE,SAAA,CAAAT,EAAS,SAAW,GACnBM,MAACI,EAAA,CAAS,SAAQ,GAAC,MAAM,GACvB,SAAAJ,EAAAA,IAACK,GAAW,QAAQ,QAAQ,MAAM,iBAAiB,kCAEnD,EACF,EAEDX,EAAS,IAAKY,SACZF,EAAA,CAAsB,MAAOE,EAAI,GAChC,SAAAR,EAAAA,KAACS,GAAI,GAAI,CAAE,QAAS,OAAQ,WAAY,SAAU,IAAK,EAAG,MAAO,MAAA,EAC/D,SAAA,CAAAP,EAAAA,IAACK,EAAA,CAAW,QAAQ,QAAQ,GAAI,CAAE,KAAM,CAAA,EACrC,SAAAC,EAAI,MAAQA,EAAI,EAAA,CACnB,EACCA,EAAI,MACHN,EAAAA,IAACQ,EAAA,CACC,KAAK,QACL,MAAOF,EAAI,KAAK,YAAA,EAChB,GAAI,CACF,OAAQ,GACR,SAAU,OACV,QAAUG,GACRA,EAAM,QAAQ,OAAS,OACnBC,EAAMD,EAAM,QAAQ,KAAK,QAAS,GAAI,EACtCE,EAAQ,EAAE,EAChB,MAAO,gBAAA,CACT,CAAA,CACF,EAEJ,CAAA,EApBaL,EAAI,EAqBnB,CACD,CAAA,CAAA,CAAA,CACH,EACF,CAEJ"}