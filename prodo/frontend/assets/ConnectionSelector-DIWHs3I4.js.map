{"version":3,"file":"ConnectionSelector-DIWHs3I4.js","sources":["../../src/components/common/ConnectionSelector.jsx"],"sourcesContent":["/**\n * ConnectionSelector â€“ Reusable database connection picker.\n *\n * Reads saved connections from useAppStore and lets the user pick one.\n * Can be dropped into any feature page that operates on a database.\n */\nimport React from 'react'\nimport {\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  Typography,\n  Box,\n  Chip,\n  alpha,\n} from '@mui/material'\nimport StorageIcon from '@mui/icons-material/Storage'\nimport { neutral, palette } from '@/app/theme'\nimport { useAppStore } from '@/stores'\n\nexport default function ConnectionSelector({\n  value,\n  onChange,\n  label = 'Database Connection',\n  size = 'small',\n  fullWidth = true,\n  disabled = false,\n  showStatus = false,\n  sx = {},\n}) {\n  const connections = useAppStore((s) => s.savedConnections)\n  const labelId = `conn-selector-label-${label.replace(/\\s/g, '-')}`\n\n  return (\n    <FormControl fullWidth={fullWidth} size={size} disabled={disabled} sx={sx}>\n      <InputLabel id={labelId}>{label}</InputLabel>\n      <Select\n        value={value || ''}\n        label={label}\n        labelId={labelId}\n        onChange={(e) => onChange(e.target.value)}\n        startAdornment={<StorageIcon sx={{ mr: 1, color: 'text.secondary', fontSize: 20 }} />}\n      >\n        {connections.length === 0 && (\n          <MenuItem disabled value=\"\">\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              No connections available\n            </Typography>\n          </MenuItem>\n        )}\n        {connections.map((conn) => (\n          <MenuItem key={conn.id} value={conn.id}>\n            <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, width: '100%' }}>\n              <Typography variant=\"body2\" sx={{ flex: 1 }}>\n                {conn.name || conn.database_path || conn.id}\n              </Typography>\n              {showStatus && conn.status && (\n                <Chip\n                  size=\"small\"\n                  label={conn.status}\n                  sx={{\n                    height: 18,\n                    fontSize: '10px',\n                    bgcolor: (theme) =>\n                      theme.palette.mode === 'dark'\n                        ? alpha(theme.palette.text.primary, 0.1)\n                        : neutral[100],\n                    color: 'text.secondary',\n                  }}\n                />\n              )}\n              {conn.db_type && (\n                <Chip\n                  size=\"small\"\n                  label={conn.db_type}\n                  sx={{\n                    height: 18,\n                    fontSize: '10px',\n                    bgcolor: (theme) =>\n                      theme.palette.mode === 'dark'\n                        ? alpha(theme.palette.text.primary, 0.08)\n                        : neutral[50],\n                    color: 'text.secondary',\n                  }}\n                />\n              )}\n            </Box>\n          </MenuItem>\n        ))}\n      </Select>\n    </FormControl>\n  )\n}\n"],"names":["ConnectionSelector","value","onChange","label","size","fullWidth","disabled","showStatus","sx","connections","useAppStore","s","labelId","jsxs","FormControl","jsx","InputLabel","Select","StorageIcon","MenuItem","Typography","conn","Box","Chip","theme","alpha","neutral"],"mappings":"qHAqBA,SAAwBA,EAAmB,CACzC,MAAAC,EACA,SAAAC,EACA,MAAAC,EAAQ,sBACR,KAAAC,EAAO,QACP,UAAAC,EAAY,GACZ,SAAAC,EAAW,GACX,WAAAC,EAAa,GACb,GAAAC,EAAK,CAAA,CACP,EAAG,CACD,MAAMC,EAAcC,EAAaC,GAAMA,EAAE,gBAAgB,EACnDC,EAAU,uBAAuBT,EAAM,QAAQ,MAAO,GAAG,CAAC,GAEhE,OACEU,EAAAA,KAACC,EAAA,CAAY,UAAAT,EAAsB,KAAAD,EAAY,SAAAE,EAAoB,GAAAE,EACjE,SAAA,CAAAO,EAAAA,IAACC,EAAA,CAAW,GAAIJ,EAAU,SAAAT,EAAM,EAChCU,EAAAA,KAACI,EAAA,CACC,MAAOhB,GAAS,GAChB,MAAAE,EACA,QAAAS,EACA,SAAW,GAAMV,EAAS,EAAE,OAAO,KAAK,EACxC,eAAgBa,EAAAA,IAACG,EAAA,CAAY,GAAI,CAAE,GAAI,EAAG,MAAO,iBAAkB,SAAU,EAAA,CAAG,CAAG,EAElF,SAAA,CAAAT,EAAY,SAAW,GACtBM,MAACI,EAAA,CAAS,SAAQ,GAAC,MAAM,GACvB,SAAAJ,EAAAA,IAACK,GAAW,QAAQ,QAAQ,MAAM,iBAAiB,oCAEnD,EACF,EAEDX,EAAY,IAAKY,SACfF,EAAA,CAAuB,MAAOE,EAAK,GAClC,SAAAR,EAAAA,KAACS,GAAI,GAAI,CAAE,QAAS,OAAQ,WAAY,SAAU,IAAK,EAAG,MAAO,MAAA,EAC/D,SAAA,CAAAP,EAAAA,IAACK,EAAA,CAAW,QAAQ,QAAQ,GAAI,CAAE,KAAM,CAAA,EACrC,SAAAC,EAAK,MAAQA,EAAK,eAAiBA,EAAK,GAC3C,EACCd,GAAcc,EAAK,QAClBN,EAAAA,IAACQ,EAAA,CACC,KAAK,QACL,MAAOF,EAAK,OACZ,GAAI,CACF,OAAQ,GACR,SAAU,OACV,QAAUG,GACRA,EAAM,QAAQ,OAAS,OACnBC,EAAMD,EAAM,QAAQ,KAAK,QAAS,EAAG,EACrCE,EAAQ,GAAG,EACjB,MAAO,gBAAA,CACT,CAAA,EAGHL,EAAK,SACJN,EAAAA,IAACQ,EAAA,CACC,KAAK,QACL,MAAOF,EAAK,QACZ,GAAI,CACF,OAAQ,GACR,SAAU,OACV,QAAUG,GACRA,EAAM,QAAQ,OAAS,OACnBC,EAAMD,EAAM,QAAQ,KAAK,QAAS,GAAI,EACtCE,EAAQ,EAAE,EAChB,MAAO,gBAAA,CACT,CAAA,CACF,EAEJ,CAAA,EAnCaL,EAAK,EAoCpB,CACD,CAAA,CAAA,CAAA,CACH,EACF,CAEJ"}