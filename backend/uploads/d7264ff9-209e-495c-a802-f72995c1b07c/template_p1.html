<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>{report_title}</title>
<style>
@page { size: A4; margin: 14mm 14mm 16mm 16mm; }
* { box-sizing: border-box; }
body { font-family: "Times New Roman", Times, serif; font-size: 12pt; color: #000; margin: 0; }

.header-box { border: 1px solid #000; padding: 6mm; margin-top: 2mm; margin-bottom: 4mm; }
.header-grid { display: grid; grid-template-columns: 1fr 1fr; column-gap: 10mm; row-gap: 3mm; align-items: start; }
.kv-table { width: 100%; border-collapse: collapse; }
.kv-table td { padding: 0 0 2px 0; }
.kv-table td.label { white-space: nowrap; padding-right: 4mm; }
.kv-table td.sep { width: 3mm; text-align: center; }
.title-row { position: relative; text-align: center; margin-top: 2mm; }
.title-row .title { font-weight: bold; font-size: 18pt; }
.title-row .recipe { position: absolute; right: 0; top: 50%; transform: translateY(-50%); font-size: 12pt; white-space: nowrap; }
.rule { border-bottom: 1px solid #000; margin-top: 3mm; }

.main-table { width: 100%; border-collapse: collapse; table-layout: fixed; }
.main-table th, .main-table td { border: 1px solid #000; padding: 4px 6px; vertical-align: top; }
.main-table thead th { font-weight: bold; }
.col-sl { width: 7%; text-align: center; }
.col-name { width: 49%; }
.col-set, .col-ach, .col-err, .col-errp { width: 11%; }
.num { text-align: right; }
tfoot td { font-weight: bold; }

.footer { position: fixed; bottom: 8mm; left: 16mm; right: 16mm; display: flex; justify-content: space-between; font-size: 10pt; }

.batch-block { break-inside: avoid; page-break-inside: avoid; margin: 6mm 0; }
</style>
</head>
<body>

<div class="header-box">
  <div class="header-grid">
    <div>
      <table class="kv-table">
        <tr>
          <td class="label">Plant name</td><td class="sep">:</td><td>{plant_name}</td>
        </tr>
        <tr>
          <td class="label">Location</td><td class="sep">:</td><td>{location}</td>
        </tr>
        <tr>
          <td class="label">Print Date</td><td class="sep">:</td><td>{print_date}</td>
        </tr>
      </table>
    </div>
    <div>
      <table class="kv-table" style="float:right;">
        <tr>
          <td class="label">From Date</td><td class="sep">:</td><td>{from_date}</td>
        </tr>
        <tr>
          <td class="label">To Date</td><td class="sep">:</td><td>{to_date}</td>
        </tr>
      </table>
    </div>
  </div>

  <div class="title-row">
    <div class="title">{report_title}</div>
    <div class="recipe">Recipe code : {recipe_code}</div>
  </div>
  <div class="rule"></div>
</div>

<table class="main-table">
  <colgroup>
    <col class="col-sl">
    <col class="col-name">
    <col class="col-set">
    <col class="col-ach">
    <col class="col-err">
    <col class="col-errp">
  </colgroup>
  <thead>
    <tr>
      <th>Sl. No.</th>
      <th>Material name</th>
      <th>Set. wt(Kg)</th>
      <th>Ach. wt(Kg)</th>
      <th>Error(Kg)</th>
      <th>Error %</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td class="col-sl">{rows.sl}</td>
      <td class="col-name">{rows.name}</td>
      <td class="num">{rows.set}</td>
      <td class="num">{rows.ach}</td>
      <td class="num">{rows.err}</td>
      <td class="num">{rows.errp}</td>
    </tr>
  </tbody>
  <tfoot>
    <tr>
      <td colspan="2">Total</td>
      <td class="num">{totals_set_kg}</td>
      <td class="num">{totals_ach_kg}</td>
      <td class="num">{totals_err_kg}</td>
      <td class="num">{totals_err_pct}</td>
    </tr>
  </tfoot>
</table>

<div class="footer">
  <div>{company}</div>
  <div>Page {page_no} of {page_count}</div>
</div>

</body>
</html>