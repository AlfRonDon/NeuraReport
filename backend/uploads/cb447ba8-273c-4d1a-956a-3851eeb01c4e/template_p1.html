<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Batch report</title>
<style>
  @page { size: A4; margin: 12mm; }
  html, body { margin: 0; padding: 0; }
  body { font-family: "Times New Roman", Times, serif; font-size: 11pt; color: #000; }
  .page { width: 100%; }
  .top-kv { width: 100%; table-layout: fixed; border-collapse: collapse; }
  .top-kv td { vertical-align: top; padding: 2mm 0; }
  .kv { width: 100%; border-collapse: collapse; table-layout: fixed; }
  .kv td { padding: 0.8mm 0; }
  .kv td.label { width: 32mm; }
  .kv td.colon { width: 4mm; text-align: center; }
  .right-kv .kv td.label { width: 20mm; }
  .title { text-align: center; font-weight: 700; font-size: 20pt; margin: 2mm 0 3mm 0; }
  .print-row { border-bottom: 1px solid #000; padding: 1.5mm 0; margin-bottom: 3mm; }
  .print-row .label { font-weight: 700; }
  .batch-block { break-inside: avoid; page-break-inside: avoid; margin: 6mm 0; }
  .batch-head { border: 1px solid #000; padding: 2.5mm; }
  .cols { display: grid; grid-template-columns: 1.15fr 0.85fr; column-gap: 4mm; align-items: start; }
  .grid { width: 100%; border-collapse: collapse; table-layout: fixed; }
  .grid th, .grid td { border: 1px solid #000; padding: 1.6mm 2mm; }
  .grid th { font-weight: 700; text-align: center; }
  .num, .grid td.num { text-align: right; }
  .center { text-align: center; }
  .scale th, .scale td { text-align: center; }
  .totals td { font-weight: 700; }
  .footer { margin-top: 8mm; font-size: 10pt; display: flex; justify-content: space-between; }
</style>
</head>
<body>
<div class="page">

  <table class="top-kv">
    <tr>
      <td>
        <table class="kv">
          <tr><td class="label">Plant name</td><td class="colon">:</td><td>{plant}</td></tr>
          <tr><td class="label">Location</td><td class="colon">:</td><td>{location}</td></tr>
        </table>
      </td>
      <td style="width: 60mm;">
        <table class="kv right-kv">
          <tr><td class="label">Date</td><td class="colon">:</td><td>{report_date}</td></tr>
          <tr><td class="label">Recipe</td><td class="colon">:</td><td>{header_recipe}</td></tr>
          <tr><td class="label">Shift No</td><td class="colon">:</td><td>{header_shift}</td></tr>
        </table>
      </td>
    </tr>
  </table>

  <div class="title">Batch report</div>

  <div class="print-row">
    <span class="label">Print Date</span> : <span>{print_date}</span>
  </div>

  <!-- BEGIN:BLOCK_REPEAT batches -->
  <section class='batch-block'>
    <div class="batch-head">
      <div class="cols">
        <div>
          <table class="kv">
            <tr><td class="label">Batch No</td><td class="colon">:</td><td>{batch_no}</td></tr>
            <tr><td class="label">Batch Date</td><td class="colon">:</td><td>{batch_date}</td></tr>
            <tr><td class="label">Shift No</td><td class="colon">:</td><td>{shift_no}</td></tr>
            <tr><td class="label">Recipe Name</td><td class="colon">:</td><td>{recipe_name}</td></tr>
            <tr><td class="label">Recipe Code</td><td class="colon">:</td><td>{recipe_code}</td></tr>
            <tr><td class="label">Recipe No</td><td class="colon">:</td><td>{recipe_no}</td></tr>
          </table>
        </div>
        <div>
          <table class="grid scale">
            <colgroup>
              <col style="width:20%"><col style="width:40%"><col style="width:20%">
              <col style="width:20%"><col style="width:40%"><col style="width:20%">
            </colgroup>
            <thead>
              <tr>
                <th>Scale</th><th>Start time</th><th>Dur(sec)</th>
                <th>Scale</th><th>Start time</th><th>Dur(sec)</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>{scale1}</td><td>{scale1_start}</td><td class="num">{scale1_dur}</td>
                <td>{scale2}</td><td>{scale2_start}</td><td class="num">{scale2_dur}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <table class="grid" style="margin-top: 3mm;">
      <colgroup>
        <col style="width:8%">
        <col style="width:36%">
        <col style="width:12%">
        <col style="width:12%">
        <col style="width:12%">
        <col style="width:8%">
        <col style="width:12%">
      </colgroup>
      <thead>
        <tr>
          <th>Bin No</th>
          <th>Material Name</th>
          <th>Set wt(Kg)</th>
          <th>Ach wt(Kg)</th>
          <th>Error(Kg)</th>
          <th>Error %</th>
          <th>Dosine Dur (sec)</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td class="center">{rows.sl}</td>
          <td>{rows.name}</td>
          <td class="num">{rows.set}</td>
          <td class="num">{rows.ach}</td>
          <td class="num">{rows.err}</td>
          <td class="num">{rows.errp}</td>
          <td class="num"></td>
        </tr>
      </tbody>
      <tfoot>
        <tr class="totals">
          <td colspan="2" style="text-align:right;">Total :</td>
          <td class="num">{total_set}</td>
          <td class="num">{total_ach}</td>
          <td class="num">{total_err}</td>
          <td class="num">{total_errp}</td>
          <td class="num">{total_dose_dur}</td>
        </tr>
      </tfoot>
    </table>
  </section>
  <!-- END:BLOCK_REPEAT -->

  <div class="footer">
    <div>Indian Industrial Machines Pvt. Ltd.</div>
    <div>Page 1 of 29</div>
  </div>

</div>
</body>
</html>