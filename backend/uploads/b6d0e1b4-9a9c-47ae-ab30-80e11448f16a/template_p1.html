<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Batch report</title>
<style>
  @page { size: A4; margin: 12mm; }
  body { font-family: "Times New Roman", Georgia, serif; color:#000; font-size:12px; line-height:1.25; }
  .page { width: 100%; }
  .row { display:flex; justify-content:space-between; align-items:flex-start; }
  .muted { color:#000; }
  h1 { font-size:22px; text-align:center; margin: 6mm 0 4mm; font-weight:700; }
  .header { margin-bottom: 3mm; }
  .kv, .kv td { border:0; }
  .kv td.label { padding-right:3mm; white-space:nowrap; }
  .kv td.value { min-width:30mm; }
  .header .left, .header .right { width:48%; }
  .printline { border-top:1px solid #000; border-bottom:1px solid #000; padding: 2mm 0; margin-bottom: 4mm; }
  .printline .label { font-weight:700; }

  .batch-head { display:flex; justify-content:space-between; gap:6mm; margin-bottom: 2mm; }
  .batch-left { flex: 1 1 58%; }
  .batch-right { flex: 1 1 42%; }

  table { border-collapse: collapse; width:100%; table-layout: fixed; }
  .scale th, .scale td { border:1px solid #000; padding: 2mm 1.5mm; text-align:center; }
  .scale th { font-weight:700; }
  .materials th, .materials td { border:1px solid #000; padding: 1.8mm 1.5mm; }
  .materials th { font-weight:700; text-align:center; }
  .materials td.num, .materials th.num { text-align:right; }
  .materials td:first-child, .materials th:first-child { text-align:center; }

  .totals td { font-weight:700; }
  .totals td.label { text-align:right; padding-right:2mm; }

  /* Column sizing for materials table to mirror the PDF */
  .materials col.bin { width: 10%; }
  .materials col.name { width: 38%; }
  .materials col.set { width: 13.5%; }
  .materials col.ach { width: 13.5%; }
  .materials col.err { width: 10%; }
  .materials col.errp { width: 7.5%; }
  .materials col.dur { width: 7.5%; }

  .batch-block { break-inside: avoid; page-break-inside: avoid; margin: 6mm 0; }

  footer { position: fixed; left: 12mm; right: 12mm; bottom: 8mm; font-size:11px; }
  footer .row { align-items:center; }
  footer .center { text-align:center; flex:1; }

</style>
</head>
<body>
<div class="page">
  <div class="header">
    <div class="row">
      <div class="left">
        <table class="kv">
          <tr><td class="label"><b>Plant name</b> :</td><td class="value">{plant_name}</td></tr>
          <tr><td class="label"><b>Location</b> :</td><td class="value">{location}</td></tr>
        </table>
      </div>
      <div class="right">
        <table class="kv" style="float:right;">
          <tr><td class="label"><b>Date</b> :</td><td class="value">{report_date}</td></tr>
          <tr><td class="label"><b>Recipe</b> :</td><td class="value">{report_recipe}</td></tr>
          <tr><td class="label"><b>Shift No</b> :</td><td class="value">{report_shift_no}</td></tr>
        </table>
      </div>
    </div>
    <h1>Batch report</h1>
    <div class="printline">
      <span class="label">Print Date</span> : <span class="value">{print_date}</span>
    </div>
  </div>

  <!-- BEGIN:BLOCK_REPEAT batches -->
  <section class="batch-block">
    <div class="batch-head">
      <div class="batch-left">
        <table class="kv">
          <tr><td class="label"><b>Batch No</b> :</td><td class="value">032024-1650</td></tr>
          <tr><td class="label"><b>Batch Date</b> :</td><td class="value">24/03/2024</td></tr>
          <tr><td class="label"><b>Shift No</b> :</td><td class="value">1</td></tr>
          <tr><td class="label"><b>Recipe Name</b> :</td><td class="value">GANGADHAR-24</td></tr>
          <tr><td class="label"><b>Recipe Code</b> :</td><td class="value">GANGADHAR-2024</td></tr>
          <tr><td class="label"><b>Recipe No</b> :</td><td class="value">1</td></tr>
        </table>
      </div>
      <div class="batch-right">
        <table class="scale">
          <thead>
            <tr>
              <th>Scale</th><th>Start time</th><th>Dur(sec)</th>
              <th>Scale</th><th>Start time</th><th>Dur(sec)</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Main1</td><td>6:49:16</td><td class="num">441</td>
              <td></td><td></td><td></td>
            </tr>
            <tr>
              <td>Main2</td><td>6:49:19</td><td class="num">602</td>
              <td></td><td></td><td></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <table class="materials">
      <colgroup>
        <col class="bin"><col class="name"><col class="set"><col class="ach"><col class="err"><col class="errp"><col class="dur">
      </colgroup>
      <thead>
        <tr>
          <th>Bin No</th>
          <th>Material Name</th>
          <th class="num">Set wt(Kg)</th>
          <th class="num">Ach wt(Kg)</th>
          <th class="num">Error(Kg)</th>
          <th class="num">Error %</th>
          <th class="num">Dosine Dur (sec)</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>{sl}</td>
          <td>{name}</td>
          <td class="num">{set}</td>
          <td class="num">{ach}</td>
          <td class="num">{err}</td>
          <td class="num">{errp}</td>
          <td class="num"></td>
        </tr>
      </tbody>
      <tfoot>
        <tr class="totals">
          <td colspan="2" class="label">Total :</td>
          <td class="num">1,000.00</td>
          <td class="num">999.30</td>
          <td class="num">-0.70</td>
          <td class="num">-0.07</td>
          <td class="num">975</td>
        </tr>
      </tfoot>
    </table>
  </section>
  <!-- END:BLOCK_REPEAT -->

</div>

<footer>
  <div class="row">
    <div>Indian Industrial Machines Pvt. Ltd.</div>
    <div class="center">Page {page_no} of {page_total}</div>
    <div></div>
  </div>
</footer>
</body>
</html>