<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>{report_title}</title>
<style>
  @page { size: A4; margin: 12mm; }
  html, body { margin: 0; padding: 0; }
  body { font-family: "Times New Roman", serif; font-size: 12px; line-height: 1.35; color: #000; }

  .header { display: grid; grid-template-columns: 1fr auto; align-items: start; gap: 10mm; }
  .header .left, .header .right { font-size: 12px; }
  .header .left div, .header .right div { margin: 1mm 0; }
  .title { text-align: center; font-weight: bold; font-size: 22px; margin: 2mm 0 1mm; }
  .printline { border-top: 1px solid #000; border-bottom: 1px solid #000; padding: 2mm 3mm; margin: 2mm 0 4mm; font-weight: bold; }

  .kv { display: grid; grid-template-columns: max-content 1fr; column-gap: 3mm; row-gap: 1mm; }
  .kv .lab { white-space: nowrap; }
  .kv .val { white-space: nowrap; }

  /* All data tables per spec */
  table { border-collapse: collapse; table-layout: fixed; width: 100%; }
  th, td { border: 1px solid #000; padding: 2mm 2mm; vertical-align: middle; }
  th { font-weight: bold; text-align: left; }

  .num { text-align: right; }
  .center { text-align: center; }

  .batch-block { break-inside: avoid; page-break-inside: avoid; margin: 6mm 0; border: 1px solid #000; padding: 3mm; }
  .meta-row { display: grid; grid-template-columns: 1fr 58%; gap: 6mm; align-items: start; }
  .scale-wrap table { font-size: 12px; }
  .scale-wrap th { text-align: center; }
  .scale-wrap td { text-align: center; }

  .materials { margin-top: 3mm; }
  .materials th { text-align: center; }
  .materials td:nth-child(1) { text-align: right; }   /* Bin/Sl */
  .materials td:nth-child(3),
  .materials td:nth-child(4),
  .materials td:nth-child(5),
  .materials td:nth-child(6),
  .materials th:nth-child(3),
  .materials th:nth-child(4),
  .materials th:nth-child(5),
  .materials th:nth-child(6),
  .materials td:nth-child(7),
  .materials th:nth-child(7) { text-align: right; }
  .materials .total-row td { font-weight: bold; }
  .materials .total-label { text-align: right; }

  .footer { display: grid; grid-template-columns: 1fr auto; align-items: center; border-top: 1px solid #000; padding-top: 3mm; margin-top: 8mm; font-size: 12px; }
</style>
</head>
<body>

<section class="header">
  <div class="left">
    <div>Plant name  : {plant_name}</div>
    <div>Location    : {location}</div>
  </div>
  <div class="right">
    <div>Date&nbsp;&nbsp;: {date}</div>
    <div>Recipe : {header_recipe}</div>
    <div>Shift No : {header_shift_no}</div>
  </div>
</section>

<div class="title">{report_title}</div>

<div class="printline">Print Date &nbsp;: {print_date}</div>

<!-- BEGIN:BLOCK_REPEAT batches -->
<section class='batch-block'>

  <div class="meta-row">
    <div class="kv">
      <div class="lab">Batch No</div><div class="val">: 032024-1650</div>
      <div class="lab">Batch Date</div><div class="val">: 24/03/2024</div>
      <div class="lab">Shift No</div><div class="val">: 1</div>
      <div class="lab">Recipe Name</div><div class="val">: GANGADHAR-24</div>
      <div class="lab">Recipe Code</div><div class="val">: GANGADHAR-2024</div>
      <div class="lab">Recipe No</div><div class="val">: 1</div>
    </div>

    <div class="scale-wrap">
      <table>
        <colgroup>
          <col style="width:16%">
          <col style="width:24%">
          <col style="width:16%">
          <col style="width:16%">
          <col style="width:24%">
          <col style="width:16%">
        </colgroup>
        <thead>
          <tr>
            <th>Scale</th><th>Start time</th><th>Dur(sec)</th>
            <th>Scale</th><th>Start time</th><th>Dur(sec)</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Main1</td><td>6:49:16</td><td class="num">441</td>
            <td></td><td></td><td></td>
          </tr>
          <tr>
            <td>Main2</td><td>6:49:19</td><td class="num">602</td>
            <td></td><td></td><td></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="materials">
    <table>
      <colgroup>
        <col style="width:7%">
        <col style="width:40%">
        <col style="width:13%">
        <col style="width:13%">
        <col style="width:12%">
        <col style="width:8%">
        <col style="width:7%">
      </colgroup>
      <thead>
        <tr>
          <th>Bin No</th>
          <th>Material Name</th>
          <th>Set wt(Kg)</th>
          <th>Ach wt(Kg)</th>
          <th>Error(Kg)</th>
          <th>Error %</th>
          <th>Dosine Dur (sec)</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td class="num">{sl}</td>
          <td>{name}</td>
          <td class="num">{set}</td>
          <td class="num">{ach}</td>
          <td class="num">{err}</td>
          <td class="num">{errp}</td>
          <td class="num"></td>
        </tr>
      </tbody>
      <tfoot>
        <tr class="total-row">
          <td colspan="2" class="total-label">Total :</td>
          <td class="num">{set}</td>
          <td class="num">{ach}</td>
          <td class="num">{err}</td>
          <td class="num">{errp}</td>
          <td class="num">975</td>
        </tr>
      </tfoot>
    </table>
  </div>

</section>
<!-- END:BLOCK_REPEAT -->

<div class="footer">
  <div>{publisher}</div>
  <div>Page {page_no} of {page_count}</div>
</div>

</body>
</html>