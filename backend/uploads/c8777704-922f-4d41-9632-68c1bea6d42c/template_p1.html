<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>{report_title}</title>
<style>
  @page { size: A4; margin: 12mm 15mm; }
  html, body { height: 100%; }
  body {
    font-family: "Times New Roman", serif;
    font-size: 11pt;
    color: #000;
    margin: 0;
    padding: 15mm 15mm 25mm 15mm;
    background: #fff;
  }

  .top-box {
    border: 1px solid #000;
    padding: 6pt 8pt 8pt 8pt;
    margin-bottom: 6mm;
    break-inside: avoid;
    page-break-inside: avoid;
  }
  .top-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 6mm;
    align-items: end;
  }
  .kv {
    line-height: 1.35;
  }
  .kv .label { display: inline-block; min-width: 27mm; }
  .title {
    text-align: center;
    font-weight: 700;
    font-size: 18pt;
    margin: 2mm 0 1mm 0;
  }

  table.report {
    width: 100%;
    border-collapse: collapse;
    table-layout: fixed;
    margin-top: 2mm;
  }
  table.report th,
  table.report td {
    border: 1px solid #000;
    padding: 4pt 6pt;
    vertical-align: top;
  }
  table.report thead th {
    font-weight: 700;
    text-align: left;
  }
  .c { text-align: center; }
  .r { text-align: right; }
  .name { word-wrap: break-word; overflow-wrap: anywhere; }

  col.sl   { width: 8%; }
  col.name { width: 46%; }
  col.set  { width: 15%; }
  col.ach  { width: 15%; }
  col.err  { width: 8%; }
  col.errp { width: 8%; }

  tfoot td, tfoot th {
    font-weight: 700;
  }

  .footer {
    position: fixed;
    left: 15mm; right: 15mm; bottom: 10mm;
    font-size: 9pt;
    color: #000;
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    align-items: center;
  }
  .footer .left { text-align: left; }
  .footer .center { text-align: center; }
  .footer .right { text-align: right; }

  /* Repeatable block support */
  .batch-block { break-inside: avoid; page-break-inside: avoid; margin: 6mm 0; }
</style>
</head>
<body>

<div class="top-box">
  <div class="top-row">
    <div class="kv">
      <div><span class="label">Plant name</span> : {plant_name}</div>
      <div><span class="label">Location</span> : {location}</div>
    </div>
    <div class="kv r">
      <div>From Date: {from_date} &nbsp;&nbsp;&nbsp; To Date: {to_date}</div>
    </div>
  </div>

  <div class="title">{report_title}</div>

  <div class="top-row" style="margin-top: 1mm;">
    <div class="kv">
      <div><span class="label">Print Date</span> : {print_date}</div>
    </div>
    <div class="kv r">
      <div>Recipe code : {recipe_code}</div>
    </div>
  </div>
</div>

<table class="report">
  <colgroup>
    <col class="sl"><col class="name"><col class="set"><col class="ach"><col class="err"><col class="errp">
  </colgroup>
  <thead>
    <tr>
      <th class="c">Sl. No.</th>
      <th>Material name</th>
      <th class="r">Set. wt(Kg)</th>
      <th class="r">Ach. wt(Kg)</th>
      <th class="r">Error(Kg)</th>
      <th class="r">Error %</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td class="c">{rows.sl}</td>
      <td class="name">{rows.name}</td>
      <td class="r">{rows.set}</td>
      <td class="r">{rows.ach}</td>
      <td class="r">{rows.err}</td>
      <td class="r">{rows.errp}</td>
    </tr>
  </tbody>
  <tfoot>
    <tr>
      <th colspan="2">Total</th>
      <td class="r">{total_set_kg}</td>
      <td class="r">{total_ach_kg}</td>
      <td class="r">{total_err_kg}</td>
      <td class="r">{total_err_pct}</td>
    </tr>
  </tfoot>
</table>

<div class="footer">
  <div class="left">{company_name}</div>
  <div class="center">Page {page_no} of {page_count}</div>
  <div class="right"></div>
</div>

</body>
</html>